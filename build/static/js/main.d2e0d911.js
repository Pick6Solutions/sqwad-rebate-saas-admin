/*! For license information please see main.d2e0d911.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},45:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8587);function o(e,t){if(null==e)return{};var n,o,i=(0,r.A)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},64:function(e){e.exports=function(){"use strict";function e(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(t,n){return t.get(e(t,n))}function r(e,n,r){t(e,n),n.set(e,r)}function o(t,n,r){return t.set(e(t,n),r),r}const i=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},l=e=>new Promise(t=>{if(!e)return t();const n=window.scrollX,r=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),t()},i),window.scrollTo(n,r)}),c="swal2-",u=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((e,t)=>(e[t]=c+t,e),{}),d=["success","warning","info","question","error"].reduce((e,t)=>(e[t]=c+t,e),{}),h="SweetAlert2:",p=e=>e.charAt(0).toUpperCase()+e.slice(1),f=e=>{console.warn("".concat(h," ").concat("object"===typeof e?e.join(" "):e))},m=e=>{console.error("".concat(h," ").concat(e))},g=[],v=e=>{g.includes(e)||(g.push(e),f(e))},y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v('"'.concat(e,'" is deprecated and will be removed in the next major release.').concat(t?' Use "'.concat(t,'" instead.'):""))},b=e=>"function"===typeof e?e():e,w=e=>e&&"function"===typeof e.toPromise,x=e=>w(e)?e.toPromise():Promise.resolve(e),k=e=>e&&Promise.resolve(e)===e,_=()=>document.body.querySelector(".".concat(u.container)),C=e=>{const t=_();return t?t.querySelector(e):null},S=e=>C(".".concat(e)),E=()=>S(u.popup),T=()=>S(u.icon),A=()=>S(u["icon-content"]),D=()=>S(u.title),N=()=>S(u["html-container"]),O=()=>S(u.image),I=()=>S(u["progress-steps"]),P=()=>S(u["validation-message"]),j=()=>C(".".concat(u.actions," .").concat(u.confirm)),M=()=>C(".".concat(u.actions," .").concat(u.cancel)),R=()=>C(".".concat(u.actions," .").concat(u.deny)),F=()=>S(u["input-label"]),L=()=>C(".".concat(u.loader)),z=()=>S(u.actions),B=()=>S(u.footer),U=()=>S(u["timer-progress-bar"]),V=()=>S(u.close),H='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',q=()=>{const e=E();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((e,t)=>{const n=parseInt(e.getAttribute("tabindex")||"0"),r=parseInt(t.getAttribute("tabindex")||"0");return n>r?1:n<r?-1:0}),r=e.querySelectorAll(H),o=Array.from(r).filter(e=>"-1"!==e.getAttribute("tabindex"));return[...new Set(n.concat(o))].filter(e=>ue(e))},W=()=>$(document.body,u.shown)&&!$(document.body,u["toast-shown"])&&!$(document.body,u["no-backdrop"]),Y=()=>{const e=E();return!!e&&$(e,u.toast)},K=()=>{const e=E();return!!e&&e.hasAttribute("data-loading")},G=(e,t)=>{if(e.textContent="",t){const n=(new DOMParser).parseFromString(t,"text/html"),r=n.querySelector("head");r&&Array.from(r.childNodes).forEach(t=>{e.appendChild(t)});const o=n.querySelector("body");o&&Array.from(o.childNodes).forEach(t=>{t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)})}},$=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},Q=(e,t)=>{Array.from(e.classList).forEach(n=>{Object.values(u).includes(n)||Object.values(d).includes(n)||Object.values(t.showClass||{}).includes(n)||e.classList.remove(n)})},J=(e,t,n)=>{if(Q(e,t),!t.customClass)return;const r=t.customClass[n];r&&("string"===typeof r||r.forEach?te(e,r):f("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof r,'"')))},X=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(u.popup," > .").concat(u[t]));case"checkbox":return e.querySelector(".".concat(u.popup," > .").concat(u.checkbox," input"));case"radio":return e.querySelector(".".concat(u.popup," > .").concat(u.radio," input:checked"))||e.querySelector(".".concat(u.popup," > .").concat(u.radio," input:first-child"));case"range":return e.querySelector(".".concat(u.popup," > .").concat(u.range," input"));default:return e.querySelector(".".concat(u.popup," > .").concat(u.input))}},Z=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},ee=(e,t,n)=>{e&&t&&("string"===typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(t=>{Array.isArray(e)?e.forEach(e=>{n?e.classList.add(t):e.classList.remove(t)}):n?e.classList.add(t):e.classList.remove(t)}))},te=(e,t)=>{ee(e,t,!0)},ne=(e,t)=>{ee(e,t,!1)},re=(e,t)=>{const n=Array.from(e.children);for(let r=0;r<n.length;r++){const e=n[r];if(e instanceof HTMLElement&&$(e,t))return e}},oe=(e,t,n)=>{n==="".concat(parseInt("".concat(n)))&&(n=parseInt(n)),n||0===parseInt("".concat(n))?e.style.setProperty(t,"number"===typeof n?"".concat(n,"px"):n):e.style.removeProperty(t)},ie=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},se=e=>{e&&(e.style.display="none")},ae=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";e&&new MutationObserver(()=>{ce(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},le=(e,t,n,r)=>{const o=e.querySelector(t);o&&o.style.setProperty(n,r)},ce=function(e,t){t?ie(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):se(e)},ue=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),de=()=>!ue(j())&&!ue(R())&&!ue(M()),he=e=>!!(e.scrollHeight>e.clientHeight),pe=(e,t)=>{let n=e;for(;n&&n!==t;){if(he(n))return!0;n=n.parentElement}return!1},fe=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},me=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=U();n&&ue(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"},10))},ge=()=>{const e=U();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width="".concat(n,"%")},ve=()=>"undefined"===typeof window||"undefined"===typeof document,ye='\n <div aria-labelledby="'.concat(u.title,'" aria-describedby="').concat(u["html-container"],'" class="').concat(u.popup,'" tabindex="-1">\n   <button type="button" class="').concat(u.close,'"></button>\n   <ul class="').concat(u["progress-steps"],'"></ul>\n   <div class="').concat(u.icon,'"></div>\n   <img class="').concat(u.image,'" />\n   <h2 class="').concat(u.title,'" id="').concat(u.title,'"></h2>\n   <div class="').concat(u["html-container"],'" id="').concat(u["html-container"],'"></div>\n   <input class="').concat(u.input,'" id="').concat(u.input,'" />\n   <input type="file" class="').concat(u.file,'" />\n   <div class="').concat(u.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(u.select,'" id="').concat(u.select,'"></select>\n   <div class="').concat(u.radio,'"></div>\n   <label class="').concat(u.checkbox,'">\n     <input type="checkbox" id="').concat(u.checkbox,'" />\n     <span class="').concat(u.label,'"></span>\n   </label>\n   <textarea class="').concat(u.textarea,'" id="').concat(u.textarea,'"></textarea>\n   <div class="').concat(u["validation-message"],'" id="').concat(u["validation-message"],'"></div>\n   <div class="').concat(u.actions,'">\n     <div class="').concat(u.loader,'"></div>\n     <button type="button" class="').concat(u.confirm,'"></button>\n     <button type="button" class="').concat(u.deny,'"></button>\n     <button type="button" class="').concat(u.cancel,'"></button>\n   </div>\n   <div class="').concat(u.footer,'"></div>\n   <div class="').concat(u["timer-progress-bar-container"],'">\n     <div class="').concat(u["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),be=()=>{const e=_();return!!e&&(e.remove(),ne([document.documentElement,document.body],[u["no-backdrop"],u["toast-shown"],u["has-column"]]),!0)},we=()=>{s.currentInstance.resetValidationMessage()},xe=()=>{const e=E(),t=re(e,u.input),n=re(e,u.file),r=e.querySelector(".".concat(u.range," input")),o=e.querySelector(".".concat(u.range," output")),i=re(e,u.select),s=e.querySelector(".".concat(u.checkbox," input")),a=re(e,u.textarea);t.oninput=we,n.onchange=we,i.onchange=we,s.onchange=we,a.oninput=we,r.oninput=()=>{we(),o.value=r.value},r.onchange=()=>{we(),o.value=r.value}},ke=e=>"string"===typeof e?document.querySelector(e):e,_e=e=>{const t=E();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Ce=e=>{"rtl"===window.getComputedStyle(e).direction&&te(_(),u.rtl)},Se=e=>{const t=be();if(ve())return void m("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=u.container,t&&te(n,u["no-transition"]),G(n,ye),n.dataset.swal2Theme=e.theme;const r=ke(e.target);r.appendChild(n),e.topLayer&&(n.setAttribute("popover",""),n.showPopover()),_e(e),Ce(r),xe()},Ee=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"===typeof e?Te(e,t):e&&G(t,e)},Te=(e,t)=>{e.jquery?Ae(t,e):G(t,e.toString())},Ae=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},De=(e,t)=>{const n=z(),r=L();n&&r&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?ie(n):se(n),J(n,t,"actions"),Ne(n,r,t),G(r,t.loaderHtml||""),J(r,t,"loader"))};function Ne(e,t,n){const r=j(),o=R(),i=M();r&&o&&i&&(Pe(r,"confirm",n),Pe(o,"deny",n),Pe(i,"cancel",n),Oe(r,o,i,n),n.reverseButtons&&(n.toast?(e.insertBefore(i,r),e.insertBefore(o,r)):(e.insertBefore(i,t),e.insertBefore(o,t),e.insertBefore(r,t))))}function Oe(e,t,n,r){r.buttonsStyling?(te([e,t,n],u.styled),r.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),Ie(e),Ie(t),Ie(n)):ne([e,t,n],u.styled)}function Ie(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/," ".concat(n)))}function Pe(e,t,n){const r=p(t);ce(e,n["show".concat(r,"Button")],"inline-block"),G(e,n["".concat(t,"ButtonText")]||""),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]||""),e.className=u[t],J(e,n,"".concat(t,"Button"))}const je=(e,t)=>{const n=V();n&&(G(n,t.closeButtonHtml||""),J(n,t,"closeButton"),ce(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},Me=(e,t)=>{const n=_();n&&(Re(n,t.backdrop),Fe(n,t.position),Le(n,t.grow),J(n,t,"container"))};function Re(e,t){"string"===typeof t?e.style.background=t:t||te([document.documentElement,document.body],u["no-backdrop"])}function Fe(e,t){t&&(t in u?te(e,u[t]):(f('The "position" parameter is not valid, defaulting to "center"'),te(e,u.center)))}function Le(e,t){t&&te(e,u["grow-".concat(t)])}var ze={innerParams:new WeakMap,domCache:new WeakMap};const Be=["input","file","range","select","radio","checkbox","textarea"],Ue=(e,t)=>{const n=E();if(!n)return;const r=ze.innerParams.get(e),o=!r||t.input!==r.input;Be.forEach(e=>{const r=re(n,u[e]);r&&(qe(e,t.inputAttributes),r.className=u[e],o&&se(r))}),t.input&&(o&&Ve(t),We(t))},Ve=e=>{if(!e.input)return;if(!Qe[e.input])return void m("Unexpected type of input! Expected ".concat(Object.keys(Qe).join(" | "),', got "').concat(e.input,'"'));const t=Ge(e.input);if(!t)return;const n=Qe[e.input](t,e);ie(t),e.inputAutoFocus&&setTimeout(()=>{Z(n)})},He=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},qe=(e,t)=>{const n=E();if(!n)return;const r=X(n,e);if(r){He(r);for(const e in t)r.setAttribute(e,t[e])}},We=e=>{if(!e.input)return;const t=Ge(e.input);t&&J(t,e,"input")},Ye=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},Ke=(e,t,n)=>{if(n.inputLabel){const r=document.createElement("label"),o=u["input-label"];r.setAttribute("for",e.id),r.className=o,"object"===typeof n.customClass&&te(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},Ge=e=>{const t=E();if(t)return re(t,u[e]||u.input)},$e=(e,t)=>{["string","number"].includes(typeof t)?e.value="".concat(t):k(t)||f('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t,'"'))},Qe={};Qe.text=Qe.email=Qe.password=Qe.number=Qe.tel=Qe.url=Qe.search=Qe.date=Qe["datetime-local"]=Qe.time=Qe.week=Qe.month=(e,t)=>($e(e,t.inputValue),Ke(e,e,t),Ye(e,t),e.type=t.input,e),Qe.file=(e,t)=>(Ke(e,e,t),Ye(e,t),e),Qe.range=(e,t)=>{const n=e.querySelector("input"),r=e.querySelector("output");return $e(n,t.inputValue),n.type=t.input,$e(r,t.inputValue),Ke(n,e,t),e},Qe.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");G(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Ke(e,e,t),e},Qe.radio=e=>(e.textContent="",e),Qe.checkbox=(e,t)=>{const n=X(E(),"checkbox");n.value="1",n.checked=Boolean(t.inputValue);const r=e.querySelector("span");return G(r,t.inputPlaceholder||t.inputLabel),n},Qe.textarea=(e,t)=>{$e(e,t.inputValue),Ye(e,t),Ke(e,e,t);const n=e=>parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(E()).width);new MutationObserver(()=>{if(!document.body.contains(e))return;const o=e.offsetWidth+n(e);o>r?E().style.width="".concat(o,"px"):oe(E(),"width",t.width)}).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const Je=(e,t)=>{const n=N();n&&(ae(n),J(n,t,"htmlContainer"),t.html?(Ee(t.html,n),ie(n,"block")):t.text?(n.textContent=t.text,ie(n,"block")):se(n),Ue(e,t))},Xe=(e,t)=>{const n=B();n&&(ae(n),ce(n,Boolean(t.footer),"block"),t.footer&&Ee(t.footer,n),J(n,t,"footer"))},Ze=(e,t)=>{const n=ze.innerParams.get(e),r=T();if(r){if(n&&t.icon===n.icon)return ot(r,t),void et(r,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(d).indexOf(t.icon))return m('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),void se(r);ie(r),ot(r,t),et(r,t),te(r,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",tt)}else se(r)}},et=(e,t)=>{for(const[n,r]of Object.entries(d))t.icon!==n&&ne(e,r);te(e,t.icon&&d[t.icon]),it(e,t),tt(),J(e,t,"icon")},tt=()=>{const e=E();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=t},nt=e=>"\n  ".concat(e.animation?'<div class="swal2-success-circular-line-left"></div>':"",'\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div>\n  ').concat(e.animation?'<div class="swal2-success-fix"></div>':"","\n  ").concat(e.animation?'<div class="swal2-success-circular-line-right"></div>':"","\n"),rt='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',ot=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,r="";t.iconHtml?r=st(t.iconHtml):"success"===t.icon?(r=nt(t),n=n.replace(/ style=".*?"/g,"")):"error"===t.icon?r=rt:t.icon&&(r=st({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==r.trim()&&G(e,r)},it=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])le(e,n,"background-color",t.iconColor);le(e,".swal2-success-ring","border-color",t.iconColor)}},st=e=>'<div class="'.concat(u["icon-content"],'">').concat(e,"</div>"),at=(e,t)=>{const n=O();n&&(t.imageUrl?(ie(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),oe(n,"width",t.imageWidth),oe(n,"height",t.imageHeight),n.className=u.image,J(n,t,"image")):se(n))};let lt=!1,ct=0,ut=0,dt=0,ht=0;const pt=e=>{e.addEventListener("mousedown",mt),document.body.addEventListener("mousemove",gt),e.addEventListener("mouseup",vt),e.addEventListener("touchstart",mt),document.body.addEventListener("touchmove",gt),e.addEventListener("touchend",vt)},ft=e=>{e.removeEventListener("mousedown",mt),document.body.removeEventListener("mousemove",gt),e.removeEventListener("mouseup",vt),e.removeEventListener("touchstart",mt),document.body.removeEventListener("touchmove",gt),e.removeEventListener("touchend",vt)},mt=e=>{const t=E();if(e.target===t||T().contains(e.target)){lt=!0;const n=yt(e);ct=n.clientX,ut=n.clientY,dt=parseInt(t.style.insetInlineStart)||0,ht=parseInt(t.style.insetBlockStart)||0,te(t,"swal2-dragging")}},gt=e=>{const t=E();if(lt){let{clientX:n,clientY:r}=yt(e);t.style.insetInlineStart="".concat(dt+(n-ct),"px"),t.style.insetBlockStart="".concat(ht+(r-ut),"px")}},vt=()=>{const e=E();lt=!1,ne(e,"swal2-dragging")},yt=e=>{let t=0,n=0;return e.type.startsWith("mouse")?(t=e.clientX,n=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,n=e.touches[0].clientY),{clientX:t,clientY:n}},bt=(e,t)=>{const n=_(),r=E();if(n&&r){if(t.toast){oe(n,"width",t.width),r.style.width="100%";const e=L();e&&r.insertBefore(e,T())}else oe(r,"width",t.width);oe(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),se(P()),wt(r,t),t.draggable&&!t.toast?(te(r,u.draggable),pt(r)):(ne(r,u.draggable),ft(r))}},wt=(e,t)=>{const n=t.showClass||{};e.className="".concat(u.popup," ").concat(ue(e)?n.popup:""),t.toast?(te([document.documentElement,document.body],u["toast-shown"]),te(e,u.toast)):te(e,u.modal),J(e,t,"popup"),"string"===typeof t.customClass&&te(e,t.customClass),t.icon&&te(e,u["icon-".concat(t.icon)])},xt=(e,t)=>{const n=I();if(!n)return;const{progressSteps:r,currentProgressStep:o}=t;r&&0!==r.length&&void 0!==o?(ie(n),n.textContent="",o>=r.length&&f("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((e,i)=>{const s=kt(e);if(n.appendChild(s),i===o&&te(s,u["active-progress-step"]),i!==r.length-1){const e=_t(t);n.appendChild(e)}})):se(n)},kt=e=>{const t=document.createElement("li");return te(t,u["progress-step"]),G(t,e),t},_t=e=>{const t=document.createElement("li");return te(t,u["progress-step-line"]),e.progressStepsDistance&&oe(t,"width",e.progressStepsDistance),t},Ct=(e,t)=>{const n=D();n&&(ae(n),ce(n,Boolean(t.title||t.titleText),"block"),t.title&&Ee(t.title,n),t.titleText&&(n.innerText=t.titleText),J(n,t,"title"))},St=(e,t)=>{bt(e,t),Me(e,t),xt(e,t),Ze(e,t),at(e,t),Ct(e,t),je(e,t),Je(e,t),De(e,t),Xe(e,t);const n=E();"function"===typeof t.didRender&&n&&t.didRender(n),s.eventEmitter.emit("didRender",n)},Et=()=>ue(E()),Tt=()=>{var e;return null===(e=j())||void 0===e?void 0:e.click()},At=()=>{var e;return null===(e=R())||void 0===e?void 0:e.click()},Dt=()=>{var e;return null===(e=M())||void 0===e?void 0:e.click()},Nt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ot=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},It=(e,t,n)=>{Ot(e),t.toast||(e.keydownHandler=e=>Rt(t,e,n),e.keydownTarget=t.keydownListenerCapture?window:E(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},Pt=(e,t)=>{var n;const r=q();if(r.length)return-2===(e+=t)&&(e=r.length-1),e===r.length?e=0:-1===e&&(e=r.length-1),void r[e].focus();null===(n=E())||void 0===n||n.focus()},jt=["ArrowRight","ArrowDown"],Mt=["ArrowLeft","ArrowUp"],Rt=(e,t,n)=>{e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Ft(t,e):"Tab"===t.key?Lt(t):[...jt,...Mt].includes(t.key)?zt(t.key):"Escape"===t.key&&Bt(t,e,n)))},Ft=(e,t)=>{if(!b(t.allowEnterKey))return;const n=X(E(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;Tt(),e.preventDefault()}},Lt=e=>{const t=e.target,n=q();let r=-1;for(let o=0;o<n.length;o++)if(t===n[o]){r=o;break}e.shiftKey?Pt(r,-1):Pt(r,1),e.stopPropagation(),e.preventDefault()},zt=e=>{const t=z(),n=j(),r=R(),o=M();if(!t||!n||!r||!o)return;const i=[n,r,o];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const s=jt.includes(e)?"nextElementSibling":"previousElementSibling";let a=document.activeElement;if(a){for(let e=0;e<t.children.length;e++){if(a=a[s],!a)return;if(a instanceof HTMLButtonElement&&ue(a))break}a instanceof HTMLButtonElement&&a.focus()}},Bt=(e,t,n)=>{e.preventDefault(),b(t.allowEscapeKey)&&n(Nt.esc)};var Ut={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Vt=()=>{const e=_();Array.from(document.body.children).forEach(t=>{t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},Ht=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},qt="undefined"!==typeof window&&!!window.GestureEvent,Wt=()=>{if(qt&&!$(document.body,u.iosfix)){const e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),te(document.body,u.iosfix),Yt()}},Yt=()=>{const e=_();if(!e)return;let t;e.ontouchstart=e=>{t=Kt(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},Kt=e=>{const t=e.target,n=_(),r=N();return!(!n||!r)&&!Gt(e)&&!$t(e)&&(t===n||!(he(n)||!(t instanceof HTMLElement)||pe(t,r)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||he(r)&&r.contains(t)))},Gt=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,$t=e=>e.touches&&e.touches.length>1,Qt=()=>{if($(document.body,u.iosfix)){const e=parseInt(document.body.style.top,10);ne(document.body,u.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Jt=()=>{const e=document.createElement("div");e.className=u["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Xt=null;const Zt=e=>{null===Xt&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(Xt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Xt+Jt(),"px"))},en=()=>{null!==Xt&&(document.body.style.paddingRight="".concat(Xt,"px"),Xt=null)};function tn(e,t,n,r){Y()?dn(e,r):(l(n).then(()=>dn(e,r)),Ot(s)),qt?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),W()&&(en(),Qt(),Ht()),nn()}function nn(){ne([document.documentElement,document.body],[u.shown,u["height-auto"],u["no-backdrop"],u["toast-shown"]])}function rn(e){e=ln(e);const t=Ut.swalPromiseResolve.get(this),n=on(this);this.isAwaitingPromise?e.isDismissed||(an(this),t(e)):n&&t(e)}const on=e=>{const t=E();if(!t)return!1;const n=ze.innerParams.get(e);if(!n||$(t,n.hideClass.popup))return!1;ne(t,n.showClass.popup),te(t,n.hideClass.popup);const r=_();return ne(r,n.showClass.backdrop),te(r,n.hideClass.backdrop),cn(e,t,n),!0};function sn(e){const t=Ut.swalPromiseReject.get(this);an(this),t&&t(e)}const an=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,ze.innerParams.get(e)||e._destroy())},ln=e=>"undefined"===typeof e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),cn=(e,t,n)=>{var r;const o=_(),i=fe(t);"function"===typeof n.willClose&&n.willClose(t),null===(r=s.eventEmitter)||void 0===r||r.emit("willClose",t),i?un(e,t,o,n.returnFocus,n.didClose):tn(e,o,n.returnFocus,n.didClose)},un=(e,t,n,r,o)=>{s.swalCloseEventFinishedCallback=tn.bind(null,e,n,r,o);const i=function(e){var n;e.target===t&&(null===(n=s.swalCloseEventFinishedCallback)||void 0===n||n.call(s),delete s.swalCloseEventFinishedCallback,t.removeEventListener("animationend",i),t.removeEventListener("transitionend",i))};t.addEventListener("animationend",i),t.addEventListener("transitionend",i)},dn=(e,t)=>{setTimeout(()=>{var n;"function"===typeof t&&t.bind(e.params)(),null===(n=s.eventEmitter)||void 0===n||n.emit("didClose"),e._destroy&&e._destroy()})},hn=e=>{let t=E();if(t||new go,t=E(),!t)return;const n=L();Y()?se(T()):pn(t,e),ie(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},pn=(e,t)=>{const n=z(),r=L();n&&r&&(!t&&ue(j())&&(t=j()),ie(n),t&&(se(t),r.setAttribute("data-button-to-replace",t.className),n.insertBefore(r,t)),te([e,n],u.loading))},fn=(e,t)=>{"select"===t.input||"radio"===t.input?bn(e,t):["text","email","number","tel","textarea"].some(e=>e===t.input)&&(w(t.inputValue)||k(t.inputValue))&&(hn(j()),wn(e,t))},mn=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return gn(n);case"radio":return vn(n);case"file":return yn(n);default:return t.inputAutoTrim?n.value.trim():n.value}},gn=e=>e.checked?1:0,vn=e=>e.checked?e.value:null,yn=e=>e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,bn=(e,t)=>{const n=E();if(!n)return;const r=e=>{"select"===t.input?xn(n,_n(e),t):"radio"===t.input&&kn(n,_n(e),t)};w(t.inputOptions)||k(t.inputOptions)?(hn(j()),x(t.inputOptions).then(t=>{e.hideLoading(),r(t)})):"object"===typeof t.inputOptions?r(t.inputOptions):m("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},wn=(e,t)=>{const n=e.getInput();n&&(se(n),x(t.inputValue).then(r=>{n.value="number"===t.input?"".concat(parseFloat(r)||0):"".concat(r),ie(n),n.focus(),e.hideLoading()}).catch(t=>{m("Error in inputValue promise: ".concat(t)),n.value="",ie(n),n.focus(),e.hideLoading()}))};function xn(e,t,n){const r=re(e,u.select);if(!r)return;const o=(e,t,r)=>{const o=document.createElement("option");o.value=r,G(o,t),o.selected=Cn(r,n.inputValue),e.appendChild(o)};t.forEach(e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,r.appendChild(e),n.forEach(t=>o(e,t[1],t[0]))}else o(r,n,t)}),r.focus()}function kn(e,t,n){const r=re(e,u.radio);if(!r)return;t.forEach(e=>{const t=e[0],o=e[1],i=document.createElement("input"),s=document.createElement("label");i.type="radio",i.name=u.radio,i.value=t,Cn(t,n.inputValue)&&(i.checked=!0);const a=document.createElement("span");G(a,o),a.className=u.label,s.appendChild(i),s.appendChild(a),r.appendChild(s)});const o=r.querySelectorAll("input");o.length&&o[0].focus()}const _n=e=>{const t=[];return e instanceof Map?e.forEach((e,n)=>{let r=e;"object"===typeof r&&(r=_n(r)),t.push([n,r])}):Object.keys(e).forEach(n=>{let r=e[n];"object"===typeof r&&(r=_n(r)),t.push([n,r])}),t},Cn=(e,t)=>!!t&&t.toString()===e.toString(),Sn=e=>{const t=ze.innerParams.get(e);e.disableButtons(),t.input?An(e,"confirm"):Pn(e,!0)},En=e=>{const t=ze.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?An(e,"deny"):Nn(e,!1)},Tn=(e,t)=>{e.disableButtons(),t(Nt.cancel)},An=(e,t)=>{const n=ze.innerParams.get(e);if(!n.input)return void m('The "input" parameter is needed to be set when using returnInputValueOn'.concat(p(t)));const r=e.getInput(),o=mn(e,n);n.inputValidator?Dn(e,o,t):r&&!r.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||r.validationMessage)):"deny"===t?Nn(e,o):Pn(e,o)},Dn=(e,t,n)=>{const r=ze.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>x(r.inputValidator(t,r.validationMessage))).then(r=>{e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):"deny"===n?Nn(e,t):Pn(e,t)})},Nn=(e,t)=>{const n=ze.innerParams.get(e||void 0);n.showLoaderOnDeny&&hn(R()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>x(n.preDeny(t,n.validationMessage))).then(n=>{!1===n?(e.hideLoading(),an(e)):e.close({isDenied:!0,value:"undefined"===typeof n?t:n})}).catch(t=>In(e||void 0,t))):e.close({isDenied:!0,value:t})},On=(e,t)=>{e.close({isConfirmed:!0,value:t})},In=(e,t)=>{e.rejectPromise(t)},Pn=(e,t)=>{const n=ze.innerParams.get(e||void 0);n.showLoaderOnConfirm&&hn(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>x(n.preConfirm(t,n.validationMessage))).then(n=>{ue(P())||!1===n?(e.hideLoading(),an(e)):On(e,"undefined"===typeof n?t:n)}).catch(t=>In(e||void 0,t))):On(e,t)};function jn(){const e=ze.innerParams.get(this);if(!e)return;const t=ze.domCache.get(this);se(t.loader),Y()?e.icon&&ie(T()):Mn(t),ne([t.popup,t.actions],u.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const Mn=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ie(t[0],"inline-block"):de()&&se(e.actions)};function Rn(){const e=ze.innerParams.get(this),t=ze.domCache.get(this);return t?X(t.popup,e.input):null}function Fn(e,t,n){const r=ze.domCache.get(e);t.forEach(e=>{r[e].disabled=n})}function Ln(e,t){const n=E();if(n&&e)if("radio"===e.type){const e=n.querySelectorAll('[name="'.concat(u.radio,'"]'));for(let n=0;n<e.length;n++)e[n].disabled=t}else e.disabled=t}function zn(){Fn(this,["confirmButton","denyButton","cancelButton"],!1)}function Bn(){Fn(this,["confirmButton","denyButton","cancelButton"],!0)}function Un(){Ln(this.getInput(),!1)}function Vn(){Ln(this.getInput(),!0)}function Hn(e){const t=ze.domCache.get(this),n=ze.innerParams.get(this);G(t.validationMessage,e),t.validationMessage.className=u["validation-message"],n.customClass&&n.customClass.validationMessage&&te(t.validationMessage,n.customClass.validationMessage),ie(t.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",u["validation-message"]),Z(r),te(r,u.inputerror))}function qn(){const e=ze.domCache.get(this);e.validationMessage&&se(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ne(t,u.inputerror))}const Wn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Yn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Kn={allowEnterKey:void 0},Gn=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],$n=e=>Object.prototype.hasOwnProperty.call(Wn,e),Qn=e=>-1!==Yn.indexOf(e),Jn=e=>Kn[e],Xn=e=>{$n(e)||f('Unknown parameter "'.concat(e,'"'))},Zn=e=>{Gn.includes(e)&&f('The parameter "'.concat(e,'" is incompatible with toasts'))},er=e=>{const t=Jn(e);t&&y(e,t)},tr=e=>{!1===e.backdrop&&e.allowOutsideClick&&f('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&f('Invalid theme "'.concat(e.theme,'"'));for(const t in e)Xn(t),e.toast&&Zn(t),er(t)};function nr(e){const t=_(),n=E(),r=ze.innerParams.get(this);if(!n||$(n,r.hideClass.popup))return void f("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const o=rr(e),i=Object.assign({},r,o);tr(i),t.dataset.swal2Theme=i.theme,St(this,i),ze.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const rr=e=>{const t={};return Object.keys(e).forEach(n=>{Qn(n)?t[n]=e[n]:f("Invalid parameter to update: ".concat(n))}),t};function or(){const e=ze.domCache.get(this),t=ze.innerParams.get(this);t?(e.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),"function"===typeof t.didDestroy&&t.didDestroy(),s.eventEmitter.emit("didDestroy"),ir(this)):sr(this)}const ir=e=>{sr(e),delete e.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},sr=e=>{e.isAwaitingPromise?(ar(ze,e),e.isAwaitingPromise=!0):(ar(Ut,e),ar(ze,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},ar=(e,t)=>{for(const n in e)e[n].delete(t)};var lr=Object.freeze({__proto__:null,_destroy:or,close:rn,closeModal:rn,closePopup:rn,closeToast:rn,disableButtons:Bn,disableInput:Vn,disableLoading:jn,enableButtons:zn,enableInput:Un,getInput:Rn,handleAwaitingPromise:an,hideLoading:jn,rejectPromise:sn,resetValidationMessage:qn,showValidationMessage:Hn,update:nr});const cr=(e,t,n)=>{e.toast?ur(e,t,n):(pr(t),fr(t),mr(e,t,n))},ur=(e,t,n)=>{t.popup.onclick=()=>{e&&(dr(e)||e.timer||e.input)||n(Nt.close)}},dr=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let hr=!1;const pr=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(hr=!0)}}},fr=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=()=>{},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(hr=!0)}}},mr=(e,t,n)=>{t.container.onclick=r=>{hr?hr=!1:r.target===t.container&&b(e.allowOutsideClick)&&n(Nt.backdrop)}},gr=e=>"object"===typeof e&&e.jquery,vr=e=>e instanceof Element||gr(e),yr=e=>{const t={};return"object"!==typeof e[0]||vr(e[0])?["title","html","icon"].forEach((n,r)=>{const o=e[r];"string"===typeof o||vr(o)?t[n]=o:void 0!==o&&m("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof o))}):Object.assign(t,e[0]),t};function br(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new this(...t)}function wr(e){class t extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}return t}const xr=()=>s.timeout&&s.timeout.getTimerLeft(),kr=()=>{if(s.timeout)return ge(),s.timeout.stop()},_r=()=>{if(s.timeout){const e=s.timeout.start();return me(e),e}},Cr=()=>{const e=s.timeout;return e&&(e.running?kr():_r())},Sr=e=>{if(s.timeout){const t=s.timeout.increase(e);return me(t,!0),t}},Er=()=>!(!s.timeout||!s.timeout.isRunning());let Tr=!1;const Ar={};function Dr(){Ar[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Tr||(document.body.addEventListener("click",Nr),Tr=!0)}const Nr=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in Ar){const n=t.getAttribute(e);if(n)return void Ar[e].fire({template:n})}};class Or{constructor(){this.events={}}_getHandlersByEventName(e){return"undefined"===typeof this.events[e]&&(this.events[e]=[]),this.events[e]}on(e,t){const n=this._getHandlersByEventName(e);n.includes(t)||n.push(t)}once(e,t){var n=this;const r=function(){n.removeListener(e,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];t.apply(n,i)};this.on(e,r)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._getHandlersByEventName(e).forEach(e=>{try{e.apply(this,n)}catch(m){console.error(m)}})}removeListener(e,t){const n=this._getHandlersByEventName(e),r=n.indexOf(t);r>-1&&n.splice(r,1)}removeAllListeners(e){void 0!==this.events[e]&&(this.events[e].length=0)}reset(){this.events={}}}s.eventEmitter=new Or;const Ir=(e,t)=>{s.eventEmitter.on(e,t)},Pr=(e,t)=>{s.eventEmitter.once(e,t)},jr=(e,t)=>{e?t?s.eventEmitter.removeListener(e,t):s.eventEmitter.removeAllListeners(e):s.eventEmitter.reset()};var Mr=Object.freeze({__proto__:null,argsToParams:yr,bindClickHandler:Dr,clickCancel:Dt,clickConfirm:Tt,clickDeny:At,enableLoading:hn,fire:br,getActions:z,getCancelButton:M,getCloseButton:V,getConfirmButton:j,getContainer:_,getDenyButton:R,getFocusableElements:q,getFooter:B,getHtmlContainer:N,getIcon:T,getIconContent:A,getImage:O,getInputLabel:F,getLoader:L,getPopup:E,getProgressSteps:I,getTimerLeft:xr,getTimerProgressBar:U,getTitle:D,getValidationMessage:P,increaseTimer:Sr,isDeprecatedParameter:Jn,isLoading:K,isTimerRunning:Er,isUpdatableParameter:Qn,isValidParameter:$n,isVisible:Et,mixin:wr,off:jr,on:Ir,once:Pr,resumeTimer:_r,showLoading:hn,stopTimer:kr,toggleTimer:Cr});class Rr{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Fr=["swal-title","swal-html","swal-footer"],Lr=e=>{const t="string"===typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return Yr(n),Object.assign(zr(n),Br(n),Ur(n),Vr(n),Hr(n),qr(n),Wr(n,Fr))},zr=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(e=>{Kr(e,["name","value"]);const n=e.getAttribute("name"),r=e.getAttribute("value");n&&r&&("boolean"===typeof Wn[n]?t[n]="false"!==r:"object"===typeof Wn[n]?t[n]=JSON.parse(r):t[n]=r)}),t},Br=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(e=>{const n=e.getAttribute("name"),r=e.getAttribute("value");n&&r&&(t[n]=new Function("return ".concat(r))())}),t},Ur=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(e=>{Kr(e,["type","color","aria-label"]);const n=e.getAttribute("type");n&&["confirm","cancel","deny"].includes(n)&&(t["".concat(n,"ButtonText")]=e.innerHTML,t["show".concat(p(n),"Button")]=!0,e.hasAttribute("color")&&(t["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label")))}),t},Vr=e=>{const t={},n=e.querySelector("swal-image");return n&&(Kr(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},Hr=e=>{const t={},n=e.querySelector("swal-icon");return n&&(Kr(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},qr=e=>{const t={},n=e.querySelector("swal-input");n&&(Kr(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach(e=>{Kr(e,["value"]);const n=e.getAttribute("value");if(!n)return;const r=e.innerHTML;t.inputOptions[n]=r})),t},Wr=(e,t)=>{const n={};for(const r in t){const o=t[r],i=e.querySelector(o);i&&(Kr(i,[]),n[o.replace(/^swal-/,"")]=i.innerHTML.trim())}return n},Yr=e=>{const t=Fr.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(e=>{const n=e.tagName.toLowerCase();t.includes(n)||f("Unrecognized element <".concat(n,">"))})},Kr=(e,t)=>{Array.from(e.attributes).forEach(n=>{-1===t.indexOf(n.name)&&f(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])})},Gr=10,$r=e=>{const t=_(),n=E();"function"===typeof e.willOpen&&e.willOpen(n),s.eventEmitter.emit("willOpen",n);const r=window.getComputedStyle(document.body).overflowY;Zr(t,n,e),setTimeout(()=>{Jr(t,n)},Gr),W()&&(Xr(t,e.scrollbarPadding,r),Vt()),Y()||s.previousActiveElement||(s.previousActiveElement=document.activeElement),"function"===typeof e.didOpen&&setTimeout(()=>e.didOpen(n)),s.eventEmitter.emit("didOpen",n)},Qr=e=>{const t=E();if(e.target!==t)return;const n=_();t.removeEventListener("animationend",Qr),t.removeEventListener("transitionend",Qr),n.style.overflowY="auto",ne(n,u["no-transition"])},Jr=(e,t)=>{fe(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",Qr),t.addEventListener("transitionend",Qr)):e.style.overflowY="auto"},Xr=(e,t,n)=>{Wt(),t&&"hidden"!==n&&Zt(n),setTimeout(()=>{e.scrollTop=0})},Zr=(e,t,n)=>{te(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),ie(t,"grid"),setTimeout(()=>{te(t,n.showClass.popup),t.style.removeProperty("opacity")},Gr)):ie(t,"grid"),te([document.documentElement,document.body],u.shown),n.heightAuto&&n.backdrop&&!n.toast&&te([document.documentElement,document.body],u["height-auto"])};var eo={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function to(e){e.inputValidator||("email"===e.input&&(e.inputValidator=eo.email),"url"===e.input&&(e.inputValidator=eo.url))}function no(e){(!e.target||"string"===typeof e.target&&!document.querySelector(e.target)||"string"!==typeof e.target&&!e.target.appendChild)&&(f('Target parameter is not valid, defaulting to "body"'),e.target="body")}function ro(e){to(e),e.showLoaderOnConfirm&&!e.preConfirm&&f("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),no(e),"string"===typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Se(e)}let oo;var io=new WeakMap;class so{constructor(){if(r(this,io,void 0),"undefined"===typeof window)return;oo=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=Object.freeze(this.constructor.argsToParams(t));this.params=i,this.isAwaitingPromise=!1,o(io,this,this._main(oo.params))}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(tr(Object.assign({},t,e)),s.currentInstance){const e=Ut.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:t}=s.currentInstance;s.currentInstance._destroy(),t||e({isDismissed:!0}),W()&&Ht()}s.currentInstance=oo;const n=lo(e,t);ro(n),Object.freeze(n),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);const r=co(oo);return St(oo,n),ze.innerParams.set(oo,n),ao(oo,r,n)}then(e){return n(io,this).then(e)}finally(e){return n(io,this).finally(e)}}const ao=(e,t,n)=>new Promise((r,o)=>{const i=t=>{e.close({isDismissed:!0,dismiss:t,isConfirmed:!1,isDenied:!1})};Ut.swalPromiseResolve.set(e,r),Ut.swalPromiseReject.set(e,o),t.confirmButton.onclick=()=>{Sn(e)},t.denyButton.onclick=()=>{En(e)},t.cancelButton.onclick=()=>{Tn(e,i)},t.closeButton.onclick=()=>{i(Nt.close)},cr(n,t,i),It(s,n,i),fn(e,n),$r(n),uo(s,n,i),ho(t,n),setTimeout(()=>{t.container.scrollTop=0})}),lo=(e,t)=>{const n=Lr(e),r=Object.assign({},Wn,t,n,e);return r.showClass=Object.assign({},Wn.showClass,r.showClass),r.hideClass=Object.assign({},Wn.hideClass,r.hideClass),!1===r.animation&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},co=e=>{const t={popup:E(),container:_(),actions:z(),confirmButton:j(),denyButton:R(),cancelButton:M(),loader:L(),closeButton:V(),validationMessage:P(),progressSteps:I()};return ze.domCache.set(e,t),t},uo=(e,t,n)=>{const r=U();se(r),t.timer&&(e.timeout=new Rr(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(ie(r),J(r,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&me(t.timer)})))},ho=(e,t)=>{if(!t.toast)return b(t.allowEnterKey)?void(po(e)||fo(e,t)||Pt(-1,1)):(y("allowEnterKey"),void mo())},po=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&ue(n))return n.focus(),!0;return!1},fo=(e,t)=>t.focusDeny&&ue(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&ue(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!ue(e.confirmButton))&&(e.confirmButton.focus(),!0),mo=()=>{document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};so.prototype.disableButtons=Bn,so.prototype.enableButtons=zn,so.prototype.getInput=Rn,so.prototype.disableInput=Vn,so.prototype.enableInput=Un,so.prototype.hideLoading=jn,so.prototype.disableLoading=jn,so.prototype.showValidationMessage=Hn,so.prototype.resetValidationMessage=qn,so.prototype.close=rn,so.prototype.closePopup=rn,so.prototype.closeModal=rn,so.prototype.closeToast=rn,so.prototype.rejectPromise=sn,so.prototype.update=nr,so.prototype._destroy=or,Object.assign(so,Mr),Object.keys(lr).forEach(e=>{so[e]=function(){return oo&&oo[e]?oo[e](...arguments):null}}),so.DismissReason=Nt,so.version="11.26.3";const go=so;return go.default=go,go}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')},75:function(e,t,n){var r,o,i;o=[t,n(5043),n(5173)],r=function(e,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=p;var r=i(t),o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=!1;function p(e){h=e}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){p(!0)}}))}catch(v){}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{capture:!0};return h?e:e.capture}function m(e){if("touches"in e){var t=e.touches[0];return{x:t.pageX,y:t.pageY}}return{x:e.screenX,y:e.screenY}}var g=function(e){function t(){var e;l(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i._handleSwipeStart=i._handleSwipeStart.bind(i),i._handleSwipeMove=i._handleSwipeMove.bind(i),i._handleSwipeEnd=i._handleSwipeEnd.bind(i),i._onMouseDown=i._onMouseDown.bind(i),i._onMouseMove=i._onMouseMove.bind(i),i._onMouseUp=i._onMouseUp.bind(i),i._setSwiperRef=i._setSwiperRef.bind(i),i}return d(t,e),c(t,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,f({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,f({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(e){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(e))}},{key:"_onMouseMove",value:function(e){this.mouseDown&&this._handleSwipeMove(e)}},{key:"_onMouseUp",value:function(e){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(e)}},{key:"_handleSwipeStart",value:function(e){var t=m(e),n=t.x,r=t.y;this.moveStart={x:n,y:r},this.props.onSwipeStart(e)}},{key:"_handleSwipeMove",value:function(e){if(this.moveStart){var t=m(e),n=t.x,r=t.y,o=n-this.moveStart.x,i=r-this.moveStart.y;this.moving=!0,this.props.onSwipeMove({x:o,y:i},e)&&e.cancelable&&e.preventDefault(),this.movePosition={deltaX:o,deltaY:i}}}},{key:"_handleSwipeEnd",value:function(e){this.props.onSwipeEnd(e);var t=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-t?this.props.onSwipeLeft(1,e):this.movePosition.deltaX>t&&this.props.onSwipeRight(1,e),this.movePosition.deltaY<-t?this.props.onSwipeUp(1,e):this.movePosition.deltaY>t&&this.props.onSwipeDown(1,e)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(e){this.swiper=e,this.props.innerRef(e)}},{key:"render",value:function(){var e=this.props,t=(e.tagName,e.className),n=e.style,o=e.children,i=(e.allowMouseEvents,e.onSwipeUp,e.onSwipeDown,e.onSwipeLeft,e.onSwipeRight,e.onSwipeStart,e.onSwipeMove,e.onSwipeEnd,e.innerRef,e.tolerance,a(e,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]));return r.default.createElement(this.props.tagName,s({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:t,style:n},i),o)}}]),t}(t.Component);g.displayName="ReactSwipe",g.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},g.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=g},void 0===(i="function"===typeof r?r.apply(t,o):r)||(e.exports=i)},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},178:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t,n){var r=0===e?e:e+t;return"translate3d"+("("+("horizontal"===n?[r,0,0]:[0,r,0]).join(",")+")")}},218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=a(n(620)),o=a(n(840)),i=a(n(2322)),s=a(n(3411));function a(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,s.default)(t,function(t){Array.isArray(t)?e(t).map(function(e){return n.push(e)}):(0,i.default)(t)?(0,o.default)(t,function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)}):(0,r.default)(t)&&n.push(t)}),n};t.default=l},310:(e,t,n)=>{var r=n(1817),o=n(5990),i=n(6140);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},449:(e,t,n)=>{var r=n(6924),o=n(2761);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},474:(e,t,n)=>{var r=n(3204),o=n(8122),i=n(6571);e.exports=function(e){return i(e)?r(e,!0):o(e)}},513:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=i(n(8139)),o=i(n(5043));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e){var t=e.className,n=e.expanded,i=e.onClick,a=e.onMouseOver,l=e.rootTag,c=e.title,u=e.uuid;return"object"===s(c)?o.default.cloneElement(c,{onClick:i,id:"react-sanfona-item-title-".concat(u),"aria-controls":"react-sanfona-item-body-".concat(u)}):o.default.createElement(l,{"aria-controls":"react-sanfona-item-body-".concat(u),"aria-expanded":n,className:(0,r.default)("react-sanfona-item-title",t),id:"react-sanfona-item-title-".concat(u),onClick:i,onMouseOver:a,style:{cursor:"pointer",margin:0}},c)}a.defaultProps={rootTag:"h3"}},564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPosition=t.getPosition=t.isKeyboardEvent=t.defaultStatusFormatter=t.noop=void 0;var r,o=n(5043),i=(r=n(178))&&r.__esModule?r:{default:r};t.noop=function(){};t.defaultStatusFormatter=function(e,t){return"".concat(e," of ").concat(t)};t.isKeyboardEvent=function(e){return!!e&&e.hasOwnProperty("key")};t.getPosition=function(e,t){if(t.infiniteLoop&&++e,0===e)return 0;var n=o.Children.count(t.children);if(t.centerMode&&"horizontal"===t.axis){var r=-e*t.centerSlidePercentage,i=n-1;return e&&(e!==i||t.infiniteLoop)?r+=(100-t.centerSlidePercentage)/2:e===i&&(r+=100-t.centerSlidePercentage),r}return 100*-e};t.setPosition=function(e,t){var n={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(r){n[r]=(0,i.default)(e,"%",t)}),n}},579:(e,t,n)=>{"use strict";e.exports=n(2799)},620:(e,t,n)=>{var r=n(6913),o=n(4052),i=n(2761);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},726:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},840:(e,t,n)=>{var r=n(4664),o=n(5111);e.exports=function(e,t){return e&&r(e,o(t))}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1104:(e,t,n)=>{var r=n(6614),o=n(8673);e.exports=function(e,t){return e&&r(t,o(t),e)}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1256:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outerWidth=void 0;t.outerWidth=function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft)+parseInt(n.marginRight)}},1268:(e,t,n)=>{var r=n(5428),o=n(7574),i=n(6832),s=i&&i.isTypedArray,a=s?o(s):r;e.exports=a},1295:(e,t,n)=>{var r=n(9812),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},1516:(e,t,n)=>{var r=n(2929);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},1577:(e,t,n)=>{"use strict";Object.defineProperty(t,"FN",{enumerable:!0,get:function(){return r.default}});var r=s(n(3481)),o=n(3096),i=s(n(4169));function s(e){return e&&e.__esModule?e:{default:e}}},1629:(e,t,n)=>{var r=n(6913),o=n(6686);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1817:(e,t,n)=>{var r=n(6686),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},1980:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},2010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(8139))&&r.__esModule?r:{default:r},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(5043));function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,u(t).apply(this,arguments))}var n,r,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.duration,s=e.easing,a=e.expanded,l=e.maxHeight,c=e.overflow,u=e.rootTag,d=e.uuid,h={maxHeight:l,overflow:c,transition:"max-height ".concat(r,"ms ").concat(s)};return i.default.createElement(u,{"aria-hidden":!a,"aria-labelledby":"react-sanfona-item-title-".concat(d),className:(0,o.default)("react-sanfona-item-body",n),id:"react-sanfona-item-body-".concat(d),style:h},i.default.createElement("div",{className:"react-sanfona-item-body-wrapper"},t))}}])&&l(n.prototype,r),s&&l(n,s),t}(i.Component);t.default=h,h.defaultProps={rootTag:"div"}},2038:e=>{"use strict";e.exports=JSON.parse('{"com.ac":true,"net.ac":true,"gov.ac":true,"org.ac":true,"mil.ac":true,"co.ae":true,"net.ae":true,"gov.ae":true,"ac.ae":true,"sch.ae":true,"org.ae":true,"mil.ae":true,"pro.ae":true,"name.ae":true,"com.af":true,"edu.af":true,"gov.af":true,"net.af":true,"org.af":true,"com.al":true,"edu.al":true,"gov.al":true,"mil.al":true,"net.al":true,"org.al":true,"ed.ao":true,"gv.ao":true,"og.ao":true,"co.ao":true,"pb.ao":true,"it.ao":true,"com.ar":true,"edu.ar":true,"gob.ar":true,"gov.ar":true,"int.ar":true,"mil.ar":true,"net.ar":true,"org.ar":true,"tur.ar":true,"gv.at":true,"ac.at":true,"co.at":true,"or.at":true,"com.au":true,"net.au":true,"org.au":true,"edu.au":true,"gov.au":true,"csiro.au":true,"asn.au":true,"id.au":true,"vic.au":true,"sa.au":true,"wa.au":true,"nt.au":true,"tas.au":true,"qld.au":true,"act.au":true,"conf.au":true,"oz.au":true,"org.ba":true,"net.ba":true,"edu.ba":true,"gov.ba":true,"mil.ba":true,"unsa.ba":true,"untz.ba":true,"unmo.ba":true,"unbi.ba":true,"unze.ba":true,"co.ba":true,"com.ba":true,"rs.ba":true,"co.bb":true,"com.bb":true,"net.bb":true,"org.bb":true,"gov.bb":true,"edu.bb":true,"info.bb":true,"store.bb":true,"tv.bb":true,"biz.bb":true,"com.bh":true,"info.bh":true,"cc.bh":true,"edu.bh":true,"biz.bh":true,"net.bh":true,"org.bh":true,"gov.bh":true,"com.bn":true,"edu.bn":true,"gov.bn":true,"net.bn":true,"org.bn":true,"com.bo":true,"net.bo":true,"org.bo":true,"tv.bo":true,"mil.bo":true,"int.bo":true,"gob.bo":true,"gov.bo":true,"edu.bo":true,"adm.br":true,"adv.br":true,"agr.br":true,"am.br":true,"arq.br":true,"art.br":true,"ato.br":true,"b.br":true,"bio.br":true,"blog.br":true,"bmd.br":true,"cim.br":true,"cng.br":true,"cnt.br":true,"com.br":true,"coop.br":true,"ecn.br":true,"edu.br":true,"eng.br":true,"esp.br":true,"etc.br":true,"eti.br":true,"far.br":true,"flog.br":true,"fm.br":true,"fnd.br":true,"fot.br":true,"fst.br":true,"g12.br":true,"ggf.br":true,"gov.br":true,"imb.br":true,"ind.br":true,"inf.br":true,"jor.br":true,"jus.br":true,"lel.br":true,"mat.br":true,"med.br":true,"mil.br":true,"mus.br":true,"net.br":true,"nom.br":true,"not.br":true,"ntr.br":true,"odo.br":true,"org.br":true,"ppg.br":true,"pro.br":true,"psc.br":true,"psi.br":true,"qsl.br":true,"rec.br":true,"slg.br":true,"srv.br":true,"tmp.br":true,"trd.br":true,"tur.br":true,"tv.br":true,"vet.br":true,"vlog.br":true,"wiki.br":true,"zlg.br":true,"com.bs":true,"net.bs":true,"org.bs":true,"edu.bs":true,"gov.bs":true,"om.bz":true,"du.bz":true,"ov.bz":true,"et.bz":true,"rg.bz":true,"ab.ca":true,"bc.ca":true,"mb.ca":true,"nb.ca":true,"nf.ca":true,"nl.ca":true,"ns.ca":true,"nt.ca":true,"nu.ca":true,"on.ca":true,"pe.ca":true,"qc.ca":true,"sk.ca":true,"yk.ca":true,"co.ck":true,"org.ck":true,"edu.ck":true,"gov.ck":true,"net.ck":true,"gen.ck":true,"biz.ck":true,"info.ck":true,"ac.cn":true,"com.cn":true,"edu.cn":true,"gov.cn":true,"mil.cn":true,"net.cn":true,"org.cn":true,"ah.cn":true,"bj.cn":true,"cq.cn":true,"fj.cn":true,"gd.cn":true,"gs.cn":true,"gz.cn":true,"gx.cn":true,"ha.cn":true,"hb.cn":true,"he.cn":true,"hi.cn":true,"hl.cn":true,"hn.cn":true,"jl.cn":true,"js.cn":true,"jx.cn":true,"ln.cn":true,"nm.cn":true,"nx.cn":true,"qh.cn":true,"sc.cn":true,"sd.cn":true,"sh.cn":true,"sn.cn":true,"sx.cn":true,"tj.cn":true,"tw.cn":true,"xj.cn":true,"xz.cn":true,"yn.cn":true,"zj.cn":true,"com.co":true,"org.co":true,"edu.co":true,"gov.co":true,"net.co":true,"mil.co":true,"nom.co":true,"ac.cr":true,"co.cr":true,"ed.cr":true,"fi.cr":true,"go.cr":true,"or.cr":true,"sa.cr":true,"cr":true,"ac.cy":true,"net.cy":true,"gov.cy":true,"org.cy":true,"pro.cy":true,"name.cy":true,"ekloges.cy":true,"tm.cy":true,"ltd.cy":true,"biz.cy":true,"press.cy":true,"parliament.cy":true,"com.cy":true,"edu.do":true,"gob.do":true,"gov.do":true,"com.do":true,"sld.do":true,"org.do":true,"net.do":true,"web.do":true,"mil.do":true,"art.do":true,"com.dz":true,"org.dz":true,"net.dz":true,"gov.dz":true,"edu.dz":true,"asso.dz":true,"pol.dz":true,"art.dz":true,"com.ec":true,"info.ec":true,"net.ec":true,"fin.ec":true,"med.ec":true,"pro.ec":true,"org.ec":true,"edu.ec":true,"gov.ec":true,"mil.ec":true,"com.eg":true,"edu.eg":true,"eun.eg":true,"gov.eg":true,"mil.eg":true,"name.eg":true,"net.eg":true,"org.eg":true,"sci.eg":true,"com.er":true,"edu.er":true,"gov.er":true,"mil.er":true,"net.er":true,"org.er":true,"ind.er":true,"rochest.er":true,"w.er":true,"com.es":true,"nom.es":true,"org.es":true,"gob.es":true,"edu.es":true,"com.et":true,"gov.et":true,"org.et":true,"edu.et":true,"net.et":true,"biz.et":true,"name.et":true,"info.et":true,"ac.fj":true,"biz.fj":true,"com.fj":true,"info.fj":true,"mil.fj":true,"name.fj":true,"net.fj":true,"org.fj":true,"pro.fj":true,"co.fk":true,"org.fk":true,"gov.fk":true,"ac.fk":true,"nom.fk":true,"net.fk":true,"fr":true,"tm.fr":true,"asso.fr":true,"nom.fr":true,"prd.fr":true,"presse.fr":true,"com.fr":true,"gouv.fr":true,"co.gg":true,"net.gg":true,"org.gg":true,"com.gh":true,"edu.gh":true,"gov.gh":true,"org.gh":true,"mil.gh":true,"co.gl":true,"com.gl":true,"edu.gl":true,"net.gl":true,"org.gl":true,"com.gn":true,"ac.gn":true,"gov.gn":true,"org.gn":true,"net.gn":true,"com.gr":true,"edu.gr":true,"net.gr":true,"org.gr":true,"gov.gr":true,"mil.gr":true,"com.gt":true,"edu.gt":true,"net.gt":true,"gob.gt":true,"org.gt":true,"mil.gt":true,"ind.gt":true,"com.gu":true,"net.gu":true,"gov.gu":true,"org.gu":true,"edu.gu":true,"com.hk":true,"edu.hk":true,"gov.hk":true,"idv.hk":true,"net.hk":true,"org.hk":true,"2000.hu":true,"agrar.hu":true,"bolt.hu":true,"casino.hu":true,"city.hu":true,"co.hu":true,"erotica.hu":true,"erotika.hu":true,"film.hu":true,"forum.hu":true,"games.hu":true,"hotel.hu":true,"info.hu":true,"ingatlan.hu":true,"jogasz.hu":true,"konyvelo.hu":true,"lakas.hu":true,"media.hu":true,"news.hu":true,"org.hu":true,"priv.hu":true,"reklam.hu":true,"sex.hu":true,"shop.hu":true,"sport.hu":true,"suli.huv":true,"szex.hu":true,"tm.hu":true,"tozsde.hu":true,"utazas.hu":true,"video.hu":true,"ac.id":true,"co.id":true,"net.id":true,"or.id":true,"web.id":true,"sch.id":true,"mil.id":true,"go.id":true,"war.net.id":true,"my.id":true,"biz.id":true,"ac.il":true,"co.il":true,"org.il":true,"net.il":true,"k12.il":true,"gov.il":true,"muni.il":true,"idf.il":true,"in":true,"4fd.in":true,"co.in":true,"firm.in":true,"net.in":true,"org.in":true,"gen.in":true,"ind.in":true,"ac.in":true,"edu.in":true,"res.in":true,"ernet.in":true,"gov.in":true,"mil.in":true,"nic.in":true,"iq":true,"gov.iq":true,"edu.iq":true,"com.iq":true,"mil.iq":true,"org.iq":true,"net.iq":true,"ir":true,"ac.ir":true,"co.ir":true,"gov.ir":true,"id.ir":true,"net.ir":true,"org.ir":true,"sch.ir":true,"dnssec.ir":true,"gov.it":true,"edu.it":true,"co.je":true,"net.je":true,"org.je":true,"com.jo":true,"net.jo":true,"gov.jo":true,"edu.jo":true,"org.jo":true,"mil.jo":true,"name.jo":true,"sch.jo":true,"ac.jp":true,"ad.jp":true,"co.jp":true,"ed.jp":true,"go.jp":true,"gr.jp":true,"lg.jp":true,"ne.jp":true,"or.jp":true,"co.ke":true,"or.ke":true,"ne.ke":true,"go.ke":true,"ac.ke":true,"sc.ke":true,"me.ke":true,"mobi.ke":true,"info.ke":true,"per.kh":true,"com.kh":true,"edu.kh":true,"gov.kh":true,"mil.kh":true,"net.kh":true,"org.kh":true,"com.ki":true,"biz.ki":true,"de.ki":true,"net.ki":true,"info.ki":true,"org.ki":true,"gov.ki":true,"edu.ki":true,"mob.ki":true,"tel.ki":true,"km":true,"com.km":true,"coop.km":true,"asso.km":true,"nom.km":true,"presse.km":true,"tm.km":true,"medecin.km":true,"notaires.km":true,"pharmaciens.km":true,"veterinaire.km":true,"edu.km":true,"gouv.km":true,"mil.km":true,"net.kn":true,"org.kn":true,"edu.kn":true,"gov.kn":true,"kr":true,"co.kr":true,"ne.kr":true,"or.kr":true,"re.kr":true,"pe.kr":true,"go.kr":true,"mil.kr":true,"ac.kr":true,"hs.kr":true,"ms.kr":true,"es.kr":true,"sc.kr":true,"kg.kr":true,"seoul.kr":true,"busan.kr":true,"daegu.kr":true,"incheon.kr":true,"gwangju.kr":true,"daejeon.kr":true,"ulsan.kr":true,"gyeonggi.kr":true,"gangwon.kr":true,"chungbuk.kr":true,"chungnam.kr":true,"jeonbuk.kr":true,"jeonnam.kr":true,"gyeongbuk.kr":true,"gyeongnam.kr":true,"jeju.kr":true,"edu.kw":true,"com.kw":true,"net.kw":true,"org.kw":true,"gov.kw":true,"com.ky":true,"org.ky":true,"net.ky":true,"edu.ky":true,"gov.ky":true,"com.kz":true,"edu.kz":true,"gov.kz":true,"mil.kz":true,"net.kz":true,"org.kz":true,"com.lb":true,"edu.lb":true,"gov.lb":true,"net.lb":true,"org.lb":true,"gov.lk":true,"sch.lk":true,"net.lk":true,"int.lk":true,"com.lk":true,"org.lk":true,"edu.lk":true,"ngo.lk":true,"soc.lk":true,"web.lk":true,"ltd.lk":true,"assn.lk":true,"grp.lk":true,"hotel.lk":true,"com.lr":true,"edu.lr":true,"gov.lr":true,"org.lr":true,"net.lr":true,"com.lv":true,"edu.lv":true,"gov.lv":true,"org.lv":true,"mil.lv":true,"id.lv":true,"net.lv":true,"asn.lv":true,"conf.lv":true,"com.ly":true,"net.ly":true,"gov.ly":true,"plc.ly":true,"edu.ly":true,"sch.ly":true,"med.ly":true,"org.ly":true,"id.ly":true,"ma":true,"net.ma":true,"ac.ma":true,"org.ma":true,"gov.ma":true,"press.ma":true,"co.ma":true,"tm.mc":true,"asso.mc":true,"co.me":true,"net.me":true,"org.me":true,"edu.me":true,"ac.me":true,"gov.me":true,"its.me":true,"priv.me":true,"org.mg":true,"nom.mg":true,"gov.mg":true,"prd.mg":true,"tm.mg":true,"edu.mg":true,"mil.mg":true,"com.mg":true,"com.mk":true,"org.mk":true,"net.mk":true,"edu.mk":true,"gov.mk":true,"inf.mk":true,"name.mk":true,"pro.mk":true,"com.ml":true,"net.ml":true,"org.ml":true,"edu.ml":true,"gov.ml":true,"presse.ml":true,"gov.mn":true,"edu.mn":true,"org.mn":true,"com.mo":true,"edu.mo":true,"gov.mo":true,"net.mo":true,"org.mo":true,"com.mt":true,"org.mt":true,"net.mt":true,"edu.mt":true,"gov.mt":true,"aero.mv":true,"biz.mv":true,"com.mv":true,"coop.mv":true,"edu.mv":true,"gov.mv":true,"info.mv":true,"int.mv":true,"mil.mv":true,"museum.mv":true,"name.mv":true,"net.mv":true,"org.mv":true,"pro.mv":true,"ac.mw":true,"co.mw":true,"com.mw":true,"coop.mw":true,"edu.mw":true,"gov.mw":true,"int.mw":true,"museum.mw":true,"net.mw":true,"org.mw":true,"com.mx":true,"net.mx":true,"org.mx":true,"edu.mx":true,"gob.mx":true,"com.my":true,"net.my":true,"org.my":true,"gov.my":true,"edu.my":true,"sch.my":true,"mil.my":true,"name.my":true,"com.nf":true,"net.nf":true,"arts.nf":true,"store.nf":true,"web.nf":true,"firm.nf":true,"info.nf":true,"other.nf":true,"per.nf":true,"rec.nf":true,"com.ng":true,"org.ng":true,"gov.ng":true,"edu.ng":true,"net.ng":true,"sch.ng":true,"name.ng":true,"mobi.ng":true,"biz.ng":true,"mil.ng":true,"gob.ni":true,"co.ni":true,"com.ni":true,"ac.ni":true,"edu.ni":true,"org.ni":true,"nom.ni":true,"net.ni":true,"mil.ni":true,"com.np":true,"edu.np":true,"gov.np":true,"org.np":true,"mil.np":true,"net.np":true,"edu.nr":true,"gov.nr":true,"biz.nr":true,"info.nr":true,"net.nr":true,"org.nr":true,"com.nr":true,"com.om":true,"co.om":true,"edu.om":true,"ac.om":true,"sch.om":true,"gov.om":true,"net.om":true,"org.om":true,"mil.om":true,"museum.om":true,"biz.om":true,"pro.om":true,"med.om":true,"edu.pe":true,"gob.pe":true,"nom.pe":true,"mil.pe":true,"sld.pe":true,"org.pe":true,"com.pe":true,"net.pe":true,"com.ph":true,"net.ph":true,"org.ph":true,"mil.ph":true,"ngo.ph":true,"i.ph":true,"gov.ph":true,"edu.ph":true,"com.pk":true,"net.pk":true,"edu.pk":true,"org.pk":true,"fam.pk":true,"biz.pk":true,"web.pk":true,"gov.pk":true,"gob.pk":true,"gok.pk":true,"gon.pk":true,"gop.pk":true,"gos.pk":true,"pwr.pl":true,"com.pl":true,"biz.pl":true,"net.pl":true,"art.pl":true,"edu.pl":true,"org.pl":true,"ngo.pl":true,"gov.pl":true,"info.pl":true,"mil.pl":true,"waw.pl":true,"warszawa.pl":true,"wroc.pl":true,"wroclaw.pl":true,"krakow.pl":true,"katowice.pl":true,"poznan.pl":true,"lodz.pl":true,"gda.pl":true,"gdansk.pl":true,"slupsk.pl":true,"radom.pl":true,"szczecin.pl":true,"lublin.pl":true,"bialystok.pl":true,"olsztyn.pl":true,"torun.pl":true,"gorzow.pl":true,"zgora.pl":true,"biz.pr":true,"com.pr":true,"edu.pr":true,"gov.pr":true,"info.pr":true,"isla.pr":true,"name.pr":true,"net.pr":true,"org.pr":true,"pro.pr":true,"est.pr":true,"prof.pr":true,"ac.pr":true,"com.ps":true,"net.ps":true,"org.ps":true,"edu.ps":true,"gov.ps":true,"plo.ps":true,"sec.ps":true,"co.pw":true,"ne.pw":true,"or.pw":true,"ed.pw":true,"go.pw":true,"belau.pw":true,"arts.ro":true,"com.ro":true,"firm.ro":true,"info.ro":true,"nom.ro":true,"nt.ro":true,"org.ro":true,"rec.ro":true,"store.ro":true,"tm.ro":true,"www.ro":true,"co.rs":true,"org.rs":true,"edu.rs":true,"ac.rs":true,"gov.rs":true,"in.rs":true,"com.sb":true,"net.sb":true,"edu.sb":true,"org.sb":true,"gov.sb":true,"com.sc":true,"net.sc":true,"edu.sc":true,"gov.sc":true,"org.sc":true,"co.sh":true,"com.sh":true,"org.sh":true,"gov.sh":true,"edu.sh":true,"net.sh":true,"nom.sh":true,"com.sl":true,"net.sl":true,"org.sl":true,"edu.sl":true,"gov.sl":true,"gov.st":true,"saotome.st":true,"principe.st":true,"consulado.st":true,"embaixada.st":true,"org.st":true,"edu.st":true,"net.st":true,"com.st":true,"store.st":true,"mil.st":true,"co.st":true,"edu.sv":true,"gob.sv":true,"com.sv":true,"org.sv":true,"red.sv":true,"co.sz":true,"ac.sz":true,"org.sz":true,"com.tr":true,"gen.tr":true,"org.tr":true,"biz.tr":true,"info.tr":true,"av.tr":true,"dr.tr":true,"pol.tr":true,"bel.tr":true,"tsk.tr":true,"bbs.tr":true,"k12.tr":true,"edu.tr":true,"name.tr":true,"net.tr":true,"gov.tr":true,"web.tr":true,"tel.tr":true,"tv.tr":true,"co.tt":true,"com.tt":true,"org.tt":true,"net.tt":true,"biz.tt":true,"info.tt":true,"pro.tt":true,"int.tt":true,"coop.tt":true,"jobs.tt":true,"mobi.tt":true,"travel.tt":true,"museum.tt":true,"aero.tt":true,"cat.tt":true,"tel.tt":true,"name.tt":true,"mil.tt":true,"edu.tt":true,"gov.tt":true,"edu.tw":true,"gov.tw":true,"mil.tw":true,"com.tw":true,"net.tw":true,"org.tw":true,"idv.tw":true,"game.tw":true,"ebiz.tw":true,"club.tw":true,"com.mu":true,"gov.mu":true,"net.mu":true,"org.mu":true,"ac.mu":true,"co.mu":true,"or.mu":true,"ac.mz":true,"co.mz":true,"edu.mz":true,"org.mz":true,"gov.mz":true,"com.na":true,"co.na":true,"ac.nz":true,"co.nz":true,"cri.nz":true,"geek.nz":true,"gen.nz":true,"govt.nz":true,"health.nz":true,"iwi.nz":true,"maori.nz":true,"mil.nz":true,"net.nz":true,"org.nz":true,"parliament.nz":true,"school.nz":true,"abo.pa":true,"ac.pa":true,"com.pa":true,"edu.pa":true,"gob.pa":true,"ing.pa":true,"med.pa":true,"net.pa":true,"nom.pa":true,"org.pa":true,"sld.pa":true,"com.pt":true,"edu.pt":true,"gov.pt":true,"int.pt":true,"net.pt":true,"nome.pt":true,"org.pt":true,"publ.pt":true,"com.py":true,"edu.py":true,"gov.py":true,"mil.py":true,"net.py":true,"org.py":true,"com.qa":true,"edu.qa":true,"gov.qa":true,"mil.qa":true,"net.qa":true,"org.qa":true,"asso.re":true,"com.re":true,"nom.re":true,"ac.ru":true,"adygeya.ru":true,"altai.ru":true,"amur.ru":true,"arkhangelsk.ru":true,"astrakhan.ru":true,"bashkiria.ru":true,"belgorod.ru":true,"bir.ru":true,"bryansk.ru":true,"buryatia.ru":true,"cbg.ru":true,"chel.ru":true,"chelyabinsk.ru":true,"chita.ru":true,"chukotka.ru":true,"chuvashia.ru":true,"com.ru":true,"dagestan.ru":true,"e-burg.ru":true,"edu.ru":true,"gov.ru":true,"grozny.ru":true,"int.ru":true,"irkutsk.ru":true,"ivanovo.ru":true,"izhevsk.ru":true,"jar.ru":true,"joshkar-ola.ru":true,"kalmykia.ru":true,"kaluga.ru":true,"kamchatka.ru":true,"karelia.ru":true,"kazan.ru":true,"kchr.ru":true,"kemerovo.ru":true,"khabarovsk.ru":true,"khakassia.ru":true,"khv.ru":true,"kirov.ru":true,"koenig.ru":true,"komi.ru":true,"kostroma.ru":true,"kranoyarsk.ru":true,"kuban.ru":true,"kurgan.ru":true,"kursk.ru":true,"lipetsk.ru":true,"magadan.ru":true,"mari.ru":true,"mari-el.ru":true,"marine.ru":true,"mil.ru":true,"mordovia.ru":true,"mosreg.ru":true,"msk.ru":true,"murmansk.ru":true,"nalchik.ru":true,"net.ru":true,"nnov.ru":true,"nov.ru":true,"novosibirsk.ru":true,"nsk.ru":true,"omsk.ru":true,"orenburg.ru":true,"org.ru":true,"oryol.ru":true,"penza.ru":true,"perm.ru":true,"pp.ru":true,"pskov.ru":true,"ptz.ru":true,"rnd.ru":true,"ryazan.ru":true,"sakhalin.ru":true,"samara.ru":true,"saratov.ru":true,"simbirsk.ru":true,"smolensk.ru":true,"spb.ru":true,"stavropol.ru":true,"stv.ru":true,"surgut.ru":true,"tambov.ru":true,"tatarstan.ru":true,"tom.ru":true,"tomsk.ru":true,"tsaritsyn.ru":true,"tsk.ru":true,"tula.ru":true,"tuva.ru":true,"tver.ru":true,"tyumen.ru":true,"udm.ru":true,"udmurtia.ru":true,"ulan-ude.ru":true,"vladikavkaz.ru":true,"vladimir.ru":true,"vladivostok.ru":true,"volgograd.ru":true,"vologda.ru":true,"voronezh.ru":true,"vrn.ru":true,"vyatka.ru":true,"yakutia.ru":true,"yamal.ru":true,"yekaterinburg.ru":true,"yuzhno-sakhalinsk.ru":true,"ac.rw":true,"co.rw":true,"com.rw":true,"edu.rw":true,"gouv.rw":true,"gov.rw":true,"int.rw":true,"mil.rw":true,"net.rw":true,"com.sa":true,"edu.sa":true,"gov.sa":true,"med.sa":true,"net.sa":true,"org.sa":true,"pub.sa":true,"sch.sa":true,"com.sd":true,"edu.sd":true,"gov.sd":true,"info.sd":true,"med.sd":true,"net.sd":true,"org.sd":true,"tv.sd":true,"a.se":true,"ac.se":true,"b.se":true,"bd.se":true,"c.se":true,"d.se":true,"e.se":true,"f.se":true,"g.se":true,"h.se":true,"i.se":true,"k.se":true,"l.se":true,"m.se":true,"n.se":true,"o.se":true,"org.se":true,"p.se":true,"parti.se":true,"pp.se":true,"press.se":true,"r.se":true,"s.se":true,"t.se":true,"tm.se":true,"u.se":true,"w.se":true,"x.se":true,"y.se":true,"z.se":true,"com.sg":true,"edu.sg":true,"gov.sg":true,"idn.sg":true,"net.sg":true,"org.sg":true,"per.sg":true,"art.sn":true,"com.sn":true,"edu.sn":true,"gouv.sn":true,"org.sn":true,"perso.sn":true,"univ.sn":true,"com.sy":true,"edu.sy":true,"gov.sy":true,"mil.sy":true,"net.sy":true,"news.sy":true,"org.sy":true,"ac.th":true,"co.th":true,"go.th":true,"in.th":true,"mi.th":true,"net.th":true,"or.th":true,"ac.tj":true,"biz.tj":true,"co.tj":true,"com.tj":true,"edu.tj":true,"go.tj":true,"gov.tj":true,"info.tj":true,"int.tj":true,"mil.tj":true,"name.tj":true,"net.tj":true,"nic.tj":true,"org.tj":true,"test.tj":true,"web.tj":true,"agrinet.tn":true,"com.tn":true,"defense.tn":true,"edunet.tn":true,"ens.tn":true,"fin.tn":true,"gov.tn":true,"ind.tn":true,"info.tn":true,"intl.tn":true,"mincom.tn":true,"nat.tn":true,"net.tn":true,"org.tn":true,"perso.tn":true,"rnrt.tn":true,"rns.tn":true,"rnu.tn":true,"tourism.tn":true,"ac.tz":true,"co.tz":true,"go.tz":true,"ne.tz":true,"or.tz":true,"biz.ua":true,"cherkassy.ua":true,"chernigov.ua":true,"chernovtsy.ua":true,"ck.ua":true,"cn.ua":true,"co.ua":true,"com.ua":true,"crimea.ua":true,"cv.ua":true,"dn.ua":true,"dnepropetrovsk.ua":true,"donetsk.ua":true,"dp.ua":true,"edu.ua":true,"gov.ua":true,"if.ua":true,"in.ua":true,"ivano-frankivsk.ua":true,"kh.ua":true,"kharkov.ua":true,"kherson.ua":true,"khmelnitskiy.ua":true,"kiev.ua":true,"kirovograd.ua":true,"km.ua":true,"kr.ua":true,"ks.ua":true,"kv.ua":true,"lg.ua":true,"lugansk.ua":true,"lutsk.ua":true,"lviv.ua":true,"me.ua":true,"mk.ua":true,"net.ua":true,"nikolaev.ua":true,"od.ua":true,"odessa.ua":true,"org.ua":true,"pl.ua":true,"poltava.ua":true,"pp.ua":true,"rovno.ua":true,"rv.ua":true,"sebastopol.ua":true,"sumy.ua":true,"te.ua":true,"ternopil.ua":true,"uzhgorod.ua":true,"vinnica.ua":true,"vn.ua":true,"zaporizhzhe.ua":true,"zhitomir.ua":true,"zp.ua":true,"zt.ua":true,"ac.ug":true,"co.ug":true,"go.ug":true,"ne.ug":true,"or.ug":true,"org.ug":true,"sc.ug":true,"ac.uk":true,"bl.uk":true,"british-library.uk":true,"co.uk":true,"cym.uk":true,"gov.uk":true,"govt.uk":true,"icnet.uk":true,"jet.uk":true,"lea.uk":true,"ltd.uk":true,"me.uk":true,"mil.uk":true,"mod.uk":true,"national-library-scotland.uk":true,"nel.uk":true,"net.uk":true,"nhs.uk":true,"nic.uk":true,"nls.uk":true,"org.uk":true,"orgn.uk":true,"parliament.uk":true,"plc.uk":true,"police.uk":true,"sch.uk":true,"scot.uk":true,"soc.uk":true,"4fd.us":true,"dni.us":true,"fed.us":true,"isa.us":true,"kids.us":true,"nsn.us":true,"com.uy":true,"edu.uy":true,"gub.uy":true,"mil.uy":true,"net.uy":true,"org.uy":true,"co.ve":true,"com.ve":true,"edu.ve":true,"gob.ve":true,"info.ve":true,"mil.ve":true,"net.ve":true,"org.ve":true,"web.ve":true,"co.vi":true,"com.vi":true,"k12.vi":true,"net.vi":true,"org.vi":true,"ac.vn":true,"biz.vn":true,"com.vn":true,"edu.vn":true,"gov.vn":true,"health.vn":true,"info.vn":true,"int.vn":true,"name.vn":true,"net.vn":true,"org.vn":true,"pro.vn":true,"co.ye":true,"com.ye":true,"gov.ye":true,"ltd.ye":true,"me.ye":true,"net.ye":true,"org.ye":true,"plc.ye":true,"ac.yu":true,"co.yu":true,"edu.yu":true,"gov.yu":true,"org.yu":true,"ac.za":true,"agric.za":true,"alt.za":true,"bourse.za":true,"city.za":true,"co.za":true,"cybernet.za":true,"db.za":true,"ecape.school.za":true,"edu.za":true,"fs.school.za":true,"gov.za":true,"gp.school.za":true,"grondar.za":true,"iaccess.za":true,"imt.za":true,"inca.za":true,"kzn.school.za":true,"landesign.za":true,"law.za":true,"lp.school.za":true,"mil.za":true,"mpm.school.za":true,"ncape.school.za":true,"net.za":true,"ngo.za":true,"nis.za":true,"nom.za":true,"nw.school.za":true,"olivetti.za":true,"org.za":true,"pix.za":true,"school.za":true,"tm.za":true,"wcape.school.za":true,"web.za":true,"ac.zm":true,"co.zm":true,"com.zm":true,"edu.zm":true,"gov.zm":true,"net.zm":true,"org.zm":true,"sch.zm":true}')},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2154:(e,t,n)=>{var r=n(5575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},2322:(e,t,n)=>{var r=n(6913),o=n(5990),i=n(2761),s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2330:(e,t,n)=>{"use strict";var r=n(5043);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,s=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return a(function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})},[e,n,t]),s(function(){return c(o)&&u({inst:o}),e(function(){c(o)&&u({inst:o})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),o=n(9841),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(s.test(e)||!i.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2756:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;for(o of t.entries())if(!e(o[1],n.get(o[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(o of t.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if((r=t.length)!=n.length)return!1;for(o=r;0!==o--;)if(t[o]!==n[o])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!==o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!==o--;){var s=i[o];if(("_owner"!==s||!t.$$typeof)&&!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),o=n(2761),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),o=n(914);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3096:()=>{},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},3204:(e,t,n)=>{var r=n(3343),o=n(2777),i=n(4052),s=n(4543),a=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&o(e),d=!n&&!u&&s(e),h=!n&&!u&&!d&&l(e),p=n||u||d||h,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),o=n(9057);e.exports=function(e,t){return null!=e&&o(e,t,r)}},3411:(e,t,n)=>{var r=n(149),o=n(9096),i=n(8883),s=n(4052);e.exports=function(e,t){return(s(e)?r:i)(e,o(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!==typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(5043)),o=d(n(9632)),i=d(n(8656)),s=d(n(4169)),a=d(n(5559)),l=d(n(9386)),c=n(564),u=n(8226);function d(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){k(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(p,e);var t,n,d,h=b(p);function p(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),k(w(t=h.call(this,e)),"thumbsRef",void 0),k(w(t),"carouselWrapperRef",void 0),k(w(t),"listRef",void 0),k(w(t),"itemsRef",void 0),k(w(t),"timer",void 0),k(w(t),"animationHandler",void 0),k(w(t),"setThumbsRef",function(e){t.thumbsRef=e}),k(w(t),"setCarouselWrapperRef",function(e){t.carouselWrapperRef=e}),k(w(t),"setListRef",function(e){t.listRef=e}),k(w(t),"setItemsRef",function(e,n){t.itemsRef||(t.itemsRef=[]),t.itemsRef[n]=e}),k(w(t),"autoPlay",function(){r.Children.count(t.props.children)<=1||(t.clearAutoPlay(),t.props.autoPlay&&(t.timer=setTimeout(function(){t.increment()},t.props.interval)))}),k(w(t),"clearAutoPlay",function(){t.timer&&clearTimeout(t.timer)}),k(w(t),"resetAutoPlay",function(){t.clearAutoPlay(),t.autoPlay()}),k(w(t),"stopOnHover",function(){t.setState({isMouseEntered:!0},t.clearAutoPlay)}),k(w(t),"startOnLeave",function(){t.setState({isMouseEntered:!1},t.autoPlay)}),k(w(t),"isFocusWithinTheCarousel",function(){return!!t.carouselWrapperRef&&!((0,a.default)().activeElement!==t.carouselWrapperRef&&!t.carouselWrapperRef.contains((0,a.default)().activeElement))}),k(w(t),"navigateWithKeyboard",function(e){if(t.isFocusWithinTheCarousel()){var n="horizontal"===t.props.axis,r=n?37:38;(n?39:40)===e.keyCode?t.increment():r===e.keyCode&&t.decrement()}}),k(w(t),"updateSizes",function(){if(t.state.initialized&&t.itemsRef&&0!==t.itemsRef.length){var e="horizontal"===t.props.axis,n=t.itemsRef[0];if(n){var r=e?n.clientWidth:n.clientHeight;t.setState({itemSize:r}),t.thumbsRef&&t.thumbsRef.updateSizes()}}}),k(w(t),"setMountState",function(){t.setState({hasMount:!0}),t.updateSizes()}),k(w(t),"handleClickItem",function(e,n){0!==r.Children.count(t.props.children)&&(t.state.cancelClick?t.setState({cancelClick:!1}):(t.props.onClickItem(e,n),e!==t.state.selectedItem&&t.setState({selectedItem:e})))}),k(w(t),"handleOnChange",function(e,n){r.Children.count(t.props.children)<=1||t.props.onChange(e,n)}),k(w(t),"handleClickThumb",function(e,n){t.props.onClickThumb(e,n),t.moveTo(e)}),k(w(t),"onSwipeStart",function(e){t.setState({swiping:!0}),t.props.onSwipeStart(e)}),k(w(t),"onSwipeEnd",function(e){t.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),t.props.onSwipeEnd(e),t.clearAutoPlay(),t.state.autoPlay&&t.autoPlay()}),k(w(t),"onSwipeMove",function(e,n){t.props.onSwipeMove(n);var r=t.props.swipeAnimationHandler(e,t.props,t.state,t.setState.bind(w(t)));return t.setState(g({},r)),!!Object.keys(r).length}),k(w(t),"decrement",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem-("number"===typeof e?e:1))}),k(w(t),"increment",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.moveTo(t.state.selectedItem+("number"===typeof e?e:1))}),k(w(t),"moveTo",function(e){if("number"===typeof e){var n=r.Children.count(t.props.children)-1;e<0&&(e=t.props.infiniteLoop?n:0),e>n&&(e=t.props.infiniteLoop?0:n),t.selectItem({selectedItem:e}),t.state.autoPlay&&!1===t.state.isMouseEntered&&t.resetAutoPlay()}}),k(w(t),"onClickNext",function(){t.increment(1)}),k(w(t),"onClickPrev",function(){t.decrement(1)}),k(w(t),"onSwipeForward",function(){t.increment(1),t.props.emulateTouch&&t.setState({cancelClick:!0})}),k(w(t),"onSwipeBackwards",function(){t.decrement(1),t.props.emulateTouch&&t.setState({cancelClick:!0})}),k(w(t),"changeItem",function(e){return function(n){(0,c.isKeyboardEvent)(n)&&"Enter"!==n.key||t.moveTo(e)}}),k(w(t),"selectItem",function(e){t.setState(g({previousItem:t.state.selectedItem},e),function(){t.setState(t.animationHandler(t.props,t.state))}),t.handleOnChange(e.selectedItem,r.Children.toArray(t.props.children)[e.selectedItem])}),k(w(t),"getInitialImage",function(){var e=t.props.selectedItem,n=t.itemsRef&&t.itemsRef[e];return(n&&n.getElementsByTagName("img")||[])[0]}),k(w(t),"getVariableItemHeight",function(e){var n=t.itemsRef&&t.itemsRef[e];if(t.state.hasMount&&n&&n.children.length){var r=n.children[0].getElementsByTagName("img")||[];if(r.length>0){var o=r[0];if(!o.complete){o.addEventListener("load",function e(){t.forceUpdate(),o.removeEventListener("load",e)})}}var i=(r[0]||n.children[0]).clientHeight;return i>0?i:null}return null});var n={initialized:!1,previousItem:e.selectedItem,selectedItem:e.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:e.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return t.animationHandler="function"===typeof e.animationHandler&&e.animationHandler||"fade"===e.animationHandler&&u.fadeAnimationHandler||u.slideAnimationHandler,t.state=g(g({},n),t.animationHandler(e,n)),t}return t=p,(n=[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(e,t){e.children||!this.props.children||this.state.initialized||this.setupCarousel(),!e.autoFocus&&this.props.autoFocus&&this.forceFocus(),t.swiping&&!this.state.swiping&&this.setState(g({},this.props.stopSwipingHandler(this.props,this.state))),e.selectedItem===this.props.selectedItem&&e.centerMode===this.props.centerMode||(this.updateSizes(),this.moveTo(this.props.selectedItem)),e.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var e=this;this.bindEvents(),this.state.autoPlay&&r.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var t=e.getInitialImage();t&&!t.complete?t.addEventListener("load",e.setMountState):e.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.addEventListener("mouseenter",this.stopOnHover),e.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var e=this.carouselWrapperRef;this.props.stopOnHover&&e&&(e.removeEventListener("mouseenter",this.stopOnHover),e.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,a.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var e=this.getInitialImage();e&&e.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,a.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var e;null===(e=this.carouselWrapperRef)||void 0===e||e.focus()}},{key:"renderItems",value:function(e){var t=this;return this.props.children?r.Children.map(this.props.children,function(n,o){var s=o===t.state.selectedItem,a=o===t.state.previousItem,l=s&&t.state.selectedStyle||a&&t.state.prevStyle||t.state.slideStyle||{};t.props.centerMode&&"horizontal"===t.props.axis&&(l=g(g({},l),{},{minWidth:t.props.centerSlidePercentage+"%"})),t.state.swiping&&t.state.swipeMovementStarted&&(l=g(g({},l),{},{pointerEvents:"none"}));var c={ref:function(e){return t.setItemsRef(e,o)},key:"itemKey"+o+(e?"clone":""),className:i.default.ITEM(!0,o===t.state.selectedItem,o===t.state.previousItem),onClick:t.handleClickItem.bind(t,o,n),style:l};return r.default.createElement("li",c,t.props.renderItem(n,{isSelected:o===t.state.selectedItem,isPrevious:o===t.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var e=this,t=this.props,n=t.showIndicators,o=t.labels,i=t.renderIndicator,s=t.children;return n?r.default.createElement("ul",{className:"control-dots"},r.Children.map(s,function(t,n){return i&&i(e.changeItem(n),n===e.state.selectedItem,n,o.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?r.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,r.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return this.props.showThumbs&&this.props.children&&0!==r.Children.count(this.props.children)?r.default.createElement(s.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children)):null}},{key:"render",value:function(){var e=this;if(!this.props.children||0===r.Children.count(this.props.children))return null;var t=this.props.swipeable&&r.Children.count(this.props.children)>1,n="horizontal"===this.props.axis,s=this.props.showArrows&&r.Children.count(this.props.children)>1,a=s&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,l=s&&(this.state.selectedItem<r.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,c=this.renderItems(!0),u=c.shift(),d=c.pop(),h={className:i.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},p={};if(n){if(h.onSwipeLeft=this.onSwipeForward,h.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var m=this.getVariableItemHeight(this.state.selectedItem);p.height=m||"auto"}}else h.onSwipeUp="natural"===this.props.verticalSwipe?this.onSwipeBackwards:this.onSwipeForward,h.onSwipeDown="natural"===this.props.verticalSwipe?this.onSwipeForward:this.onSwipeBackwards,h.style=g(g({},h.style),{},{height:this.state.itemSize}),p.height=this.state.itemSize;return r.default.createElement("div",{"aria-label":this.props.ariaLabel,className:i.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},r.default.createElement("div",{className:i.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,a,this.props.labels.leftArrow),r.default.createElement("div",{className:i.default.WRAPPER(!0,this.props.axis),style:p},t?r.default.createElement(o.default,f({tagName:"ul",innerRef:this.setListRef},h,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&d,this.renderItems(),this.props.infiniteLoop&&u):r.default.createElement("ul",{className:i.default.SLIDER(!0,this.state.swiping),ref:function(t){return e.setListRef(t)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&d,this.renderItems(),this.props.infiniteLoop&&u)),this.props.renderArrowNext(this.onClickNext,l,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}])&&v(t.prototype,n),d&&v(t,d),p}(r.default.Component);t.default=_,k(_,"displayName","Carousel"),k(_,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:c.noop,onClickThumb:c.noop,onChange:c.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:i.default.ARROW_PREV(!t),onClick:e})},renderArrowNext:function(e,t,n){return r.default.createElement("button",{type:"button","aria-label":n,className:i.default.ARROW_NEXT(!t),onClick:e})},renderIndicator:function(e,t,n,o){return r.default.createElement("li",{className:i.default.DOT(t),onClick:e,onKeyDown:e,value:n,key:n,role:"button",tabIndex:0,"aria-label":"".concat(o," ").concat(n+1)})},renderItem:function(e){return e},renderThumbs:function(e){var t=r.Children.map(e,function(e){var t=e;if("img"!==e.type&&(t=r.Children.toArray(e.props.children).find(function(e){return"img"===e.type})),t)return t});return 0===t.filter(function(e){return e}).length?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):t},statusFormatter:c.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler})},3516:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},3536:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,c=32,u=64,d=128,h=256,p=1/0,f=9007199254740991,m=NaN,g=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",h]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",x="[object Date]",k="[object Error]",_="[object Function]",C="[object GeneratorFunction]",S="[object Map]",E="[object Number]",T="[object Object]",A="[object Promise]",D="[object RegExp]",N="[object Set]",O="[object String]",I="[object Symbol]",P="[object WeakMap]",j="[object ArrayBuffer]",M="[object DataView]",R="[object Float32Array]",F="[object Float64Array]",L="[object Int8Array]",z="[object Int16Array]",B="[object Int32Array]",U="[object Uint8Array]",V="[object Uint8ClampedArray]",H="[object Uint16Array]",q="[object Uint32Array]",W=/\b__p \+= '';/g,Y=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,Q=RegExp(G.source),J=RegExp($.source),X=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),se=/^\s+/,ae=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ke=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,Ce="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",De="\\ufe0e\\ufe0f",Ne="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oe="['\u2019]",Ie="["+Ce+"]",Pe="["+Ne+"]",je="["+Se+"]",Me="\\d+",Re="["+Ee+"]",Fe="["+Te+"]",Le="[^"+Ce+Ne+Me+Ee+Te+Ae+"]",ze="\\ud83c[\\udffb-\\udfff]",Be="[^"+Ce+"]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ae+"]",qe="\\u200d",We="(?:"+Fe+"|"+Le+")",Ye="(?:"+He+"|"+Le+")",Ke="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ge="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",$e="(?:"+je+"|"+ze+")"+"?",Qe="["+De+"]?",Je=Qe+$e+("(?:"+qe+"(?:"+[Be,Ue,Ve].join("|")+")"+Qe+$e+")*"),Xe="(?:"+[Re,Ue,Ve].join("|")+")"+Je,Ze="(?:"+[Be+je+"?",je,Ue,Ve,Ie].join("|")+")",et=RegExp(Oe,"g"),tt=RegExp(je,"g"),nt=RegExp(ze+"(?="+ze+")|"+Ze+Je,"g"),rt=RegExp([He+"?"+Fe+"+"+Ke+"(?="+[Pe,He,"$"].join("|")+")",Ye+"+"+Ge+"(?="+[Pe,He+We,"$"].join("|")+")",He+"?"+We+"+"+Ke,He+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Xe].join("|"),"g"),ot=RegExp("["+qe+Ce+Se+De+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,lt={};lt[R]=lt[F]=lt[L]=lt[z]=lt[B]=lt[U]=lt[V]=lt[H]=lt[q]=!0,lt[y]=lt[b]=lt[j]=lt[w]=lt[M]=lt[x]=lt[k]=lt[_]=lt[S]=lt[E]=lt[T]=lt[D]=lt[N]=lt[O]=lt[P]=!1;var ct={};ct[y]=ct[b]=ct[j]=ct[M]=ct[w]=ct[x]=ct[R]=ct[F]=ct[L]=ct[z]=ct[B]=ct[S]=ct[E]=ct[T]=ct[D]=ct[N]=ct[O]=ct[I]=ct[U]=ct[V]=ct[H]=ct[q]=!0,ct[k]=ct[_]=ct[P]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ht=parseInt,pt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ft="object"==typeof self&&self&&self.Object===Object&&self,mt=pt||ft||Function("return this")(),gt=t&&!t.nodeType&&t,vt=gt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===gt,bt=yt&&pt.process,wt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),xt=wt&&wt.isArrayBuffer,kt=wt&&wt.isDate,_t=wt&&wt.isMap,Ct=wt&&wt.isRegExp,St=wt&&wt.isSet,Et=wt&&wt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function At(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Nt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function It(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}function Pt(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function jt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Rt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Ft(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Lt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function zt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=Kt("length");function Ut(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function Vt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Ht(e,t,n){return t===t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Vt(e,Wt,n)}function qt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Wt(e){return e!==e}function Yt(e,t){var n=null==e?0:e.length;return n?Qt(e,t)/n:m}function Kt(e){return function(t){return null==t?o:t[e]}}function Gt(e){return function(t){return null==e?o:e[t]}}function $t(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function Qt(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);s!==o&&(n=n===o?s:n+s)}return n}function Jt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,gn(e)+1).replace(se,""):e}function Zt(e){return function(t){return e(t)}}function en(e,t){return Mt(t,function(t){return e[t]})}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Ht(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Ht(t,e[n],0)>-1;);return n}var on=Gt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),sn=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function ln(e){return ot.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function un(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,i[o++]=n)}return i}function hn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function pn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function fn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Bt(e)}function mn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var vn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?mt:yn.defaults(mt.Object(),t,yn.pick(mt,st))).Array,r=t.Date,ae=t.Error,Ce=t.Function,Se=t.Math,Ee=t.Object,Te=t.RegExp,Ae=t.String,De=t.TypeError,Ne=n.prototype,Oe=Ce.prototype,Ie=Ee.prototype,Pe=t["__core-js_shared__"],je=Oe.toString,Me=Ie.hasOwnProperty,Re=0,Fe=function(){var e=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Le=Ie.toString,ze=je.call(Ee),Be=mt._,Ue=Te("^"+je.call(Me).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=yt?t.Buffer:o,He=t.Symbol,qe=t.Uint8Array,We=Ve?Ve.allocUnsafe:o,Ye=un(Ee.getPrototypeOf,Ee),Ke=Ee.create,Ge=Ie.propertyIsEnumerable,$e=Ne.splice,Qe=He?He.isConcatSpreadable:o,Je=He?He.iterator:o,Xe=He?He.toStringTag:o,Ze=function(){try{var e=hi(Ee,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,ot=r&&r.now!==mt.Date.now&&r.now,ut=t.setTimeout!==mt.setTimeout&&t.setTimeout,pt=Se.ceil,ft=Se.floor,gt=Ee.getOwnPropertySymbols,vt=Ve?Ve.isBuffer:o,bt=t.isFinite,wt=Ne.join,Bt=un(Ee.keys,Ee),Gt=Se.max,bn=Se.min,wn=r.now,xn=t.parseInt,kn=Se.random,_n=Ne.reverse,Cn=hi(t,"DataView"),Sn=hi(t,"Map"),En=hi(t,"Promise"),Tn=hi(t,"Set"),An=hi(t,"WeakMap"),Dn=hi(Ee,"create"),Nn=An&&new An,On={},In=Li(Cn),Pn=Li(Sn),jn=Li(En),Mn=Li(Tn),Rn=Li(An),Fn=He?He.prototype:o,Ln=Fn?Fn.valueOf:o,zn=Fn?Fn.toString:o;function Bn(e){if(ta(e)&&!qs(e)&&!(e instanceof qn)){if(e instanceof Hn)return e;if(Me.call(e,"__wrapped__"))return zi(e)}return new Hn(e)}var Un=function(){function e(){}return function(t){if(!ea(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Vn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function qn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function $n(e){var t=this.__data__=new Yn(e);this.size=t.size}function Qn(e,t){var n=qs(e),r=!n&&Hs(e),o=!n&&!r&&Gs(e),i=!n&&!r&&!o&&ca(e),s=n||r||o||i,a=s?Jt(e.length,Ae):[],l=a.length;for(var c in e)!t&&!Me.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bi(c,l))||a.push(c);return a}function Jn(e){var t=e.length;return t?e[Gr(0,t-1)]:o}function Xn(e,t){return Mi(No(e),ar(t,0,e.length))}function Zn(e){return Mi(No(e))}function er(e,t,n){(n!==o&&!Bs(e[t],n)||n===o&&!(t in e))&&ir(e,t,n)}function tr(e,t,n){var r=e[t];Me.call(e,t)&&Bs(r,n)&&(n!==o||t in e)||ir(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Bs(e[n][0],t))return n;return-1}function rr(e,t,n,r){return hr(e,function(e,o,i){t(r,e,n(e),i)}),r}function or(e,t){return e&&Oo(t,Oa(t),e)}function ir(e,t,n){"__proto__"==t&&Ze?Ze(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,i=t.length,s=n(i),a=null==e;++r<i;)s[r]=a?o:Ea(e,t[r]);return s}function ar(e,t,n){return e===e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function lr(e,t,n,r,i,s){var a,l=1&t,c=2&t,u=4&t;if(n&&(a=i?n(e,r,i,s):n(e)),a!==o)return a;if(!ea(e))return e;var d=qs(e);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return No(e,a)}else{var h=mi(e),p=h==_||h==C;if(Gs(e))return Co(e,l);if(h==T||h==y||p&&!i){if(a=c||p?{}:vi(e),!l)return c?function(e,t){return Oo(e,fi(e),t)}(e,function(e,t){return e&&Oo(t,Ia(t),e)}(a,e)):function(e,t){return Oo(e,pi(e),t)}(e,or(a,e))}else{if(!ct[h])return i?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case j:return So(e);case w:case x:return new r(+e);case M:return function(e,t){var n=t?So(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case R:case F:case L:case z:case B:case U:case V:case H:case q:return Eo(e,n);case S:return new r;case E:case O:return new r(e);case D:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case N:return new r;case I:return o=e,Ln?Ee(Ln.call(o)):{}}var o}(e,h,l)}}s||(s=new $n);var f=s.get(e);if(f)return f;s.set(e,a),sa(e)?e.forEach(function(r){a.add(lr(r,t,n,r,e,s))}):na(e)&&e.forEach(function(r,o){a.set(o,lr(r,t,n,o,e,s))});var m=d?o:(u?c?ii:oi:c?Ia:Oa)(e);return Dt(m||e,function(r,o){m&&(r=e[o=r]),tr(a,o,lr(r,t,n,o,e,s))}),a}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ee(e);r--;){var i=n[r],s=t[i],a=e[i];if(a===o&&!(i in e)||!s(a))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new De(i);return Oi(function(){e.apply(o,n)},t)}function dr(e,t,n,r){var o=-1,i=Pt,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=Mt(t,Zt(n))),r?(i=jt,s=!1):t.length>=200&&(i=tn,s=!1,t=new Gn(t));e:for(;++o<a;){var u=e[o],d=null==n?u:n(u);if(u=r||0!==u?u:0,s&&d===d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else i(t,d,r)||l.push(u)}return l}Bn.templateSettings={escape:X,evaluate:Z,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=Vn.prototype,Bn.prototype.constructor=Bn,Hn.prototype=Un(Vn.prototype),Hn.prototype.constructor=Hn,qn.prototype=Un(Vn.prototype),qn.prototype.constructor=qn,Wn.prototype.clear=function(){this.__data__=Dn?Dn(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(Dn){var n=t[e];return n===s?o:n}return Me.call(t,e)?t[e]:o},Wn.prototype.has=function(e){var t=this.__data__;return Dn?t[e]!==o:Me.call(t,e)},Wn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Dn&&t===o?s:t,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():$e.call(t,n,1),--this.size,!0)},Yn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?o:t[n][1]},Yn.prototype.has=function(e){return nr(this.__data__,e)>-1},Yn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Sn||Yn),string:new Wn}},Kn.prototype.delete=function(e){var t=ui(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return ui(this,e).get(e)},Kn.prototype.has=function(e){return ui(this,e).has(e)},Kn.prototype.set=function(e,t){var n=ui(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,s),this},Gn.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.clear=function(){this.__data__=new Yn,this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$n.prototype.get=function(e){return this.__data__.get(e)},$n.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Yn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var hr=jo(wr),pr=jo(xr,!0);function fr(e,t){var n=!0;return hr(e,function(e,r,o){return n=!!t(e,r,o)}),n}function mr(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],a=t(s);if(null!=a&&(l===o?a===a&&!la(a):n(a,l)))var l=a,c=s}return c}function gr(e,t){var n=[];return hr(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function vr(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=yi),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?vr(a,t-1,n,r,o):Rt(o,a):r||(o[o.length]=a)}return o}var yr=Mo(),br=Mo(!0);function wr(e,t){return e&&yr(e,t,Oa)}function xr(e,t){return e&&br(e,t,Oa)}function kr(e,t){return It(t,function(t){return Js(e[t])})}function _r(e,t){for(var n=0,r=(t=wo(t,e)).length;null!=e&&n<r;)e=e[Fi(t[n++])];return n&&n==r?e:o}function Cr(e,t,n){var r=t(e);return qs(e)?r:Rt(r,n(e))}function Sr(e){return null==e?e===o?"[object Undefined]":"[object Null]":Xe&&Xe in Ee(e)?function(e){var t=Me.call(e,Xe),n=e[Xe];try{e[Xe]=o;var r=!0}catch(s){}var i=Le.call(e);r&&(t?e[Xe]=n:delete e[Xe]);return i}(e):function(e){return Le.call(e)}(e)}function Er(e,t){return e>t}function Tr(e,t){return null!=e&&Me.call(e,t)}function Ar(e,t){return null!=e&&t in Ee(e)}function Dr(e,t,r){for(var i=r?jt:Pt,s=e[0].length,a=e.length,l=a,c=n(a),u=1/0,d=[];l--;){var h=e[l];l&&t&&(h=Mt(h,Zt(t))),u=bn(h.length,u),c[l]=!r&&(t||s>=120&&h.length>=120)?new Gn(l&&h):o}h=e[0];var p=-1,f=c[0];e:for(;++p<s&&d.length<u;){var m=h[p],g=t?t(m):m;if(m=r||0!==m?m:0,!(f?tn(f,g):i(d,g,r))){for(l=a;--l;){var v=c[l];if(!(v?tn(v,g):i(e[l],g,r)))continue e}f&&f.push(g),d.push(m)}}return d}function Nr(e,t,n){var r=null==(e=Ai(e,t=wo(t,e)))?e:e[Fi(Qi(t))];return null==r?o:Tt(r,e,n)}function Or(e){return ta(e)&&Sr(e)==y}function Ir(e,t,n,r,i){return e===t||(null==e||null==t||!ta(e)&&!ta(t)?e!==e&&t!==t:function(e,t,n,r,i,s){var a=qs(e),l=qs(t),c=a?b:mi(e),u=l?b:mi(t),d=(c=c==y?T:c)==T,h=(u=u==y?T:u)==T,p=c==u;if(p&&Gs(e)){if(!Gs(t))return!1;a=!0,d=!1}if(p&&!d)return s||(s=new $n),a||ca(e)?ni(e,t,n,r,i,s):function(e,t,n,r,o,i,s){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case j:return!(e.byteLength!=t.byteLength||!i(new qe(e),new qe(t)));case w:case x:case E:return Bs(+e,+t);case k:return e.name==t.name&&e.message==t.message;case D:case O:return e==t+"";case S:var a=cn;case N:var l=1&r;if(a||(a=hn),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=ni(a(e),a(t),r,o,i,s);return s.delete(e),u;case I:if(Ln)return Ln.call(e)==Ln.call(t)}return!1}(e,t,c,n,r,i,s);if(!(1&n)){var f=d&&Me.call(e,"__wrapped__"),m=h&&Me.call(t,"__wrapped__");if(f||m){var g=f?e.value():e,v=m?t.value():t;return s||(s=new $n),i(g,v,n,r,s)}}if(!p)return!1;return s||(s=new $n),function(e,t,n,r,i,s){var a=1&n,l=oi(e),c=l.length,u=oi(t),d=u.length;if(c!=d&&!a)return!1;var h=c;for(;h--;){var p=l[h];if(!(a?p in t:Me.call(t,p)))return!1}var f=s.get(e),m=s.get(t);if(f&&m)return f==t&&m==e;var g=!0;s.set(e,t),s.set(t,e);var v=a;for(;++h<c;){var y=e[p=l[h]],b=t[p];if(r)var w=a?r(b,y,p,t,e,s):r(y,b,p,e,t,s);if(!(w===o?y===b||i(y,b,n,r,s):w)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var x=e.constructor,k=t.constructor;x==k||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof k&&k instanceof k||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,r,i,s)}(e,t,n,r,Ir,i))}function Pr(e,t,n,r){var i=n.length,s=i,a=!r;if(null==e)return!s;for(e=Ee(e);i--;){var l=n[i];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){var c=(l=n[i])[0],u=e[c],d=l[1];if(a&&l[2]){if(u===o&&!(c in e))return!1}else{var h=new $n;if(r)var p=r(u,d,c,e,t,h);if(!(p===o?Ir(d,u,3,r,h):p))return!1}}return!0}function jr(e){return!(!ea(e)||(t=e,Fe&&Fe in t))&&(Js(e)?Ue:ye).test(Li(e));var t}function Mr(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?qs(e)?Ur(e[0],e[1]):Br(e):hl(e)}function Rr(e){if(!Ci(e))return Bt(e);var t=[];for(var n in Ee(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!ea(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=Ci(e),n=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&n.push(r);return n}function Lr(e,t){return e<t}function zr(e,t){var r=-1,o=Ys(e)?n(e.length):[];return hr(e,function(e,n,i){o[++r]=t(e,n,i)}),o}function Br(e){var t=di(e);return 1==t.length&&t[0][2]?Ei(t[0][0],t[0][1]):function(n){return n===e||Pr(n,e,t)}}function Ur(e,t){return xi(e)&&Si(t)?Ei(Fi(e),t):function(n){var r=Ea(n,e);return r===o&&r===t?Ta(n,e):Ir(t,r,3)}}function Vr(e,t,n,r,i){e!==t&&yr(t,function(s,a){if(i||(i=new $n),ea(s))!function(e,t,n,r,i,s,a){var l=Di(e,n),c=Di(t,n),u=a.get(c);if(u)return void er(e,n,u);var d=s?s(l,c,n+"",e,t,a):o,h=d===o;if(h){var p=qs(c),f=!p&&Gs(c),m=!p&&!f&&ca(c);d=c,p||f||m?qs(l)?d=l:Ks(l)?d=No(l):f?(h=!1,d=Co(c,!0)):m?(h=!1,d=Eo(c,!0)):d=[]:oa(c)||Hs(c)?(d=l,Hs(l)?d=va(l):ea(l)&&!Js(l)||(d=vi(c))):h=!1}h&&(a.set(c,d),i(d,c,r,s,a),a.delete(c));er(e,n,d)}(e,t,a,n,Vr,r,i);else{var l=r?r(Di(e,a),s,a+"",e,t,i):o;l===o&&(l=s),er(e,a,l)}},Ia)}function Hr(e,t){var n=e.length;if(n)return bi(t+=t<0?n:0,n)?e[t]:o}function qr(e,t,n){t=t.length?Mt(t,function(e){return qs(e)?function(t){return _r(t,1===e.length?e[0]:e)}:e}):[rl];var r=-1;t=Mt(t,Zt(ci()));var o=zr(e,function(e,n,o){var i=Mt(t,function(t){return t(e)});return{criteria:i,index:++r,value:e}});return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;for(;++r<s;){var l=To(o[r],i[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)})}function Wr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=_r(e,s);n(a,s)&&Zr(i,wo(s,e),a)}return i}function Yr(e,t,n,r){var o=r?qt:Ht,i=-1,s=t.length,a=e;for(e===t&&(t=No(t)),n&&(a=Mt(e,Zt(n)));++i<s;)for(var l=0,c=t[i],u=n?n(c):c;(l=o(a,u,l,r))>-1;)a!==e&&$e.call(a,l,1),$e.call(e,l,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;bi(o)?$e.call(e,o,1):ho(e,o)}}return e}function Gr(e,t){return e+ft(kn()*(t-e+1))}function $r(e,t){var n="";if(!e||t<1||t>f)return n;do{t%2&&(n+=e),(t=ft(t/2))&&(e+=e)}while(t);return n}function Qr(e,t){return Ii(Ti(e,t,rl),e+"")}function Jr(e){return Jn(Ba(e))}function Xr(e,t){var n=Ba(e);return Mi(n,ar(t,0,n.length))}function Zr(e,t,n,r){if(!ea(e))return e;for(var i=-1,s=(t=wo(t,e)).length,a=s-1,l=e;null!=l&&++i<s;){var c=Fi(t[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var d=l[c];(u=r?r(d,c,l):o)===o&&(u=ea(d)?d:bi(t[i+1])?[]:{})}tr(l,c,u),l=l[c]}return e}var eo=Nn?function(e,t){return Nn.set(e,t),e}:rl,to=Ze?function(e,t){return Ze(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function no(e){return Mi(Ba(e))}function ro(e,t,r){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=n(i);++o<i;)s[o]=e[o+t];return s}function oo(e,t){var n;return hr(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function io(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t===t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,s=e[i];null!==s&&!la(s)&&(n?s<=t:s<t)?r=i+1:o=i}return o}return so(e,t,rl,n)}function so(e,t,n,r){var i=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!==t,l=null===t,c=la(t),u=t===o;i<s;){var d=ft((i+s)/2),h=n(e[d]),p=h!==o,f=null===h,m=h===h,g=la(h);if(a)var v=r||m;else v=u?m&&(r||p):l?m&&p&&(r||!f):c?m&&p&&!f&&(r||!g):!f&&!g&&(r?h<=t:h<t);v?i=d+1:s=d}return bn(s,4294967294)}function ao(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Bs(a,l)){var l=a;i[o++]=0===s?0:s}}return i}function lo(e){return"number"==typeof e?e:la(e)?m:+e}function co(e){if("string"==typeof e)return e;if(qs(e))return Mt(e,co)+"";if(la(e))return zn?zn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function uo(e,t,n){var r=-1,o=Pt,i=e.length,s=!0,a=[],l=a;if(n)s=!1,o=jt;else if(i>=200){var c=t?null:Qo(e);if(c)return hn(c);s=!1,o=tn,l=new Gn}else l=t?[]:a;e:for(;++r<i;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else o(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function ho(e,t){return null==(e=Ai(e,t=wo(t,e)))||delete e[Fi(Qi(t))]}function po(e,t,n,r){return Zr(e,t,n(_r(e,t)),r)}function fo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?ro(e,r?0:i,r?i+1:o):ro(e,r?i+1:0,r?o:i)}function mo(e,t){var n=e;return n instanceof qn&&(n=n.value()),Ft(t,function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))},n)}function go(e,t,r){var o=e.length;if(o<2)return o?uo(e[0]):[];for(var i=-1,s=n(o);++i<o;)for(var a=e[i],l=-1;++l<o;)l!=i&&(s[i]=dr(s[i]||a,e[l],t,r));return uo(vr(s,1),t,r)}function vo(e,t,n){for(var r=-1,i=e.length,s=t.length,a={};++r<i;){var l=r<s?t[r]:o;n(a,e[r],l)}return a}function yo(e){return Ks(e)?e:[]}function bo(e){return"function"==typeof e?e:rl}function wo(e,t){return qs(e)?e:xi(e,t)?[e]:Ri(ya(e))}var xo=Qr;function ko(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:ro(e,t,n)}var _o=nt||function(e){return mt.clearTimeout(e)};function Co(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function So(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function Eo(e,t){var n=t?So(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function To(e,t){if(e!==t){var n=e!==o,r=null===e,i=e===e,s=la(e),a=t!==o,l=null===t,c=t===t,u=la(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!i)return 1;if(!r&&!s&&!u&&e<t||u&&n&&i&&!r&&!s||l&&n&&i||!a&&i||!c)return-1}return 0}function Ao(e,t,r,o){for(var i=-1,s=e.length,a=r.length,l=-1,c=t.length,u=Gt(s-a,0),d=n(c+u),h=!o;++l<c;)d[l]=t[l];for(;++i<a;)(h||i<s)&&(d[r[i]]=e[i]);for(;u--;)d[l++]=e[i++];return d}function Do(e,t,r,o){for(var i=-1,s=e.length,a=-1,l=r.length,c=-1,u=t.length,d=Gt(s-l,0),h=n(d+u),p=!o;++i<d;)h[i]=e[i];for(var f=i;++c<u;)h[f+c]=t[c];for(;++a<l;)(p||i<s)&&(h[f+r[a]]=e[i++]);return h}function No(e,t){var r=-1,o=e.length;for(t||(t=n(o));++r<o;)t[r]=e[r];return t}function Oo(e,t,n,r){var i=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],c=r?r(n[l],e[l],l,n,e):o;c===o&&(c=e[l]),i?ir(n,l,c):tr(n,l,c)}return n}function Io(e,t){return function(n,r){var o=qs(n)?At:rr,i=t?t():{};return o(n,e,ci(r,2),i)}}function Po(e){return Qr(function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:o,a=i>2?n[2]:o;for(s=e.length>3&&"function"==typeof s?(i--,s):o,a&&wi(n[0],n[1],a)&&(s=i<3?o:s,i=1),t=Ee(t);++r<i;){var l=n[r];l&&e(t,l,r,s)}return t})}function jo(e,t){return function(n,r){if(null==n)return n;if(!Ys(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Ee(n);(t?i--:++i<o)&&!1!==r(s[i],i,s););return n}}function Mo(e){return function(t,n,r){for(var o=-1,i=Ee(t),s=r(t),a=s.length;a--;){var l=s[e?a:++o];if(!1===n(i[l],l,i))break}return t}}function Ro(e){return function(t){var n=ln(t=ya(t))?mn(t):o,r=n?n[0]:t.charAt(0),i=n?ko(n,1).join(""):t.slice(1);return r[e]()+i}}function Fo(e){return function(t){return Ft(Ja(Ha(t).replace(et,"")),e,"")}}function Lo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),r=e.apply(n,t);return ea(r)?r:n}}function zo(e){return function(t,n,r){var i=Ee(t);if(!Ys(t)){var s=ci(n,3);t=Oa(t),n=function(e){return s(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[s?t[a]:a]:o}}function Bo(e){return ri(function(t){var n=t.length,r=n,s=Hn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new De(i);if(s&&!l&&"wrapper"==ai(a))var l=new Hn([],!0)}for(r=l?r:n;++r<n;){var c=ai(a=t[r]),u="wrapper"==c?si(a):o;l=u&&ki(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[ai(u[0])].apply(l,u[3]):1==a.length&&ki(a)?l[c]():l.thru(a)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&qs(r))return l.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function Uo(e,t,r,i,s,a,l,c,u,h){var p=t&d,f=1&t,m=2&t,g=24&t,v=512&t,y=m?o:Lo(e);return function d(){for(var b=arguments.length,w=n(b),x=b;x--;)w[x]=arguments[x];if(g)var k=li(d),_=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,k);if(i&&(w=Ao(w,i,s,g)),a&&(w=Do(w,a,l,g)),b-=_,g&&b<h){var C=dn(w,k);return Go(e,t,Uo,d.placeholder,r,w,C,c,u,h-b)}var S=f?r:this,E=m?S[e]:e;return b=w.length,c?w=function(e,t){var n=e.length,r=bn(t.length,n),i=No(e);for(;r--;){var s=t[r];e[r]=bi(s,n)?i[s]:o}return e}(w,c):v&&b>1&&w.reverse(),p&&u<b&&(w.length=u),this&&this!==mt&&this instanceof d&&(E=y||Lo(E)),E.apply(S,w)}}function Vo(e,t){return function(n,r){return function(e,t,n,r){return wr(e,function(e,o,i){t(r,n(e),o,i)}),r}(n,e,t(r),{})}}function Ho(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=co(n),r=co(r)):(n=lo(n),r=lo(r)),i=e(n,r)}return i}}function qo(e){return ri(function(t){return t=Mt(t,Zt(ci())),Qr(function(n){var r=this;return e(t,function(e){return Tt(e,r,n)})})})}function Wo(e,t){var n=(t=t===o?" ":co(t)).length;if(n<2)return n?$r(t,e):t;var r=$r(t,pt(e/fn(t)));return ln(t)?ko(mn(r),0,e).join(""):r.slice(0,e)}function Yo(e){return function(t,r,i){return i&&"number"!=typeof i&&wi(t,r,i)&&(r=i=o),t=pa(t),r===o?(r=t,t=0):r=pa(r),function(e,t,r,o){for(var i=-1,s=Gt(pt((t-e)/(r||1)),0),a=n(s);s--;)a[o?s:++i]=e,e+=r;return a}(t,r,i=i===o?t<r?1:-1:pa(i),e)}}function Ko(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ga(t),n=ga(n)),e(t,n)}}function Go(e,t,n,r,i,s,a,l,d,h){var p=8&t;t|=p?c:u,4&(t&=~(p?u:c))||(t&=-4);var f=[e,t,i,p?s:o,p?a:o,p?o:s,p?o:a,l,d,h],m=n.apply(o,f);return ki(e)&&Ni(m,f),m.placeholder=r,Pi(m,e,t)}function $o(e){var t=Se[e];return function(e,n){if(e=ga(e),(n=null==n?0:bn(fa(n),292))&&bt(e)){var r=(ya(e)+"e").split("e");return+((r=(ya(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qo=Tn&&1/hn(new Tn([,-0]))[1]==p?function(e){return new Tn(e)}:ll;function Jo(e){return function(t){var n=mi(t);return n==S?cn(t):n==N?pn(t):function(e,t){return Mt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Xo(e,t,r,s,p,f,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new De(i);var y=s?s.length:0;if(y||(t&=-97,s=p=o),m=m===o?m:Gt(fa(m),0),g=g===o?g:fa(g),y-=p?p.length:0,t&u){var b=s,w=p;s=p=o}var x=v?o:si(e),k=[e,t,r,s,p,b,w,f,m,g];if(x&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,s=r==d&&8==n||r==d&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!s)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Ao(c,l,t[4]):l,e[4]=c?dn(e[3],a):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Do(c,l,t[6]):l,e[6]=c?dn(e[5],a):t[6]);(l=t[7])&&(e[7]=l);r&d&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(k,x),e=k[0],t=k[1],r=k[2],s=k[3],p=k[4],!(g=k[9]=k[9]===o?v?0:e.length:Gt(k[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||t==l?function(e,t,r){var i=Lo(e);return function s(){for(var a=arguments.length,l=n(a),c=a,u=li(s);c--;)l[c]=arguments[c];var d=a<3&&l[0]!==u&&l[a-1]!==u?[]:dn(l,u);return(a-=d.length)<r?Go(e,t,Uo,s.placeholder,o,l,d,o,o,r-a):Tt(this&&this!==mt&&this instanceof s?i:e,this,l)}}(e,t,g):t!=c&&33!=t||p.length?Uo.apply(o,k):function(e,t,r,o){var i=1&t,s=Lo(e);return function t(){for(var a=-1,l=arguments.length,c=-1,u=o.length,d=n(u+l),h=this&&this!==mt&&this instanceof t?s:e;++c<u;)d[c]=o[c];for(;l--;)d[c++]=arguments[++a];return Tt(h,i?r:this,d)}}(e,t,r,s);else var _=function(e,t,n){var r=1&t,o=Lo(e);return function t(){return(this&&this!==mt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,r);return Pi((x?eo:Ni)(_,k),e,t)}function Zo(e,t,n,r){return e===o||Bs(e,Ie[n])&&!Me.call(r,n)?t:e}function ei(e,t,n,r,i,s){return ea(e)&&ea(t)&&(s.set(t,e),Vr(e,t,o,ei,s),s.delete(t)),e}function ti(e){return oa(e)?o:e}function ni(e,t,n,r,i,s){var a=1&n,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var h=-1,p=!0,f=2&n?new Gn:o;for(s.set(e,t),s.set(t,e);++h<l;){var m=e[h],g=t[h];if(r)var v=a?r(g,m,h,t,e,s):r(m,g,h,e,t,s);if(v!==o){if(v)continue;p=!1;break}if(f){if(!zt(t,function(e,t){if(!tn(f,t)&&(m===e||i(m,e,n,r,s)))return f.push(t)})){p=!1;break}}else if(m!==g&&!i(m,g,n,r,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function ri(e){return Ii(Ti(e,o,Wi),e+"")}function oi(e){return Cr(e,Oa,pi)}function ii(e){return Cr(e,Ia,fi)}var si=Nn?function(e){return Nn.get(e)}:ll;function ai(e){for(var t=e.name+"",n=On[t],r=Me.call(On,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function li(e){return(Me.call(Bn,"placeholder")?Bn:e).placeholder}function ci(){var e=Bn.iteratee||ol;return e=e===ol?Mr:e,arguments.length?e(arguments[0],arguments[1]):e}function ui(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function di(e){for(var t=Oa(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Si(o)]}return t}function hi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return jr(n)?n:o}var pi=gt?function(e){return null==e?[]:(e=Ee(e),It(gt(e),function(t){return Ge.call(e,t)}))}:ml,fi=gt?function(e){for(var t=[];e;)Rt(t,pi(e)),e=Ye(e);return t}:ml,mi=Sr;function gi(e,t,n){for(var r=-1,o=(t=wo(t,e)).length,i=!1;++r<o;){var s=Fi(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Zs(o)&&bi(s,o)&&(qs(e)||Hs(e))}function vi(e){return"function"!=typeof e.constructor||Ci(e)?{}:Un(Ye(e))}function yi(e){return qs(e)||Hs(e)||!!(Qe&&e&&e[Qe])}function bi(e,t){var n=typeof e;return!!(t=null==t?f:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function wi(e,t,n){if(!ea(n))return!1;var r=typeof t;return!!("number"==r?Ys(n)&&bi(t,n.length):"string"==r&&t in n)&&Bs(n[t],e)}function xi(e,t){if(qs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!la(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ee(t))}function ki(e){var t=ai(e),n=Bn[t];if("function"!=typeof n||!(t in qn.prototype))return!1;if(e===n)return!0;var r=si(n);return!!r&&e===r[0]}(Cn&&mi(new Cn(new ArrayBuffer(1)))!=M||Sn&&mi(new Sn)!=S||En&&mi(En.resolve())!=A||Tn&&mi(new Tn)!=N||An&&mi(new An)!=P)&&(mi=function(e){var t=Sr(e),n=t==T?e.constructor:o,r=n?Li(n):"";if(r)switch(r){case In:return M;case Pn:return S;case jn:return A;case Mn:return N;case Rn:return P}return t});var _i=Pe?Js:gl;function Ci(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ie)}function Si(e){return e===e&&!ea(e)}function Ei(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in Ee(n)))}}function Ti(e,t,r){return t=Gt(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=Gt(o.length-t,0),a=n(s);++i<s;)a[i]=o[t+i];i=-1;for(var l=n(t+1);++i<t;)l[i]=o[i];return l[t]=r(a),Tt(e,this,l)}}function Ai(e,t){return t.length<2?e:_r(e,ro(t,0,-1))}function Di(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ni=ji(eo),Oi=ut||function(e,t){return mt.setTimeout(e,t)},Ii=ji(to);function Pi(e,t,n){var r=t+"";return Ii(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Dt(v,function(n){var r="_."+n[0];t&n[1]&&!Pt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(r),n)))}function ji(e){var t=0,n=0;return function(){var r=wn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Mi(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var s=Gr(n,i),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Ri=function(e){var t=js(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,function(e,n,r,o){t.push(r?o.replace(pe,"$1"):n||e)}),t});function Fi(e){if("string"==typeof e||la(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Li(e){if(null!=e){try{return je.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function zi(e){if(e instanceof qn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=No(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bi=Qr(function(e,t){return Ks(e)?dr(e,vr(t,1,Ks,!0)):[]}),Ui=Qr(function(e,t){var n=Qi(t);return Ks(n)&&(n=o),Ks(e)?dr(e,vr(t,1,Ks,!0),ci(n,2)):[]}),Vi=Qr(function(e,t){var n=Qi(t);return Ks(n)&&(n=o),Ks(e)?dr(e,vr(t,1,Ks,!0),o,n):[]});function Hi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:fa(n);return o<0&&(o=Gt(r+o,0)),Vt(e,ci(t,3),o)}function qi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=fa(n),i=n<0?Gt(r+i,0):bn(i,r-1)),Vt(e,ci(t,3),i,!0)}function Wi(e){return(null==e?0:e.length)?vr(e,1):[]}function Yi(e){return e&&e.length?e[0]:o}var Ki=Qr(function(e){var t=Mt(e,yo);return t.length&&t[0]===e[0]?Dr(t):[]}),Gi=Qr(function(e){var t=Qi(e),n=Mt(e,yo);return t===Qi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Dr(n,ci(t,2)):[]}),$i=Qr(function(e){var t=Qi(e),n=Mt(e,yo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Dr(n,o,t):[]});function Qi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Ji=Qr(Xi);function Xi(e,t){return e&&e.length&&t&&t.length?Yr(e,t):e}var Zi=ri(function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Kr(e,Mt(t,function(e){return bi(e,n)?+e:e}).sort(To)),r});function es(e){return null==e?e:_n.call(e)}var ts=Qr(function(e){return uo(vr(e,1,Ks,!0))}),ns=Qr(function(e){var t=Qi(e);return Ks(t)&&(t=o),uo(vr(e,1,Ks,!0),ci(t,2))}),rs=Qr(function(e){var t=Qi(e);return t="function"==typeof t?t:o,uo(vr(e,1,Ks,!0),o,t)});function os(e){if(!e||!e.length)return[];var t=0;return e=It(e,function(e){if(Ks(e))return t=Gt(e.length,t),!0}),Jt(t,function(t){return Mt(e,Kt(t))})}function is(e,t){if(!e||!e.length)return[];var n=os(e);return null==t?n:Mt(n,function(e){return Tt(t,o,e)})}var ss=Qr(function(e,t){return Ks(e)?dr(e,t):[]}),as=Qr(function(e){return go(It(e,Ks))}),ls=Qr(function(e){var t=Qi(e);return Ks(t)&&(t=o),go(It(e,Ks),ci(t,2))}),cs=Qr(function(e){var t=Qi(e);return t="function"==typeof t?t:o,go(It(e,Ks),o,t)}),us=Qr(os);var ds=Qr(function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,is(e,n)});function hs(e){var t=Bn(e);return t.__chain__=!0,t}function ps(e,t){return t(e)}var fs=ri(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof qn&&bi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ps,args:[i],thisArg:o}),new Hn(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)});var ms=Io(function(e,t,n){Me.call(e,n)?++e[n]:ir(e,n,1)});var gs=zo(Hi),vs=zo(qi);function ys(e,t){return(qs(e)?Dt:hr)(e,ci(t,3))}function bs(e,t){return(qs(e)?Nt:pr)(e,ci(t,3))}var ws=Io(function(e,t,n){Me.call(e,n)?e[n].push(t):ir(e,n,[t])});var xs=Qr(function(e,t,r){var o=-1,i="function"==typeof t,s=Ys(e)?n(e.length):[];return hr(e,function(e){s[++o]=i?Tt(t,e,r):Nr(e,t,r)}),s}),ks=Io(function(e,t,n){ir(e,n,t)});function _s(e,t){return(qs(e)?Mt:zr)(e,ci(t,3))}var Cs=Io(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Ss=Qr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&wi(e,t[0],t[1])?t=[]:n>2&&wi(t[0],t[1],t[2])&&(t=[t[0]]),qr(e,vr(t,1),[])}),Es=ot||function(){return mt.Date.now()};function Ts(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Xo(e,d,o,o,o,o,t)}function As(e,t){var n;if("function"!=typeof t)throw new De(i);return e=fa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Ds=Qr(function(e,t,n){var r=1;if(n.length){var o=dn(n,li(Ds));r|=c}return Xo(e,r,t,n,o)}),Ns=Qr(function(e,t,n){var r=3;if(n.length){var o=dn(n,li(Ns));r|=c}return Xo(t,r,e,n,o)});function Os(e,t,n){var r,s,a,l,c,u,d=0,h=!1,p=!1,f=!0;if("function"!=typeof e)throw new De(i);function m(t){var n=r,i=s;return r=s=o,d=t,l=e.apply(i,n)}function g(e){var n=e-u;return u===o||n>=t||n<0||p&&e-d>=a}function v(){var e=Es();if(g(e))return y(e);c=Oi(v,function(e){var n=t-(e-u);return p?bn(n,a-(e-d)):n}(e))}function y(e){return c=o,f&&r?m(e):(r=s=o,l)}function b(){var e=Es(),n=g(e);if(r=arguments,s=this,u=e,n){if(c===o)return function(e){return d=e,c=Oi(v,t),h?m(e):l}(u);if(p)return _o(c),c=Oi(v,t),m(u)}return c===o&&(c=Oi(v,t)),l}return t=ga(t)||0,ea(n)&&(h=!!n.leading,a=(p="maxWait"in n)?Gt(ga(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),b.cancel=function(){c!==o&&_o(c),d=0,r=u=s=c=o},b.flush=function(){return c===o?l:y(Es())},b}var Is=Qr(function(e,t){return ur(e,1,t)}),Ps=Qr(function(e,t,n){return ur(e,ga(t)||0,n)});function js(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new De(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(js.Cache||Kn),n}function Ms(e){if("function"!=typeof e)throw new De(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}js.Cache=Kn;var Rs=xo(function(e,t){var n=(t=1==t.length&&qs(t[0])?Mt(t[0],Zt(ci())):Mt(vr(t,1),Zt(ci()))).length;return Qr(function(r){for(var o=-1,i=bn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return Tt(e,this,r)})}),Fs=Qr(function(e,t){var n=dn(t,li(Fs));return Xo(e,c,o,t,n)}),Ls=Qr(function(e,t){var n=dn(t,li(Ls));return Xo(e,u,o,t,n)}),zs=ri(function(e,t){return Xo(e,h,o,o,o,t)});function Bs(e,t){return e===t||e!==e&&t!==t}var Us=Ko(Er),Vs=Ko(function(e,t){return e>=t}),Hs=Or(function(){return arguments}())?Or:function(e){return ta(e)&&Me.call(e,"callee")&&!Ge.call(e,"callee")},qs=n.isArray,Ws=xt?Zt(xt):function(e){return ta(e)&&Sr(e)==j};function Ys(e){return null!=e&&Zs(e.length)&&!Js(e)}function Ks(e){return ta(e)&&Ys(e)}var Gs=vt||gl,$s=kt?Zt(kt):function(e){return ta(e)&&Sr(e)==x};function Qs(e){if(!ta(e))return!1;var t=Sr(e);return t==k||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oa(e)}function Js(e){if(!ea(e))return!1;var t=Sr(e);return t==_||t==C||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xs(e){return"number"==typeof e&&e==fa(e)}function Zs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function ea(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ta(e){return null!=e&&"object"==typeof e}var na=_t?Zt(_t):function(e){return ta(e)&&mi(e)==S};function ra(e){return"number"==typeof e||ta(e)&&Sr(e)==E}function oa(e){if(!ta(e)||Sr(e)!=T)return!1;var t=Ye(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&je.call(n)==ze}var ia=Ct?Zt(Ct):function(e){return ta(e)&&Sr(e)==D};var sa=St?Zt(St):function(e){return ta(e)&&mi(e)==N};function aa(e){return"string"==typeof e||!qs(e)&&ta(e)&&Sr(e)==O}function la(e){return"symbol"==typeof e||ta(e)&&Sr(e)==I}var ca=Et?Zt(Et):function(e){return ta(e)&&Zs(e.length)&&!!lt[Sr(e)]};var ua=Ko(Lr),da=Ko(function(e,t){return e<=t});function ha(e){if(!e)return[];if(Ys(e))return aa(e)?mn(e):No(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=mi(e);return(t==S?cn:t==N?hn:Ba)(e)}function pa(e){return e?(e=ga(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function fa(e){var t=pa(e),n=t%1;return t===t?n?t-n:t:0}function ma(e){return e?ar(fa(e),0,g):0}function ga(e){if("number"==typeof e)return e;if(la(e))return m;if(ea(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ea(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=ve.test(e);return n||be.test(e)?ht(e.slice(2),n?2:8):ge.test(e)?m:+e}function va(e){return Oo(e,Ia(e))}function ya(e){return null==e?"":co(e)}var ba=Po(function(e,t){if(Ci(t)||Ys(t))Oo(t,Oa(t),e);else for(var n in t)Me.call(t,n)&&tr(e,n,t[n])}),wa=Po(function(e,t){Oo(t,Ia(t),e)}),xa=Po(function(e,t,n,r){Oo(t,Ia(t),e,r)}),ka=Po(function(e,t,n,r){Oo(t,Oa(t),e,r)}),_a=ri(sr);var Ca=Qr(function(e,t){e=Ee(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&wi(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],a=Ia(s),l=-1,c=a.length;++l<c;){var u=a[l],d=e[u];(d===o||Bs(d,Ie[u])&&!Me.call(e,u))&&(e[u]=s[u])}return e}),Sa=Qr(function(e){return e.push(o,ei),Tt(ja,o,e)});function Ea(e,t,n){var r=null==e?o:_r(e,t);return r===o?n:r}function Ta(e,t){return null!=e&&gi(e,t,Ar)}var Aa=Vo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),e[t]=n},el(rl)),Da=Vo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]},ci),Na=Qr(Nr);function Oa(e){return Ys(e)?Qn(e):Rr(e)}function Ia(e){return Ys(e)?Qn(e,!0):Fr(e)}var Pa=Po(function(e,t,n){Vr(e,t,n)}),ja=Po(function(e,t,n,r){Vr(e,t,n,r)}),Ma=ri(function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,function(t){return t=wo(t,e),r||(r=t.length>1),t}),Oo(e,ii(e),n),r&&(n=lr(n,7,ti));for(var o=t.length;o--;)ho(n,t[o]);return n});var Ra=ri(function(e,t){return null==e?{}:function(e,t){return Wr(e,t,function(t,n){return Ta(e,n)})}(e,t)});function Fa(e,t){if(null==e)return{};var n=Mt(ii(e),function(e){return[e]});return t=ci(t),Wr(e,n,function(e,n){return t(e,n[0])})}var La=Jo(Oa),za=Jo(Ia);function Ba(e){return null==e?[]:en(e,Oa(e))}var Ua=Fo(function(e,t,n){return t=t.toLowerCase(),e+(n?Va(t):t)});function Va(e){return Qa(ya(e).toLowerCase())}function Ha(e){return(e=ya(e))&&e.replace(xe,on).replace(tt,"")}var qa=Fo(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Wa=Fo(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ya=Ro("toLowerCase");var Ka=Fo(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Ga=Fo(function(e,t,n){return e+(n?" ":"")+Qa(t)});var $a=Fo(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Qa=Ro("toUpperCase");function Ja(e,t,n){return e=ya(e),(t=n?o:t)===o?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Xa=Qr(function(e,t){try{return Tt(e,o,t)}catch(n){return Qs(n)?n:new ae(n)}}),Za=ri(function(e,t){return Dt(t,function(t){t=Fi(t),ir(e,t,Ds(e[t],e))}),e});function el(e){return function(){return e}}var tl=Bo(),nl=Bo(!0);function rl(e){return e}function ol(e){return Mr("function"==typeof e?e:lr(e,1))}var il=Qr(function(e,t){return function(n){return Nr(n,e,t)}}),sl=Qr(function(e,t){return function(n){return Nr(e,n,t)}});function al(e,t,n){var r=Oa(t),o=kr(t,r);null!=n||ea(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=kr(t,Oa(t)));var i=!(ea(n)&&"chain"in n)||!!n.chain,s=Js(e);return Dt(o,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=No(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Rt([this.value()],arguments))})}),e}function ll(){}var cl=qo(Mt),ul=qo(Ot),dl=qo(zt);function hl(e){return xi(e)?Kt(Fi(e)):function(e){return function(t){return _r(t,e)}}(e)}var pl=Yo(),fl=Yo(!0);function ml(){return[]}function gl(){return!1}var vl=Ho(function(e,t){return e+t},0),yl=$o("ceil"),bl=Ho(function(e,t){return e/t},1),wl=$o("floor");var xl=Ho(function(e,t){return e*t},1),kl=$o("round"),_l=Ho(function(e,t){return e-t},0);return Bn.after=function(e,t){if("function"!=typeof t)throw new De(i);return e=fa(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Ts,Bn.assign=ba,Bn.assignIn=wa,Bn.assignInWith=xa,Bn.assignWith=ka,Bn.at=_a,Bn.before=As,Bn.bind=Ds,Bn.bindAll=Za,Bn.bindKey=Ns,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return qs(e)?e:[e]},Bn.chain=hs,Bn.chunk=function(e,t,r){t=(r?wi(e,t,r):t===o)?1:Gt(fa(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,a=0,l=n(pt(i/t));s<i;)l[a++]=ro(e,s,s+=t);return l},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Rt(qs(r)?No(r):[r],vr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=ci();return e=t?Mt(e,function(e){if("function"!=typeof e[1])throw new De(i);return[n(e[0]),e[1]]}):[],Qr(function(n){for(var r=-1;++r<t;){var o=e[r];if(Tt(o[0],this,n))return Tt(o[1],this,n)}})},Bn.conforms=function(e){return function(e){var t=Oa(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Bn.constant=el,Bn.countBy=ms,Bn.create=function(e,t){var n=Un(e);return null==t?n:or(n,t)},Bn.curry=function e(t,n,r){var i=Xo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Bn.curryRight=function e(t,n,r){var i=Xo(t,l,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Bn.debounce=Os,Bn.defaults=Ca,Bn.defaultsDeep=Sa,Bn.defer=Is,Bn.delay=Ps,Bn.difference=Bi,Bn.differenceBy=Ui,Bn.differenceWith=Vi,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ro(e,(t=n||t===o?1:fa(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ro(e,0,(t=r-(t=n||t===o?1:fa(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?fo(e,ci(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?fo(e,ci(t,3),!0):[]},Bn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&wi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=fa(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:fa(r))<0&&(r+=i),r=n>r?0:ma(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(qs(e)?It:gr)(e,ci(t,3))},Bn.flatMap=function(e,t){return vr(_s(e,t),1)},Bn.flatMapDeep=function(e,t){return vr(_s(e,t),p)},Bn.flatMapDepth=function(e,t,n){return n=n===o?1:fa(n),vr(_s(e,t),n)},Bn.flatten=Wi,Bn.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,p):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===o?1:fa(t)):[]},Bn.flip=function(e){return Xo(e,512)},Bn.flow=tl,Bn.flowRight=nl,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Bn.functions=function(e){return null==e?[]:kr(e,Oa(e))},Bn.functionsIn=function(e){return null==e?[]:kr(e,Ia(e))},Bn.groupBy=ws,Bn.initial=function(e){return(null==e?0:e.length)?ro(e,0,-1):[]},Bn.intersection=Ki,Bn.intersectionBy=Gi,Bn.intersectionWith=$i,Bn.invert=Aa,Bn.invertBy=Da,Bn.invokeMap=xs,Bn.iteratee=ol,Bn.keyBy=ks,Bn.keys=Oa,Bn.keysIn=Ia,Bn.map=_s,Bn.mapKeys=function(e,t){var n={};return t=ci(t,3),wr(e,function(e,r,o){ir(n,t(e,r,o),e)}),n},Bn.mapValues=function(e,t){var n={};return t=ci(t,3),wr(e,function(e,r,o){ir(n,r,t(e,r,o))}),n},Bn.matches=function(e){return Br(lr(e,1))},Bn.matchesProperty=function(e,t){return Ur(e,lr(t,1))},Bn.memoize=js,Bn.merge=Pa,Bn.mergeWith=ja,Bn.method=il,Bn.methodOf=sl,Bn.mixin=al,Bn.negate=Ms,Bn.nthArg=function(e){return e=fa(e),Qr(function(t){return Hr(t,e)})},Bn.omit=Ma,Bn.omitBy=function(e,t){return Fa(e,Ms(ci(t)))},Bn.once=function(e){return As(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(qs(t)||(t=null==t?[]:[t]),qs(n=r?o:n)||(n=null==n?[]:[n]),qr(e,t,n))},Bn.over=cl,Bn.overArgs=Rs,Bn.overEvery=ul,Bn.overSome=dl,Bn.partial=Fs,Bn.partialRight=Ls,Bn.partition=Cs,Bn.pick=Ra,Bn.pickBy=Fa,Bn.property=hl,Bn.propertyOf=function(e){return function(t){return null==e?o:_r(e,t)}},Bn.pull=Ji,Bn.pullAll=Xi,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,ci(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,o,n):e},Bn.pullAt=Zi,Bn.range=pl,Bn.rangeRight=fl,Bn.rearg=zs,Bn.reject=function(e,t){return(qs(e)?It:gr)(e,Ms(ci(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=ci(t,3);++r<i;){var s=e[r];t(s,r,e)&&(n.push(s),o.push(r))}return Kr(e,o),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new De(i);return Qr(e,t=t===o?t:fa(t))},Bn.reverse=es,Bn.sampleSize=function(e,t,n){return t=(n?wi(e,t,n):t===o)?1:fa(t),(qs(e)?Xn:Xr)(e,t)},Bn.set=function(e,t,n){return null==e?e:Zr(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Zr(e,t,n,r)},Bn.shuffle=function(e){return(qs(e)?Zn:no)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wi(e,t,n)?(t=0,n=r):(t=null==t?0:fa(t),n=n===o?r:fa(n)),ro(e,t,n)):[]},Bn.sortBy=Ss,Bn.sortedUniq=function(e){return e&&e.length?ao(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?ao(e,ci(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&wi(e,t,n)&&(t=n=o),(n=n===o?g:n>>>0)?(e=ya(e))&&("string"==typeof t||null!=t&&!ia(t))&&!(t=co(t))&&ln(e)?ko(mn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new De(i);return t=null==t?0:Gt(fa(t),0),Qr(function(n){var r=n[t],o=ko(n,0,t);return r&&Rt(o,r),Tt(e,this,o)})},Bn.tail=function(e){var t=null==e?0:e.length;return t?ro(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ro(e,0,(t=n||t===o?1:fa(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ro(e,(t=r-(t=n||t===o?1:fa(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?fo(e,ci(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?fo(e,ci(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new De(i);return ea(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Os(e,t,{leading:r,maxWait:t,trailing:o})},Bn.thru=ps,Bn.toArray=ha,Bn.toPairs=La,Bn.toPairsIn=za,Bn.toPath=function(e){return qs(e)?Mt(e,Fi):la(e)?[e]:No(Ri(ya(e)))},Bn.toPlainObject=va,Bn.transform=function(e,t,n){var r=qs(e),o=r||Gs(e)||ca(e);if(t=ci(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:ea(e)&&Js(i)?Un(Ye(e)):{}}return(o?Dt:wr)(e,function(e,r,o){return t(n,e,r,o)}),n},Bn.unary=function(e){return Ts(e,1)},Bn.union=ts,Bn.unionBy=ns,Bn.unionWith=rs,Bn.uniq=function(e){return e&&e.length?uo(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?uo(e,ci(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?uo(e,o,t):[]},Bn.unset=function(e,t){return null==e||ho(e,t)},Bn.unzip=os,Bn.unzipWith=is,Bn.update=function(e,t,n){return null==e?e:po(e,t,bo(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:po(e,t,bo(n),r)},Bn.values=Ba,Bn.valuesIn=function(e){return null==e?[]:en(e,Ia(e))},Bn.without=ss,Bn.words=Ja,Bn.wrap=function(e,t){return Fs(bo(t),e)},Bn.xor=as,Bn.xorBy=ls,Bn.xorWith=cs,Bn.zip=us,Bn.zipObject=function(e,t){return vo(e||[],t||[],tr)},Bn.zipObjectDeep=function(e,t){return vo(e||[],t||[],Zr)},Bn.zipWith=ds,Bn.entries=La,Bn.entriesIn=za,Bn.extend=wa,Bn.extendWith=xa,al(Bn,Bn),Bn.add=vl,Bn.attempt=Xa,Bn.camelCase=Ua,Bn.capitalize=Va,Bn.ceil=yl,Bn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=ga(n))===n?n:0),t!==o&&(t=(t=ga(t))===t?t:0),ar(ga(e),t,n)},Bn.clone=function(e){return lr(e,4)},Bn.cloneDeep=function(e){return lr(e,5)},Bn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:o)},Bn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:o)},Bn.conformsTo=function(e,t){return null==t||cr(e,t,Oa(t))},Bn.deburr=Ha,Bn.defaultTo=function(e,t){return null==e||e!==e?t:e},Bn.divide=bl,Bn.endsWith=function(e,t,n){e=ya(e),t=co(t);var r=e.length,i=n=n===o?r:ar(fa(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Bn.eq=Bs,Bn.escape=function(e){return(e=ya(e))&&J.test(e)?e.replace($,sn):e},Bn.escapeRegExp=function(e){return(e=ya(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},Bn.every=function(e,t,n){var r=qs(e)?Ot:fr;return n&&wi(e,t,n)&&(t=o),r(e,ci(t,3))},Bn.find=gs,Bn.findIndex=Hi,Bn.findKey=function(e,t){return Ut(e,ci(t,3),wr)},Bn.findLast=vs,Bn.findLastIndex=qi,Bn.findLastKey=function(e,t){return Ut(e,ci(t,3),xr)},Bn.floor=wl,Bn.forEach=ys,Bn.forEachRight=bs,Bn.forIn=function(e,t){return null==e?e:yr(e,ci(t,3),Ia)},Bn.forInRight=function(e,t){return null==e?e:br(e,ci(t,3),Ia)},Bn.forOwn=function(e,t){return e&&wr(e,ci(t,3))},Bn.forOwnRight=function(e,t){return e&&xr(e,ci(t,3))},Bn.get=Ea,Bn.gt=Us,Bn.gte=Vs,Bn.has=function(e,t){return null!=e&&gi(e,t,Tr)},Bn.hasIn=Ta,Bn.head=Yi,Bn.identity=rl,Bn.includes=function(e,t,n,r){e=Ys(e)?e:Ba(e),n=n&&!r?fa(n):0;var o=e.length;return n<0&&(n=Gt(o+n,0)),aa(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Ht(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:fa(n);return o<0&&(o=Gt(r+o,0)),Ht(e,t,o)},Bn.inRange=function(e,t,n){return t=pa(t),n===o?(n=t,t=0):n=pa(n),function(e,t,n){return e>=bn(t,n)&&e<Gt(t,n)}(e=ga(e),t,n)},Bn.invoke=Na,Bn.isArguments=Hs,Bn.isArray=qs,Bn.isArrayBuffer=Ws,Bn.isArrayLike=Ys,Bn.isArrayLikeObject=Ks,Bn.isBoolean=function(e){return!0===e||!1===e||ta(e)&&Sr(e)==w},Bn.isBuffer=Gs,Bn.isDate=$s,Bn.isElement=function(e){return ta(e)&&1===e.nodeType&&!oa(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Ys(e)&&(qs(e)||"string"==typeof e||"function"==typeof e.splice||Gs(e)||ca(e)||Hs(e)))return!e.length;var t=mi(e);if(t==S||t==N)return!e.size;if(Ci(e))return!Rr(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Ir(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Ir(e,t,o,n):!!r},Bn.isError=Qs,Bn.isFinite=function(e){return"number"==typeof e&&bt(e)},Bn.isFunction=Js,Bn.isInteger=Xs,Bn.isLength=Zs,Bn.isMap=na,Bn.isMatch=function(e,t){return e===t||Pr(e,t,di(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Pr(e,t,di(t),n)},Bn.isNaN=function(e){return ra(e)&&e!=+e},Bn.isNative=function(e){if(_i(e))throw new ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return jr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=ra,Bn.isObject=ea,Bn.isObjectLike=ta,Bn.isPlainObject=oa,Bn.isRegExp=ia,Bn.isSafeInteger=function(e){return Xs(e)&&e>=-9007199254740991&&e<=f},Bn.isSet=sa,Bn.isString=aa,Bn.isSymbol=la,Bn.isTypedArray=ca,Bn.isUndefined=function(e){return e===o},Bn.isWeakMap=function(e){return ta(e)&&mi(e)==P},Bn.isWeakSet=function(e){return ta(e)&&"[object WeakSet]"==Sr(e)},Bn.join=function(e,t){return null==e?"":wt.call(e,t)},Bn.kebabCase=qa,Bn.last=Qi,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=fa(n))<0?Gt(r+i,0):bn(i,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Vt(e,Wt,i,!0)},Bn.lowerCase=Wa,Bn.lowerFirst=Ya,Bn.lt=ua,Bn.lte=da,Bn.max=function(e){return e&&e.length?mr(e,rl,Er):o},Bn.maxBy=function(e,t){return e&&e.length?mr(e,ci(t,2),Er):o},Bn.mean=function(e){return Yt(e,rl)},Bn.meanBy=function(e,t){return Yt(e,ci(t,2))},Bn.min=function(e){return e&&e.length?mr(e,rl,Lr):o},Bn.minBy=function(e,t){return e&&e.length?mr(e,ci(t,2),Lr):o},Bn.stubArray=ml,Bn.stubFalse=gl,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=xl,Bn.nth=function(e,t){return e&&e.length?Hr(e,fa(t)):o},Bn.noConflict=function(){return mt._===this&&(mt._=Be),this},Bn.noop=ll,Bn.now=Es,Bn.pad=function(e,t,n){e=ya(e);var r=(t=fa(t))?fn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Wo(ft(o),n)+e+Wo(pt(o),n)},Bn.padEnd=function(e,t,n){e=ya(e);var r=(t=fa(t))?fn(e):0;return t&&r<t?e+Wo(t-r,n):e},Bn.padStart=function(e,t,n){e=ya(e);var r=(t=fa(t))?fn(e):0;return t&&r<t?Wo(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(ya(e).replace(se,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=pa(e),t===o?(t=e,e=0):t=pa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=kn();return bn(e+i*(t-e+dt("1e-"+((i+"").length-1))),t)}return Gr(e,t)},Bn.reduce=function(e,t,n){var r=qs(e)?Ft:$t,o=arguments.length<3;return r(e,ci(t,4),n,o,hr)},Bn.reduceRight=function(e,t,n){var r=qs(e)?Lt:$t,o=arguments.length<3;return r(e,ci(t,4),n,o,pr)},Bn.repeat=function(e,t,n){return t=(n?wi(e,t,n):t===o)?1:fa(t),$r(ya(e),t)},Bn.replace=function(){var e=arguments,t=ya(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,i=(t=wo(t,e)).length;for(i||(i=1,e=o);++r<i;){var s=null==e?o:e[Fi(t[r])];s===o&&(r=i,s=n),e=Js(s)?s.call(e):s}return e},Bn.round=kl,Bn.runInContext=e,Bn.sample=function(e){return(qs(e)?Jn:Jr)(e)},Bn.size=function(e){if(null==e)return 0;if(Ys(e))return aa(e)?fn(e):e.length;var t=mi(e);return t==S||t==N?e.size:Rr(e).length},Bn.snakeCase=Ka,Bn.some=function(e,t,n){var r=qs(e)?zt:oo;return n&&wi(e,t,n)&&(t=o),r(e,ci(t,3))},Bn.sortedIndex=function(e,t){return io(e,t)},Bn.sortedIndexBy=function(e,t,n){return so(e,t,ci(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=io(e,t);if(r<n&&Bs(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return io(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return so(e,t,ci(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=io(e,t,!0)-1;if(Bs(e[n],t))return n}return-1},Bn.startCase=Ga,Bn.startsWith=function(e,t,n){return e=ya(e),n=null==n?0:ar(fa(n),0,e.length),t=co(t),e.slice(n,n+t.length)==t},Bn.subtract=_l,Bn.sum=function(e){return e&&e.length?Qt(e,rl):0},Bn.sumBy=function(e,t){return e&&e.length?Qt(e,ci(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&wi(e,t,n)&&(t=o),e=ya(e),t=xa({},t,r,Zo);var i,s,a=xa({},t.imports,r.imports,Zo),l=Oa(a),c=en(a,l),u=0,d=t.interpolate||ke,h="__p += '",p=Te((t.escape||ke).source+"|"+d.source+"|"+(d===ee?fe:ke).source+"|"+(t.evaluate||ke).source+"|$","g"),f="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(p,function(t,n,r,o,a,l){return r||(r=o),h+=e.slice(u,l).replace(_e,an),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),h+="';\n";var m=Me.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new ae("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(W,""):h).replace(Y,"$1").replace(K,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Xa(function(){return Ce(l,f+"return "+h).apply(o,c)});if(g.source=h,Qs(g))throw g;return g},Bn.times=function(e,t){if((e=fa(e))<1||e>f)return[];var n=g,r=bn(e,g);t=ci(t),e-=g;for(var o=Jt(r,t);++n<e;)t(n);return o},Bn.toFinite=pa,Bn.toInteger=fa,Bn.toLength=ma,Bn.toLower=function(e){return ya(e).toLowerCase()},Bn.toNumber=ga,Bn.toSafeInteger=function(e){return e?ar(fa(e),-9007199254740991,f):0===e?e:0},Bn.toString=ya,Bn.toUpper=function(e){return ya(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=ya(e))&&(n||t===o))return Xt(e);if(!e||!(t=co(t)))return e;var r=mn(e),i=mn(t);return ko(r,nn(r,i),rn(r,i)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=ya(e))&&(n||t===o))return e.slice(0,gn(e)+1);if(!e||!(t=co(t)))return e;var r=mn(e);return ko(r,0,rn(r,mn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=ya(e))&&(n||t===o))return e.replace(se,"");if(!e||!(t=co(t)))return e;var r=mn(e);return ko(r,nn(r,mn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(ea(t)){var i="separator"in t?t.separator:i;n="length"in t?fa(t.length):n,r="omission"in t?co(t.omission):r}var s=(e=ya(e)).length;if(ln(e)){var a=mn(e);s=a.length}if(n>=s)return e;var l=n-fn(r);if(l<1)return r;var c=a?ko(a,0,l).join(""):e.slice(0,l);if(i===o)return c+r;if(a&&(l+=c.length-l),ia(i)){if(e.slice(l).search(i)){var u,d=c;for(i.global||(i=Te(i.source,ya(me.exec(i))+"g")),i.lastIndex=0;u=i.exec(d);)var h=u.index;c=c.slice(0,h===o?l:h)}}else if(e.indexOf(co(i),l)!=l){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r},Bn.unescape=function(e){return(e=ya(e))&&Q.test(e)?e.replace(G,vn):e},Bn.uniqueId=function(e){var t=++Re;return ya(e)+t},Bn.upperCase=$a,Bn.upperFirst=Qa,Bn.each=ys,Bn.eachRight=bs,Bn.first=Yi,al(Bn,function(){var e={};return wr(Bn,function(t,n){Me.call(Bn.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),Bn.VERSION="4.17.21",Dt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Bn[e].placeholder=Bn}),Dt(["drop","take"],function(e,t){qn.prototype[e]=function(n){n=n===o?1:Gt(fa(n),0);var r=this.__filtered__&&!t?new qn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},qn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Dt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;qn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ci(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Dt(["head","last"],function(e,t){var n="take"+(t?"Right":"");qn.prototype[e]=function(){return this[n](1).value()[0]}}),Dt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");qn.prototype[e]=function(){return this.__filtered__?new qn(this):this[n](1)}}),qn.prototype.compact=function(){return this.filter(rl)},qn.prototype.find=function(e){return this.filter(e).head()},qn.prototype.findLast=function(e){return this.reverse().find(e)},qn.prototype.invokeMap=Qr(function(e,t){return"function"==typeof e?new qn(this):this.map(function(n){return Nr(n,e,t)})}),qn.prototype.reject=function(e){return this.filter(Ms(ci(e)))},qn.prototype.slice=function(e,t){e=fa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new qn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=fa(t))<0?n.dropRight(-t):n.take(t-e)),n)},qn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qn.prototype.toArray=function(){return this.take(g)},wr(qn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Bn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);i&&(Bn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof qn,c=a[0],u=l||qs(t),d=function(e){var t=i.apply(Bn,Rt([e],a));return r&&h?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,p=!!this.__actions__.length,f=s&&!h,m=l&&!p;if(!s&&u){t=m?t:new qn(this);var g=e.apply(t,a);return g.__actions__.push({func:ps,args:[d],thisArg:o}),new Hn(g,h)}return f&&m?e.apply(this,a):(g=this.thru(d),f?r?g.value()[0]:g.value():g)})}),Dt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ne[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(qs(o)?o:[],e)}return this[n](function(n){return t.apply(qs(n)?n:[],e)})}}),wr(qn.prototype,function(e,t){var n=Bn[t];if(n){var r=n.name+"";Me.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}}),On[Uo(o,2).name]=[{name:"wrapper",func:o}],qn.prototype.clone=function(){var e=new qn(this.__wrapped__);return e.__actions__=No(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=No(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=No(this.__views__),e},qn.prototype.reverse=function(){if(this.__filtered__){var e=new qn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=qs(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],s=i.size;switch(i.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=bn(t,e+s);break;case"takeRight":e=Gt(e,t-s)}}return{start:e,end:t}}(0,o,this.__views__),s=i.start,a=i.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,d=u.length,h=0,p=bn(l,this.__takeCount__);if(!n||!r&&o==l&&p==l)return mo(e,this.__actions__);var f=[];e:for(;l--&&h<p;){for(var m=-1,g=e[c+=t];++m<d;){var v=u[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}f[h++]=g}return f},Bn.prototype.at=fs,Bn.prototype.chain=function(){return hs(this)},Bn.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===o&&(this.__values__=ha(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof Vn;){var r=zi(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qn){var t=e;return this.__actions__.length&&(t=new qn(this)),(t=t.reverse()).__actions__.push({func:ps,args:[es],thisArg:o}),new Hn(t,this.__chain__)}return this.thru(es)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return mo(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Je&&(Bn.prototype[Je]=function(){return this}),Bn}();mt._=yn,(r=function(){return yn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},3668:(e,t,n)=>{var r=n(8902),o=n(2587),i=n(8114);e.exports=function(e,t,n,s,a,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var v=e[f],y=t[f];if(s)var b=c?s(y,v,f,t,e,l):s(v,y,f,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!o(t,function(e,t){if(!i(g,t)&&(v===e||a(v,e,n,s,l)))return g.push(t)})){m=!1;break}}else if(v!==y&&!a(v,y,n,s,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),o=n(1143),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),o=n(8673);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],s=e[i];t[n]=[i,s,r(s)]}return t}},3795:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),o=n(2866),i=n(2597),s=n(914);e.exports=function(e){return i(e)?r(s(e)):o(e)}},3950:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},4052:e=>{var t=Array.isArray;e.exports=t},4079:(e,t,n)=>{var r=n(8259),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)}),t});e.exports=s},4157:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(5043),s=(r=i)&&r.__esModule?r:{default:r};function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,i,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return i=l=a(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(u))),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return s.default.createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},s.default.createElement(e,o({},l.props,l.state)))},a(l,i)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r}(s.default.Component)};t.default=l},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(5043)),o=c(n(8656)),i=n(1256),s=c(n(178)),a=c(n(9632)),l=c(n(9386));function c(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(d,e);var t,n,c,u=m(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),y(g(t=u.call(this,e)),"itemsWrapperRef",void 0),y(g(t),"itemsListRef",void 0),y(g(t),"thumbsRef",void 0),y(g(t),"setItemsWrapperRef",function(e){t.itemsWrapperRef=e}),y(g(t),"setItemsListRef",function(e){t.itemsListRef=e}),y(g(t),"setThumbsRef",function(e,n){t.thumbsRef||(t.thumbsRef=[]),t.thumbsRef[n]=e}),y(g(t),"updateSizes",function(){if(t.props.children&&t.itemsWrapperRef&&t.thumbsRef){var e=r.Children.count(t.props.children),n=t.itemsWrapperRef.clientWidth,o=t.props.thumbWidth?t.props.thumbWidth:(0,i.outerWidth)(t.thumbsRef[0]),s=Math.floor(n/o),a=s<e,l=a?e-s:0;t.setState(function(e,n){return{itemSize:o,visibleItems:s,firstItem:a?t.getFirstItem(n.selectedItem):0,lastPosition:l,showArrows:a}})}}),y(g(t),"handleClickItem",function(e,n,r){if(!function(e){return e.hasOwnProperty("key")}(r)||"Enter"===r.key){var o=t.props.onSelectItem;"function"===typeof o&&o(e,n)}}),y(g(t),"onSwipeStart",function(){t.setState({swiping:!0})}),y(g(t),"onSwipeEnd",function(){t.setState({swiping:!1})}),y(g(t),"onSwipeMove",function(e){var n=e.x;if(!t.state.itemSize||!t.itemsWrapperRef||!t.state.visibleItems)return!1;var o=r.Children.count(t.props.children),i=-100*t.state.firstItem/t.state.visibleItems;0===i&&n>0&&(n=0),i===100*-Math.max(o-t.state.visibleItems,0)/t.state.visibleItems&&n<0&&(n=0);var a=i+100/(t.itemsWrapperRef.clientWidth/n);return t.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(e){t.itemsListRef.style[e]=(0,s.default)(a,"%",t.props.axis)}),!0}),y(g(t),"slideRight",function(e){t.moveTo(t.state.firstItem-("number"===typeof e?e:1))}),y(g(t),"slideLeft",function(e){t.moveTo(t.state.firstItem+("number"===typeof e?e:1))}),y(g(t),"moveTo",function(e){e=(e=e<0?0:e)>=t.state.lastPosition?t.state.lastPosition:e,t.setState({firstItem:e})}),t.state={selectedItem:e.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},t}return t=d,(n=[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(e){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==e.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,l.default)().addEventListener("resize",this.updateSizes),(0,l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,l.default)().removeEventListener("resize",this.updateSizes),(0,l.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(e){var t=e;return e>=this.state.lastPosition&&(t=this.state.lastPosition),e<this.state.firstItem+this.state.visibleItems&&(t=this.state.firstItem),e<this.state.firstItem&&(t=e),t}},{key:"renderItems",value:function(){var e=this;return this.props.children.map(function(t,n){var i=o.default.ITEM(!1,n===e.state.selectedItem),s={key:n,ref:function(t){return e.setThumbsRef(t,n)},className:i,onClick:e.handleClickItem.bind(e,n,e.props.children[n]),onKeyDown:e.handleClickItem.bind(e,n,e.props.children[n]),"aria-label":"".concat(e.props.labels.item," ").concat(n+1),style:{width:e.props.thumbWidth}};return r.default.createElement("li",h({},s,{role:"button",tabIndex:0}),t)})}},{key:"render",value:function(){var e=this;if(!this.props.children)return null;var t,n=r.Children.count(this.props.children)>1,i=this.state.showArrows&&this.state.firstItem>0,l=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,c=-this.state.firstItem*(this.state.itemSize||0),u=(0,s.default)(c,"px",this.props.axis),d=this.props.transitionTime+"ms";return t={WebkitTransform:u,MozTransform:u,MsTransform:u,OTransform:u,transform:u,msTransform:u,WebkitTransitionDuration:d,MozTransitionDuration:d,MsTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d},r.default.createElement("div",{className:o.default.CAROUSEL(!1)},r.default.createElement("div",{className:o.default.WRAPPER(!1),ref:this.setItemsWrapperRef},r.default.createElement("button",{type:"button",className:o.default.ARROW_PREV(!i),onClick:function(){return e.slideRight()},"aria-label":this.props.labels.leftArrow}),n?r.default.createElement(a.default,{tagName:"ul",className:o.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:t,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):r.default.createElement("ul",{className:o.default.SLIDER(!1,this.state.swiping),ref:function(t){return e.setItemsListRef(t)},style:t},this.renderItems()),r.default.createElement("button",{type:"button",className:o.default.ARROW_NEXT(!l),onClick:function(){return e.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}])&&p(t.prototype,n),c&&p(t,c),d}(r.Component);t.default=b,y(b,"displayName","Thumbs"),y(b,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350})},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4238:(e,t,n)=>{var r,o,i=n(3795),s=n(3950),a=0,l=0;e.exports=function(e,t,n){var c=t&&n||0,u=t||[],d=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==h){var p=i();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=o=16383&(p[6]<<8|p[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=f-a+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(h=h+1&16383),(g<0||f>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=f,l=m,o=h;var v=(1e4*(268435455&(f+=122192928e5))+m)%4294967296;u[c++]=v>>>24&255,u[c++]=v>>>16&255,u[c++]=v>>>8&255,u[c++]=255&v;var y=f/4294967296*1e4&268435455;u[c++]=y>>>8&255,u[c++]=255&y,u[c++]=y>>>24&15|16,u[c++]=y>>>16&255,u[c++]=h>>>8|128,u[c++]=255&h;for(var b=0;b<6;++b)u[c+b]=d[b];return t||s(u)}},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),o=n(4052);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var x=w.prototype=new b;x.constructor=w,g(x,y.prototype),x.isPureReactComponent=!0;var k=Array.isArray;function _(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function E(e,t,r){var o=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==o?o:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return N((u=e._init)(e._payload),t,o,i,s)}}if(u)return s=s(e),u=""===i?"."+D(e,0):i,k(s)?(o="",null!=u&&(o=u.replace(A,"$&/")+"/"),N(s,t,o,"",function(e){return e})):null!=s&&(T(s)&&(l=s,c=o+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(A,"$&/")+"/")+u,s=E(l.type,c,l.props)),t.push(s)),1;u=0;var d,p=""===i?".":i+":";if(k(e))for(var m=0;m<e.length;m++)u+=N(i=e[m],t,o,a=p+D(i,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=N(i=i.value,t,o,a=p+D(i,m++),s);else if("object"===a){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function O(e,t,n){if(null==e)return e;var r=[],o=0;return N(e,r,"","",function(e){return t.call(n,e,o++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},j={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=p,t.Children=j,t.Component=y,t.Fragment=o,t.Profiler=s,t.PureComponent=w,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.key&&(o=""+t.key),t)!S.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),a=0;a<i;a++)s[a]=arguments[a+2];r.children=s}return E(e.type,o,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];o.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return E(e,i,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),o=C.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(_,P)}catch(i){P(i)}finally{null!==t&&null!==n.types&&(t.types=n.types),C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return C.H.useEffect(e,t)},t.useEffectEvent=function(e){return C.H.useEffectEvent(e)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.2.0"},4353:(e,t,n)=>{e=n.nmd(e);var r=n(6552),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,s=i&&i.exports===o?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}},4371:(e,t,n)=>{"use strict";var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(5043),s=(r=i)&&r.__esModule?r:{default:r};t.A=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,i=void 0===r?24:r,a=e.height,l=void 0===a?24:a,c=e.style,u=void 0===c?{}:c,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return s.default.createElement("svg",o({viewBox:"0 0 24 24",style:o({fill:n,width:i,height:l},u)},d),s.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4432:(e,t,n)=>{(()=>{var t={703:(e,t,n)=>{"use strict";var r=n(414);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";o.r(i),o.d(i,{Column:()=>E,Layout:()=>C,Row:()=>S});const e=n(5043);var t=o.n(e),r=o(697),s=o.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["style","column","rowReverse","columnReverse","justifyContent","alignContent","alignItems","alignSelf","wrap","wrapReverse","flexGrow","flexShrink","flexBasis","flex","breakpoints","className","componentRef","element"],c=["reverse","vertical","horizontal","justifyContent","alignItems","alignSelf","alignContent","flex","flexGrow","flexShrink","flexBasis"],u=["reverse","vertical","horizontal","justifyContent","alignItems","alignSelf","alignContent","flex","flexGrow","flexShrink","flexBasis"];function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?x(e):t}(this,n)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){y(r,e);var n=w(r);function r(){var e;m(this,r);for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return _(x(e=n.call.apply(n,[this].concat(o))),"getMainAxisAlign",function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case"flex-start":case"start":default:return"flex-start";case"center":return"center";case"flex-end":case"end":return"flex-end";case"space-between":case"spaced":return"space-between";case"space-around":case"around":return"space-around";case"space-evenly":return t?"flex-start":"space-evenly";case"stretch":return t?"stretch":"flex-start"}}),_(x(e),"getCrossAxisAlign",function(e){switch(e){case"flex-start":case"start":return"flex-start";case"center":return"center";case"flex-end":case"end":return"flex-end";case"stretch":default:return"stretch";case"baseline":return"baseline"}}),e}return v(r,[{key:"render",value:function(){var e=this.props,n=e.style,r=e.column,o=void 0!==r&&r,i=e.rowReverse,s=void 0!==i&&i,a=e.columnReverse,c=void 0!==a&&a,u=e.justifyContent,h=e.alignContent,m=e.alignItems,g=e.alignSelf,v=e.wrap,y=void 0!==v&&v,b=e.wrapReverse,w=void 0!==b&&b,x=e.flexGrow,k=e.flexShrink,_=e.flexBasis,C=e.flex,S=e.breakpoints,E=e.className,T=e.componentRef,A=e.element,D=f(e,l),N={flexDirection:"row"};o&&(N={flexDirection:"column"}),s?N={flexDirection:"row-reverse"}:c&&(N={flexDirection:"column-reverse"});var O={flexWrap:"nowrap"};y?O={flexWrap:"wrap"}:w&&(O={flexWrap:"wrap-reverse"});var I=u&&{justifyContent:this.getMainAxisAlign(u)}||{},P=m&&{alignItems:this.getCrossAxisAlign(m)}||{},j=g&&{alignSelf:this.getCrossAxisAlign(g)}||{},M=h&&{alignContent:this.getMainAxisAlign(h,!0)}||{},R=x&&{flexGrow:x}||{},F=k&&{flexShrink:k}||{},L=_&&{flexBasis:_}||{},z=C&&{flex:C}||{},B=[],U=S?Object.keys(S).sort(function(e,t){return t-e}).reduce(function(e,t){if(isNaN(t))return e;var n=S[t];return"string"==typeof n?["column","column-reverse","row","row-reverse"].includes(n)?p(p({},e),window&&window.innerWidth<=+t?{flexDirection:n}:{}):(window&&window.innerWidth<=+t&&B.push(n),e):p(p({},e),window&&window.innerWidth<=+t?n:{})},{}):{},V="".concat(E||""," ").concat(B.join(" ")).trim(),H=p(p(p(p(p(p(p(p(p(p(p(p({display:"flex"},N),I),P),j),M),O),R),F),L),z),n),U),q=t().createElement(A||"div");return t().createElement(q.type,d({ref:T,style:H,className:V},D),this.props.children)}}]),r}(t().PureComponent);_(C,"propTypes",{style:s().object,column:s().bool,rowReverse:s().bool,columnReverse:s().bool,justifyContent:s().oneOf(["start","flex-start","center","end","flex-end","spaced","space-between","around","space-around","space-evenly"]),alignItems:s().oneOf(["start","center","end","stretch","baseline"]),alignSelf:s().oneOf(["start","center","end","stretch","baseline"]),alignContent:s().oneOf(["start","flex-start","center","end","flex-end","spaced","space-between","around","space-around","stretch"]),wrap:s().bool,wrapReverse:s().bool,flexGrow:s().number,flexShrink:s().number,flexBasis:s().string,flex:s().string,breakpoints:s().object,element:s().oneOf(["article","aside","div","figure","footer","form","header","main","nav","section"]),componentRef:s().oneOfType([s().func,s().shape({current:s().object})]),children:s().node.isRequired});var S=function(e){y(r,e);var n=w(r);function r(){return m(this,r),n.apply(this,arguments)}return v(r,[{key:"render",value:function(){var e=this.props,n=e.reverse,r=void 0!==n&&n,o=e.vertical,i=e.horizontal,s=e.justifyContent,a=e.alignItems,l=e.alignSelf,u=e.alignContent,h=e.flex,p=e.flexGrow,m=e.flexShrink,g=e.flexBasis,v=f(e,c),y=r;return t().createElement(C,d({rowReverse:y,alignItems:o||a,justifyContent:i||s,alignSelf:l,alignContent:u,flexGrow:p,flexBasis:g,flexShrink:m,flex:h},v),this.props.children)}}]),r}(t().PureComponent);_(S,"propTypes",{reverse:s().bool,vertical:s().oneOf(["start","center","end","stretch","baseline"]),horizontal:s().oneOf(["start","flex-start","center","end","flex-end","spaced","space-between","around","space-around","space-evenly"]),justifyContent:s().oneOf(["start","flex-start","center","end","flex-end","spaced","space-between","around","space-around","space-evenly"]),alignItems:s().oneOf(["start","center","end","stretch","baseline"]),alignSelf:s().oneOf(["start","center","end","stretch","baseline"]),alignContent:s().oneOf(["start","flex-start","center","end","flex-end","spaced","space-between","around","space-around","stretch"]),flex:s().string,flexGrow:s().number,flexShrink:s().number,flexBasis:s().string,breakpoints:s().object,element:s().oneOf(["article","aside","div","figure","footer","form","header","main","nav","section"]),children:s().node.isRequired});var E=function(e){y(r,e);var n=w(r);function r(){return m(this,r),n.apply(this,arguments)}return v(r,[{key:"render",value:function(){var e=this.props,n=e.reverse,r=void 0!==n&&n,o=e.vertical,i=e.horizontal,s=e.justifyContent,a=e.alignItems,l=e.alignSelf,c=e.alignContent,h=e.flex,p=e.flexGrow,m=e.flexShrink,g=e.flexBasis,v=f(e,u),y=r;return t().createElement(C,d({column:!0,columnReverse:y,alignItems:i||a,justifyContent:o||s,alignSelf:l,alignContent:c,flexGrow:p,flexBasis:g,flexShrink:m,flex:h},v),this.props.children)}}]),r}(t().PureComponent);_(E,"propTypes",{reverse:s().bool,horizontal:s().oneOf(["start","center","end","stretch"]),vertical:s().oneOf(["start","flex-start","center","end","flex-end","spaced","space-between","around","space-around","space-evenly"]),justifyContent:s().oneOf(["start","flex-start","center","end","flex-end","spaced","space-between","around","space-around","space-evenly"]),alignItems:s().oneOf(["start","center","end","stretch","baseline"]),alignSelf:s().oneOf(["start","center","end","stretch","baseline"]),alignContent:s().oneOf(["start","flex-start","center","end","flex-end","spaced","space-between","around","space-around","stretch"]),flex:s().string,flexGrow:s().number,flexShrink:s().number,flexBasis:s().string,breakpoints:s().object,element:s().oneOf(["article","aside","div","figure","footer","form","header","main","nav","section"]),children:s().node.isRequired})})(),e.exports=i})()},4539:e=>{"use strict";e.exports=JSON.parse('{"ad":true,"ae":true,"af":true,"ag":true,"ai":true,"al":true,"am":true,"ao":true,"aq":true,"ar":true,"as":true,"at":true,"au":true,"aw":true,"ax":true,"az":true,"ba":true,"bb":true,"bd":true,"be":true,"bf":true,"bg":true,"bh":true,"bi":true,"bj":true,"bl":true,"bm":true,"bn":true,"bo":true,"bq":true,"br":true,"bs":true,"bt":true,"bv":true,"bw":true,"by":true,"bz":true,"ca":true,"cc":true,"cd":true,"cf":true,"cg":true,"ch":true,"ci":true,"ck":true,"cl":true,"cm":true,"cn":true,"co":true,"cr":true,"cu":true,"cv":true,"cw":true,"cx":true,"cy":true,"cz":true,"de":true,"dj":true,"dk":true,"dm":true,"do":true,"dz":true,"ec":true,"ee":true,"eg":true,"er":true,"es":true,"et":true,"fi":true,"fj":true,"fk":true,"fm":true,"fo":true,"fr":true,"ga":true,"gb (.uk)":true,"gd":true,"ge":true,"gf":true,"gg":true,"gh":true,"gi":true,"gl":true,"gm":true,"gn":true,"gp":true,"gq":true,"gr":true,"gs":true,"gt":true,"gu":true,"gw":true,"gy":true,"hk":true,"hm":true,"hn":true,"hr":true,"ht":true,"hu":true,"id":true,"ie":true,"il":true,"im":true,"in":true,"io":true,"iq":true,"ir":true,"is":true,"it":true,"je":true,"jm":true,"jo":true,"jp":true,"ke":true,"kg":true,"kh":true,"ki":true,"km":true,"kn":true,"kp":true,"kr":true,"kw":true,"ky":true,"kz":true,"la":true,"lb":true,"lc":true,"li":true,"lk":true,"lr":true,"ls":true,"lt":true,"lu":true,"lv":true,"ly":true,"ma":true,"mc":true,"md":true,"me":true,"mf":true,"mg":true,"mh":true,"mk":true,"ml":true,"mm":true,"mn":true,"mo":true,"mp":true,"mq":true,"mr":true,"ms":true,"mt":true,"mu":true,"mv":true,"mw":true,"mx":true,"my":true,"mz":true,"na":true,"nc":true,"ne":true,"nf":true,"ng":true,"ni":true,"nl":true,"no":true,"np":true,"nr":true,"nu":true,"nz":true,"om":true,"pa":true,"pe":true,"pf":true,"pg":true,"ph":true,"pk":true,"pl":true,"pm":true,"pn":true,"pr":true,"ps":true,"pt":true,"pw":true,"py":true,"qa":true,"re":true,"ro":true,"rs":true,"ru":true,"rw":true,"sa":true,"sb":true,"sc":true,"sd":true,"se":true,"sg":true,"sh":true,"si":true,"sj":true,"sk":true,"sl":true,"sm":true,"sn":true,"so":true,"sr":true,"ss":true,"st":true,"sv":true,"sx":true,"sy":true,"sz":true,"tc":true,"td":true,"tf":true,"tg":true,"th":true,"tj":true,"tk":true,"tl":true,"tm":true,"tn":true,"to":true,"tr":true,"tt":true,"tv":true,"tw":true,"tz":true,"ua":true,"ug":true,"us":true,"uy":true,"uz":true,"va":true,"vc":true,"ve":true,"vg":true,"vi":true,"vn":true,"vu":true,"wf":true,"ws":true,"ye":true,"yt":true,"za":true,"zm":true,"zw":true}')},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),o=n(14),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,a=s&&s.exports===i?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||o;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(l){}var o=s.call(e);return r&&(t?e[a]=n:delete e[a]),o}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),o=n(8673);e.exports=function(e,t){return e&&r(e,t,o)}},4705:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>i})},4802:(e,t,n)=>{const r=n(7612),o=n(2038),i=n(4539);e.exports=function(e,t){if("string"!==typeof e)return!1;if(t instanceof Object||(t={}),(e=e.toLowerCase()).endsWith(".")&&(e=e.slice(0,e.length-1)),t.allowUnicode&&(e=r.toASCII(e)),e.length>253)return!1;if(!/^([\u0E00-\u0E7Fa-z0-9-._*]+)$/g.test(e))return!1;if(t.topLevel&&i[e.replace(/\.$/,"")])return!0;const n=e.match(/(.*)\.(([\u0E00-\u0E7Fa-z0-9]+)(\.[a-z0-9]+))/);let s=null,a=null;if(n&&n.length>2&&o[n[2]]&&(s=n[2],a=n[1].split(".")),!a){if(a=e.split("."),a.length<=1)return!1;s=a.pop();if(!/^(?:xn--)?(?!^\d+$)[\u0E00-\u0E7Fa-z0-9]+$/gi.test(s))return!1}if(!1===t.subdomain&&a.length>1)return!1;return a.every(function(e,n){if(t.wildcard&&0===n&&"*"===e&&a.length>1)return!0;let r=/^([\u0E00-\u0E7Fa-zA-Z0-9-_]+)$/g;n===a.length-1&&(r=/^([\u0E00-\u0E7Fa-zA-Z0-9-]+)$/g);const o=(e.match(/--(--)?/g)||[]).length,i=(e.match(/xn--/g)||[]).length;if(n===a.length-1&&o!==i)return!1;return r.test(e)&&e.length<64&&!e.startsWith("-")&&!e.endsWith("-")})}},4816:(e,t,n)=>{var r=n(7251),o=n(7159),i=n(438),s=n(9394),a=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,e.exports=l},4973:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(5043),s=(r=i)&&r.__esModule?r:{default:r};function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var l=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,i,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return i=l=a(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(u))),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return s.default.createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},s.default.createElement(e,o({},l.props,l.state)))},a(l,i)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r}(s.default.Component)};t.default=l},5029:(e,t,n)=>{var r=n(6989),o=n(3097),i=n(3366),s=n(2597),a=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return s(e)&&a(t)?l(c(e),t):function(n){var s=o(n,e);return void 0===s&&s===t?i(n,e):r(t,s,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5111:(e,t,n)=>{var r=n(3279);e.exports=function(e){return"function"==typeof e?e:r}},5119:(e,t,n)=>{var r=n(6614),o=n(474);e.exports=function(e,t){return e&&r(t,o(t),e)}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),o=n(2761);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5324:(e,t,n)=>{var r=n(4052),o=n(2597),i=n(4079),s=n(1069);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(s(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),o=n(6173),i=n(2761),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!s[r(e)]}},5538:(e,t,n)=>{var r=n(7160),o=n(4545),i=n(793),s=n(7760),a=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,e.exports=c},5559:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return document}},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5652:(e,t,n)=>{var r=n(4664),o=n(6516)(r);e.exports=o},5654:(e,t,n)=>{var r=n(7937),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},5752:(e,t,n)=>{var r=n(9395),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,s,a){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:o.call(t,h)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var m=!0;a.set(e,t),a.set(t,e);for(var g=l;++d<u;){var v=e[h=c[d]],y=t[h];if(i)var b=l?i(y,v,h,t,e,a):i(v,y,h,e,t,a);if(!(void 0===b?v===y||s(v,y,n,i,a):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return a.delete(e),a.delete(t),m}},5766:function(e,t){var n,r,o;r=[],n=function e(){var t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,i={},s=0,a={};function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var r=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<r){let t=this._config.newline;t||(i=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,i)),e=[...e.split(t).slice(r)].join(t)}this.isFirstChunk&&x(this._config.beforeFirstChunk)&&void 0!==(i=this._config.beforeFirstChunk(e))&&(e=i),this.isFirstChunk=!1,this._halted=!1,r=this._partialLine+e;var i=(this._partialLine="",this._handle.parse(r,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=i.meta.cursor,this._finished||(this._partialLine=r.substring(e-this._baseIndex),this._baseIndex=e),i&&i.data&&(this._rowCount+=i.data.length),r=this._finished||this._config.preview&&this._rowCount>=this._config.preview,o)n.postMessage({results:i,workerId:a.WORKER_ID,finished:r});else if(x(this._config.chunk)&&!t){if(this._config.chunk(i,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=i=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(i.data),this._completeResults.errors=this._completeResults.errors.concat(i.errors),this._completeResults.meta=i.meta),this._completed||!r||!x(this._config.complete)||i&&i.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),r||i&&i.meta.paused||this._nextChunk(),i}this._halted=!0},this._sendError=function(e){x(this._config.error)?this._config.error(e):o&&this._config.error&&n.postMessage({workerId:a.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),l.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e,n=this._config.downloadRequestHeaders;for(e in n)t.setRequestHeader(e,n[e])}var o;this._config.chunkSize&&(o=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+o));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function u(e){(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),l.call(this,e);var t,n,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=w(this._chunkLoaded,this),t.onerror=w(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,o=(this._config.chunkSize&&(o=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,o)),t.readAsText(e,this._config.encoding));r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return e=this._config.chunkSize,t=e?(n=t.substring(0,e),t.substring(e)):(n=t,""),this._finished=!t,this.parseChunk(n)}}function h(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=w(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=w(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=w(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=w(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(e){var t,n,r,o,i=Math.pow(2,53),s=-i,l=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,u=this,d=0,h=0,p=!1,g=!1,v=[],y={data:[],errors:[],meta:{}};function w(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function k(){if(y&&r&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(y.data=y.data.filter(function(e){return!w(e)})),_()){if(y)if(Array.isArray(y.data[0])){for(var t=0;_()&&t<y.data.length;t++)y.data[t].forEach(n);y.data.splice(0,1)}else y.data.forEach(n);function n(t,n){x(e.transformHeader)&&(t=e.transformHeader(t,n)),v.push(t)}}function o(t,n){for(var r=e.header?{}:[],o=0;o<t.length;o++){var a=o,u=t[o];u=((t,n)=>(t=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping)))(t)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((e=>{if(l.test(e)&&(e=parseFloat(e),s<e&&e<i))return 1})(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n)(a=e.header?o>=v.length?"__parsed_extra":v[o]:a,u=e.transform?e.transform(u,a):u),"__parsed_extra"===a?(r[a]=r[a]||[],r[a].push(u)):r[a]=u}return e.header&&(o>v.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+o,h+n):o<v.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+o,h+n)),r}var u;y&&(e.header||e.dynamicTyping||e.transform)&&(u=1,!y.data.length||Array.isArray(y.data[0])?(y.data=y.data.map(o),u=y.data.length):y.data=o(y.data,0),e.header&&y.meta&&(y.meta.fields=v),h+=u)}function _(){return e.header&&0===v.length}function C(e,t,n,r){e={type:e,code:t,message:n},void 0!==r&&(e.row=r),y.errors.push(e)}x(e.step)&&(o=e.step,e.step=function(t){y=t,_()?k():(k(),0!==y.data.length&&(d+=t.data.length,e.preview&&d>e.preview?n.abort():(y.data=y.data[0],o(y,u))))}),this.parse=function(o,i,s){var l=e.quoteChar||'"';return e.newline||(e.newline=this.guessLineEndings(o,l)),r=!1,e.delimiter?x(e.delimiter)&&(e.delimiter=e.delimiter(o),y.meta.delimiter=e.delimiter):((l=((t,n,r,o,i)=>{var s,l,c,u;i=i||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var d=0;d<i.length;d++){for(var h,p=i[d],f=0,g=0,v=0,y=(c=void 0,new m({comments:o,delimiter:p,newline:n,preview:10}).parse(t)),b=0;b<y.data.length;b++)r&&w(y.data[b])?v++:(g+=h=y.data[b].length,void 0===c?c=h:0<h&&(f+=Math.abs(h-c),c=h));0<y.data.length&&(g/=y.data.length-v),(void 0===l||f<=l)&&(void 0===u||u<g)&&1.99<g&&(l=f,s=p,u=g)}return{successful:!!(e.delimiter=s),bestDelimiter:s}})(o,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=l.bestDelimiter:(r=!0,e.delimiter=a.DefaultDelimiter),y.meta.delimiter=e.delimiter),l=b(e),e.preview&&e.header&&l.preview++,t=o,n=new m(l),y=n.parse(t,i,s),k(),p?{meta:{paused:!0}}:y||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,n.abort(),t=x(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(p=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return g},this.abort=function(){g=!0,n.abort(),y.meta.aborted=!0,x(e.complete)&&e.complete(y),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576),t=new RegExp(f(t)+"([^]*?)"+f(t),"gm");var n=(e=e.replace(t,"")).split("\r");if(e=1<(t=e.split("\n")).length&&t[0].length<n[0].length,1===n.length||e)return"\n";for(var r=0,o=0;o<n.length;o++)"\n"===n[o][0]&&r++;return r>=n.length/2?"\r\n":"\r"}}function f(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t=(e=e||{}).delimiter,n=e.newline,r=e.comments,o=e.step,i=e.preview,s=e.fastMode,l=null,c=!1,u=null==e.quoteChar?'"':e.quoteChar,d=u;if(void 0!==e.escapeChar&&(d=e.escapeChar),("string"!=typeof t||-1<a.BAD_DELIMITERS.indexOf(t))&&(t=","),r===t)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<a.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var h=0,p=!1;this.parse=function(a,m,g){if("string"!=typeof a)throw new Error("Input must be a string");var v=a.length,y=t.length,b=n.length,w=r.length,k=x(o),_=[],C=[],S=[],E=h=0;if(!a)return L();if(s||!1!==s&&-1===a.indexOf(u)){for(var T=a.split(n),A=0;A<T.length;A++){if(S=T[A],h+=S.length,A!==T.length-1)h+=n.length;else if(g)return L();if(!r||S.substring(0,w)!==r){if(k){if(_=[],j(S.split(t)),z(),p)return L()}else j(S.split(t));if(i&&i<=A)return _=_.slice(0,i),L(!0)}}return L()}for(var D=a.indexOf(t,h),N=a.indexOf(n,h),O=new RegExp(f(d)+f(u),"g"),I=a.indexOf(u,h);;)if(a[h]===u)for(I=h,h++;;){if(-1===(I=a.indexOf(u,I+1)))return g||C.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:h}),R();if(I===v-1)return R(a.substring(h,I).replace(O,u));if(u===d&&a[I+1]===d)I++;else if(u===d||0===I||a[I-1]!==d){-1!==D&&D<I+1&&(D=a.indexOf(t,I+1));var P=M(-1===(N=-1!==N&&N<I+1?a.indexOf(n,I+1):N)?D:Math.min(D,N));if(a.substr(I+1+P,y)===t){S.push(a.substring(h,I).replace(O,u)),a[h=I+1+P+y]!==u&&(I=a.indexOf(u,h)),D=a.indexOf(t,h),N=a.indexOf(n,h);break}if(P=M(N),a.substring(I+1+P,I+1+P+b)===n){if(S.push(a.substring(h,I).replace(O,u)),F(I+1+P+b),D=a.indexOf(t,h),I=a.indexOf(u,h),k&&(z(),p))return L();if(i&&_.length>=i)return L(!0);break}C.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:_.length,index:h}),I++}}else if(r&&0===S.length&&a.substring(h,h+w)===r){if(-1===N)return L();h=N+b,N=a.indexOf(n,h),D=a.indexOf(t,h)}else if(-1!==D&&(D<N||-1===N))S.push(a.substring(h,D)),h=D+y,D=a.indexOf(t,h);else{if(-1===N)break;if(S.push(a.substring(h,N)),F(N+b),k&&(z(),p))return L();if(i&&_.length>=i)return L(!0)}return R();function j(e){_.push(e),E=h}function M(e){var t=0;return-1!==e&&(e=a.substring(I+1,e))&&""===e.trim()?e.length:t}function R(e){return g||(void 0===e&&(e=a.substring(h)),S.push(e),h=v,j(S),k&&z()),L()}function F(e){h=e,j(S),S=[],N=a.indexOf(n,h)}function L(r){if(e.header&&!m&&_.length&&!c){var o=_[0],i=Object.create(null),s=new Set(o);let t=!1;for(let n=0;n<o.length;n++){let r=o[n];if(i[r=x(e.transformHeader)?e.transformHeader(r,n):r]){let e,a=i[r];for(;e=r+"_"+a,a++,s.has(e););s.add(e),o[n]=e,i[r]++,t=!0,(l=null===l?{}:l)[e]=r}else i[r]=1,o[n]=r;s.add(r)}t&&console.warn("Duplicate headers found and renamed."),c=!0}return{data:_,errors:C,meta:{delimiter:t,linebreak:n,aborted:p,truncated:!!r,cursor:E+(m||0),renamedHeaders:l}}}function z(){o(L()),_=[],C=[]}},this.abort=function(){p=!0},this.getCharIndex=function(){return h}}function g(e){var t=e.data,n=i[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){r=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(x(n.userStep)){for(var s=0;s<t.results.data.length&&(n.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},o),!r);s++);delete t.results}else x(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!r&&v(t.workerId,t.results)}function v(e,t){var n=i[e];x(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function y(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=b(e[t]);return n}function w(e,t){return function(){e.apply(t,arguments)}}function x(e){return"function"==typeof e}return a.parse=function(t,r){var o=(r=r||{}).dynamicTyping||!1;if(x(o)&&(r.dynamicTypingFunction=o,o={}),r.dynamicTyping=o,r.transform=!!x(r.transform)&&r.transform,!r.worker||!a.WORKERS_SUPPORTED)return o=null,a.NODE_STREAM_INPUT,"string"==typeof t?(t=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(t),o=new(r.download?c:d)(r)):!0===t.readable&&x(t.read)&&x(t.on)?o=new h(r):(n.File&&t instanceof File||t instanceof Object)&&(o=new u(r)),o.stream(t);(o=(()=>{var t;return!!a.WORKERS_SUPPORTED&&(t=(()=>{var t=n.URL||n.webkitURL||null,r=e.toString();return a.BLOB_URL||(a.BLOB_URL=t.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))})(),(t=new n.Worker(t)).onmessage=g,t.id=s++,i[t.id]=t)})()).userStep=r.step,o.userChunk=r.chunk,o.userComplete=r.complete,o.userError=r.error,r.step=x(r.step),r.chunk=x(r.chunk),r.complete=x(r.complete),r.error=x(r.error),delete r.worker,o.postMessage({input:t,config:r,workerId:o.id})},a.unparse=function(e,t){var n=!1,r=!0,o=",",i="\r\n",s='"',l=s+s,c=!1,u=null,d=!1,h=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||a.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(o=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(i=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+s),t.escapeFormulae instanceof RegExp?d=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(d=/^[=+\-@\t\r].*$/)}})(),new RegExp(f(s),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,c);if("object"==typeof e[0])return p(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function p(e,t,n){var s="",a=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),l=!Array.isArray(t[0]);if(a&&r){for(var c=0;c<e.length;c++)0<c&&(s+=o),s+=m(e[c],c);0<t.length&&(s+=i)}for(var u=0;u<t.length;u++){var d=(a?e:t[u]).length,h=!1,p=a?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!a&&(h="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&a){for(var f=[],g=0;g<d;g++){var v=l?e[g]:g;f.push(t[u][v])}h=""===f.join("").trim()}if(!h){for(var y=0;y<d;y++){0<y&&!p&&(s+=o);var b=a&&l?e[y]:y;s+=m(t[u][b],y)}u<t.length-1&&(!n||0<d&&!p)&&(s+=i)}}return s}function m(e,t){var r,i;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(i=!1,d&&"string"==typeof e&&d.test(e)&&(e="'"+e,i=!0),r=e.toString().replace(h,l),(i=i||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(r,a.BAD_DELIMITERS)||-1<r.indexOf(o)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?s+r+s:r)}},a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!r&&!!n.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=m,a.ParserHandle=p,a.NetworkStreamer=c,a.FileStreamer=u,a.StringStreamer=d,a.ReadableStreamStreamer=h,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var r=e.config||{},o=[];return this.each(function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)o.push({file:this.files[i],inputElem:this,instanceConfig:t.extend({},r)})}),i(),this;function i(){if(0===o.length)x(e.complete)&&e.complete();else{var n,r,i,l,c=o[0];if(x(e.before)){var u=e.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return n="AbortError",r=c.file,i=c.inputElem,l=u.reason,void(x(e.error)&&e.error({name:n},r,i,l));if("skip"===u.action)return void s();"object"==typeof u.config&&(c.instanceConfig=t.extend(c.instanceConfig,u.config))}else if("skip"===u)return void s()}var d=c.instanceConfig.complete;c.instanceConfig.complete=function(e){x(d)&&d(e,c.file,c.inputElem),s()},a.parse(c.file,c.instanceConfig)}}function s(){o.splice(0,1),i()}}),o&&(n.onmessage=function(e){e=e.data,void 0===a.WORKER_ID&&e&&(a.WORKER_ID=e.workerId),"string"==typeof e.input?n.postMessage({workerId:a.WORKER_ID,results:a.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=a.parse(e.input,e.config))&&n.postMessage({workerId:a.WORKER_ID,results:e,finished:!0})}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(h.prototype=Object.create(l.prototype)).constructor=h,a},void 0===(o="function"===typeof n?n.apply(t,r):n)||(e.exports=o)},5791:(e,t,n)=>{var r=n(6924),o=n(2761);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},5797:(e,t,n)=>{var r=n(4816);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,C||(C=!0,_());else{var t=r(u);null!==t&&I(k,t.startTime-e)}}var _,C=!1,S=-1,E=5,T=-1;function A(){return!!v||!(t.unstable_now()-T<E)}function D(){if(v=!1,C){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(S),S=-1),f=!0;var i=p;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&A());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,x(e),n=!0;break t}h===r(c)&&o(c),x(e)}else o(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&I(k,l.startTime-e),n=!1}}break e}finally{h=null,p=i,f=!1}n=void 0}}finally{n?_():C=!1}}}if("function"===typeof w)_=function(){w(D)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,O=N.port2;N.port1.onmessage=D,_=function(){O.postMessage(null)}}else _=function(){y(D,0)};function I(e,n){S=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(S),S=-1):g=!0,I(k,i-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,C||(C=!0,_()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++o];if(!1===n(i[l],l,i))break}return t}}},5921:(e,t,n)=>{var r=n(449),o=n(7574),i=n(6832),s=i&&i.isSet,a=s?o(s):r;e.exports=a},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6326:(e,t,n)=>{var r=n(8895),o=n(5990),i=n(9621),s=n(7828),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:s;e.exports=a},6399:(e,t,n)=>{var r=n(5538),o=n(3668),i=n(9987),s=n(5752),a=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,v){var y=l(e),b=l(t),w=y?h:a(e),x=b?h:a(t),k=(w=w==d?p:w)==p,_=(x=x==d?p:x)==p,C=w==x;if(C&&c(e)){if(!c(t))return!1;y=!0,k=!1}if(C&&!k)return v||(v=new r),y||u(e)?o(e,t,n,m,g,v):i(e,t,w,n,m,g,v);if(!(1&n)){var S=k&&f.call(e,"__wrapped__"),E=_&&f.call(t,"__wrapped__");if(S||E){var T=S?e.value():e,A=E?t.value():t;return v||(v=new r),g(T,A,n,m,v)}}return!!C&&(v||(v=new r),s(e,t,n,m,g,v))}},6434:(e,t,n)=>{var r=n(7132);e.exports=function(e){return r(e,5)}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,s=t?i:-1,a=Object(n);(t?s--:++s<i)&&!1!==o(a[s],s,a););return n}}},6532:(e,t,n)=>{var r=n(5538),o=n(6989);e.exports=function(e,t,n,i){var s=n.length,a=s,l=!i;if(null==e)return!a;for(e=Object(e);s--;){var c=n[s];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){var u=(c=n[s])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var p=new r;if(i)var f=i(d,h,u,e,t,p);if(!(void 0===f?o(h,d,3,i,p):f))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},6571:(e,t,n)=>{var r=n(1629),o=n(6173);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6614:(e,t,n)=>{var r=n(8420),o=n(1775);e.exports=function(e,t,n,i){var s=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var c=t[a],u=i?i(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),s?o(n,c,u):r(n,c,u)}return n}},6672:(e,t,n)=>{"use strict";var r=n(5043);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6788:(e,t,n)=>{var r=n(7160),o=n(5204),i=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},6795:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChildrenActiveItems=r,t.getActiveItems=function(e,t){var n=r(e);!t&&n.length>0&&(n=n.slice(0,1));return n},t.isSame=function(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})},t.arrayify=void 0;var n=function(e){return[].concat(e)};function r(e){var t=[];return n(e).filter(function(e){return e}).forEach(function(e,n){!e.props.disabled&&e.props.expanded&&t.push(n)}),t}t.arrayify=n},6806:(e,t,n)=>{var r=n(1516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,s=i&&i.exports===o&&r.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=a},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},6913:(e,t,n)=>{var r=n(9812),o=n(4552),i=n(6095),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):i(e)}},6924:(e,t,n)=>{var r=n(7685),o=n(5204),i=n(5387),s=n(2070),a=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",f="[object DataView]",m=c(r),g=c(o),v=c(i),y=c(s),b=c(a),w=l;(r&&w(new r(new ArrayBuffer(1)))!=f||o&&w(new o)!=u||i&&w(i.resolve())!=d||s&&w(new s)!=h||a&&w(new a)!=p)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return f;case g:return u;case v:return d;case y:return h;case b:return p}return t}),e.exports=w},6954:(e,t,n)=>{var r=n(1629),o=n(7857),i=n(6686),s=n(6996),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?h:a).test(s(e))}},6989:(e,t,n)=>{var r=n(6399),o=n(2761);e.exports=function e(t,n,i,s,a){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!==t&&n!==n:r(t,n,i,s,e,a))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7004:(e,t,n)=>{"use strict";var r=n(8853),o=n(5043),i=n(7950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var p=Object.assign,f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var D=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case _:return"Suspense";case C:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return I(e(t))}catch(n){}}return null}var P=Array.isArray,j=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},F=[],L=-1;function z(e){return{current:e}}function B(e){0>L||(e.current=F[L],F[L]=null,L--)}function U(e,t){L++,F[L]=e.current,e.current=t}var V,H,q=z(null),W=z(null),Y=z(null),K=z(null);function G(e,t){switch(U(Y,t),U(W,e),U(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(q),U(q,e)}function $(){B(q),B(W),B(Y)}function Q(e){null!==e.memoizedState&&U(K,e);var t=q.current,n=yd(t,e.type);t!==n&&(U(W,e),U(q,n))}function J(e){W.current===e&&(B(q),B(W)),K.current===e&&(B(K),uh._currentValue=R)}function X(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+V+e+H}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],a=i[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,se=r.unstable_shouldYield,ae=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,pe=r.unstable_LowPriority,fe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xe(e)/ke|0)|0},xe=Math.log,ke=Math.LN2;var _e=256,Ce=262144,Se=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~i)?o=Ee(r):0!==(s&=a)?o=Ee(s):n||0!==(n=a&~e)&&(o=Ee(n)):0!==(a=r&~i)?o=Ee(a):0!==s?o=Ee(s):n||0!==(n=r&~e)&&(o=Ee(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:o}function Ae(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function De(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ne(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function Oe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function je(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Me(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Re(n))&(e.suspendedLanes|t))?0:n}function Re(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Le(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:Eh(e.type)}function ze(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}var Be=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Be,Ve="__reactProps$"+Be,He="__reactContainer$"+Be,qe="__reactEvents$"+Be,We="__reactListeners$"+Be,Ye="__reactHandles$"+Be,Ke="__reactResources$"+Be,Ge="__reactMarker$"+Be;function $e(e){delete e[Ue],delete e[Ve],delete e[qe],delete e[We],delete e[Ye]}function Qe(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Rd(e);null!==e;){if(n=e[Ue])return n;e=Rd(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[Ue]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ze(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ge]=!0}var tt=new Set,nt={};function rt(e,t){ot(e,t),ot(e+"Capture",t)}function ot(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},at={};function lt(e,t,n){if(o=t,re.call(at,o)||!re.call(st,o)&&(it.test(o)?at[o]=!0:(st[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,o,i,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?wt(e,s,dt(t)):null!=n?wt(e,s,dt(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+dt(a):e.removeAttribute("name")}function bt(e,t,n,r,o,i,s,a){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return void pt(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),pt(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function _t(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(P(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),pt(e)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Et(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&Et(e,i,t[i])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ot(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function It(){}var Pt=null;function jt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Mt=null,Rt=null;function Ft(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[Ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Ve]||null;if(!o)throw Error(s(90));yt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Lt=!1;function zt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Mt||null!==Rt)&&(Zc(),Mt&&(t=Mt,e=Rt,Rt=Mt=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ve]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ut=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Vt=!1;if(Ut)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Jh){Vt=!1}var qt=null,Wt=null,Yt=null;function Kt(){if(Yt)return Yt;var e,t,n=Wt,r=n.length,o="value"in qt?qt.value:qt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Yt=o.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Qt(){return!1}function Jt(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?$t:Qt,this.isPropagationStopped=Qt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Jt(tn),rn=p({},tn,{view:0,detail:0}),on=Jt(rn),sn=p({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),an=Jt(sn),ln=Jt(p({},sn,{dataTransfer:0})),cn=Jt(p({},rn,{relatedTarget:0})),un=Jt(p({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Jt(p({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Jt(p({},tn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function vn(){return gn}var yn=Jt(p({},rn,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Jt(p({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Jt(p({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),xn=Jt(p({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=Jt(p({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=Jt(p({},tn,{newState:0,oldState:0})),Cn=[9,13,27,32],Sn=Ut&&"CompositionEvent"in window,En=null;Ut&&"documentMode"in document&&(En=document.documentMode);var Tn=Ut&&"TextEvent"in window&&!En,An=Ut&&(!Sn||En&&8<En&&11>=En),Dn=String.fromCharCode(32),Nn=!1;function On(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Rn(e,t,n,r){Mt?Rt?Rt.push(r):Rt=[r]:Mt=r,0<(t=rd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,Ln=null;function zn(e){$u(e,0)}function Bn(e){if(ft(Xe(e)))return e}function Un(e,t){if("change"===e)return t}var Vn=!1;if(Ut){var Hn;if(Ut){var qn="oninput"in document;if(!qn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),qn="function"===typeof Wn.oninput}Hn=qn}else Hn=!1;Vn=Hn&&(!document.documentMode||9<document.documentMode)}function Yn(){Fn&&(Fn.detachEvent("onpropertychange",Kn),Ln=Fn=null)}function Kn(e){if("value"===e.propertyName&&Bn(Ln)){var t=[];Rn(t,Ln,e,jt(e)),zt(zn,t)}}function Gn(e,t,n){"focusin"===e?(Yn(),Ln=n,(Fn=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&Yn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Ln)}function Qn(e,t){if("click"===e)return Bn(t)}function Jn(e,t){if("input"===e||"change"===e)return Bn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!re.call(t,o)||!Xn(e[o],t[o]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=Ut&&"documentMode"in document&&11>=document.documentMode,sr=null,ar=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==sr||sr!==mt(r)||("selectionStart"in(r=sr)&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=rd(ar,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},pr={},fr={};function mr(e){if(pr[e])return pr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return pr[e]=n[t];return e}Ut&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=mr("animationend"),vr=mr("animationiteration"),yr=mr("animationstart"),br=mr("transitionrun"),wr=mr("transitionstart"),xr=mr("transitioncancel"),kr=mr("transitionend"),_r=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){_r.set(e,t),rt(t,[e])}Cr.push("scrollEnd");var Er="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],Ar=0,Dr=0;function Nr(){for(var e=Ar,t=Dr=Ar=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var o=Tr[t];Tr[t++]=null;var i=Tr[t];if(Tr[t++]=null,null!==r&&null!==o){var s=r.pending;null===s?o.next=o:(o.next=s.next,s.next=o),r.pending=o}0!==i&&jr(n,o,i)}}function Or(e,t,n,r){Tr[Ar++]=e,Tr[Ar++]=t,Tr[Ar++]=n,Tr[Ar++]=r,Dr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return Or(e,t,n,r),Mr(e)}function Pr(e,t){return Or(e,null,null,t),Mr(e)}function jr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-we(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Mr(e){if(50<qc)throw qc=0,Wc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Fr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Br(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,o,i){var a=0;if(r=e,"function"===typeof e)zr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Lr(31,n,t,o)).elementType=T,e.lanes=i,e;case v:return Hr(n.children,o,i,t);case y:a=8,o|=24;break;case b:return(e=Lr(12,n,t,2|o)).elementType=b,e.lanes=i,e;case _:return(e=Lr(13,n,t,o)).elementType=_,e.lanes=i,e;case C:return(e=Lr(19,n,t,o)).elementType=C,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:a=10;break e;case w:a=9;break e;case k:a=11;break e;case S:a=14;break e;case E:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(a,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Hr(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function Wr(e){var t=Lr(18,null,null,0);return t.stateNode=e,t}function Yr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kr=new WeakMap;function Gr(e,t){if("object"===typeof e&&null!==e){var n=Kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Kr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var $r=[],Qr=0,Jr=null,Xr=0,Zr=[],eo=0,to=null,no=1,ro="";function oo(e,t){$r[Qr++]=Xr,$r[Qr++]=Jr,Jr=e,Xr=t}function io(e,t,n){Zr[eo++]=no,Zr[eo++]=ro,Zr[eo++]=to,to=e;var r=no;e=ro;var o=32-we(r)-1;r&=~(1<<o),n+=1;var i=32-we(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,no=1<<32-we(t)+o|n<<o|r,ro=i+e}else no=1<<i|n<<o|r,ro=e}function so(e){null!==e.return&&(oo(e,1),io(e,1,0))}function ao(e){for(;e===Jr;)Jr=$r[--Qr],$r[Qr]=null,Xr=$r[--Qr],$r[Qr]=null;for(;e===to;)to=Zr[--eo],Zr[eo]=null,ro=Zr[--eo],Zr[eo]=null,no=Zr[--eo],Zr[eo]=null}function lo(e,t){Zr[eo++]=no,Zr[eo++]=ro,Zr[eo++]=to,no=t.id,ro=t.overflow,to=e}var co=null,uo=null,ho=!1,po=null,fo=!1,mo=Error(s(519));function go(e){throw ko(Gr(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mo}function vo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ue]=e,t[Ve]=r,n){case"dialog":Qu("cancel",t),Qu("close",t);break;case"iframe":case"object":case"embed":Qu("load",t);break;case"video":case"audio":for(n=0;n<Ku.length;n++)Qu(Ku[n],t);break;case"source":Qu("error",t);break;case"img":case"image":case"link":Qu("error",t),Qu("load",t);break;case"details":Qu("toggle",t);break;case"input":Qu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qu("invalid",t);break;case"textarea":Qu("invalid",t),_t(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||cd(t.textContent,n)?(null!=r.popover&&(Qu("beforetoggle",t),Qu("toggle",t)),null!=r.onScroll&&Qu("scroll",t),null!=r.onScrollEnd&&Qu("scrollend",t),null!=r.onClick&&(t.onclick=It),t=!0):t=!1,t||go(e,!0)}function yo(e){for(co=e.return;co;)switch(co.tag){case 5:case 31:case 13:return void(fo=!1);case 27:case 3:return void(fo=!0);default:co=co.return}}function bo(e){if(e!==co)return!1;if(!ho)return yo(e),ho=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&uo&&go(e),yo(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));uo=Md(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));uo=Md(e)}else 27===n?(n=uo,Ed(e.type)?(e=jd,jd=null,uo=e):uo=n):uo=co?Pd(e.stateNode.nextSibling):null;return!0}function wo(){uo=co=null,ho=!1}function xo(){var e=po;return null!==e&&(null===Nc?Nc=e:Nc.push.apply(Nc,e),po=null),e}function ko(e){null===po?po=[e]:po.push(e)}var _o=z(null),Co=null,So=null;function Eo(e,t,n){U(_o,t._currentValue),t._currentValue=n}function To(e){e._currentValue=_o.current,B(_o)}function Ao(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Do(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var a=o.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Ao(i.return,n,e),r||(a=null);break e}i=l.next}}else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(i=a.alternate)&&(i.lanes|=n),Ao(a,n,e),a=null}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}}function No(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(0!==(524288&o.flags))i=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var a=o.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=o.type;Xn(o.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(o===K.current){if(null===(a=o.alternate))throw Error(s(387));a.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}o=o.return}null!==e&&Do(t,e,n,r),t.flags|=262144}function Oo(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Io(e){Co=e,So=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Po(e){return Mo(Co,e)}function jo(e,t){return null===Co&&Io(e),Mo(e,t)}function Mo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===So){if(null===e)throw Error(s(308));So=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else So=So.next=t;return n}var Ro="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Fo=r.unstable_scheduleCallback,Lo=r.unstable_NormalPriority,zo={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bo(){return{controller:new Ro,data:new Map,refCount:0}}function Uo(e){e.refCount--,0===e.refCount&&Fo(Lo,function(){e.controller.abort()})}var Vo=null,Ho=0,qo=0,Wo=null;function Yo(){if(0===--Ho&&null!==Vo){null!==Wo&&(Wo.status="fulfilled");var e=Vo;Vo=null,qo=0,Wo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ko=j.S;j.S=function(e,t){Pc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Vo){var n=Vo=[];Ho=0,qo=Vu(),Wo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ho++,t.then(Yo,Yo)}(0,t),null!==Ko&&Ko(e,t)};var Go=z(null);function $o(){var e=Go.current;return null!==e?e:fc.pooledCache}function Qo(e,t){U(Go,null===t?Go.current:t.pool)}function Jo(){var e=$o();return null===e?null:{parent:zo._currentValue,pool:e}}var Xo=Error(s(460)),Zo=Error(s(474)),ei=Error(s(542)),ti={then:function(){}};function ni(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ri(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(It,It),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ai(e=t.reason),e;default:if("string"===typeof t.status)t.then(It,It);else{if(null!==(e=fc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ai(e=t.reason),e}throw ii=t,Xo}}function oi(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ii=t,Xo;throw t}}var ii=null;function si(){if(null===ii)throw Error(s(459));var e=ii;return ii=null,e}function ai(e){if(e===Xo||e===ei)throw Error(s(483))}var li=null,ci=0;function ui(e){var t=ci;return ci+=1,null===li&&(li=[]),ri(li,e,t)}function di(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function hi(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Br(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===E&&oi(i)===t.type)?(di(t=o(t,n.props),n),t.return=e,t):(di(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return di(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Yr(t,e.mode,n)).return=e,t;case E:return h(e,t=oi(t),n)}if(P(t)||N(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,ui(t),n);if(t.$$typeof===x)return h(e,jo(e,t),n);hi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===o?c(e,t,n,r):null;case g:return n.key===o?u(e,t,n,r):null;case E:return p(e,t,n=oi(n),r)}if(P(n)||N(n))return null!==o?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,ui(n),r);if(n.$$typeof===x)return p(e,t,jo(e,n),r);hi(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case E:return f(e,t,n,r=oi(r),o)}if(P(r)||N(r))return d(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return f(e,t,n,ui(r),o);if(r.$$typeof===x)return f(e,t,n,jo(t,r),o);hi(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===v){if(7===c.tag){n(l,c.sibling),(d=o(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&oi(b)===c.type){n(l,c.sibling),di(d=o(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=Hr(u.props.children,l.mode,d,u.key)).return=l,l=d):(di(d=Vr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=o(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Yr(u,l.mode,d)).return=l,l=d}return a(l);case E:return y(l,c,u=oi(u),d)}if(P(u))return function(o,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(o,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),s=i(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(o,d),ho&&oo(o,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(o,a[m],l))&&(s=i(d,s,m),null===u?c=d:u.sibling=d,u=d);return ho&&oo(o,m),c}for(d=r(d);m<a.length;m++)null!==(g=f(d,o,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=i(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),ho&&oo(o,m),c}(l,c,u,d);if(N(u)){if("function"!==typeof(b=N(u)))throw Error(s(150));return function(o,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),a=i(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),ho&&oo(o,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(a=i(y,a,g),null===d?u=y:d.sibling=y,d=y);return ho&&oo(o,g),u}for(m=r(m);!y.done;g++,y=l.next())null!==(y=f(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=i(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(o,e)}),ho&&oo(o,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,ui(u),d);if(u.$$typeof===x)return y(l,c,jo(l,u),d);hi(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=o(c,u)).return=l,l=d):(n(l,c),(d=qr(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,r){try{ci=0;var o=y(e,t,n,r);return li=null,o}catch(s){if(s===Xo||s===ei)throw s;var i=Lr(29,s,null,e.mode);return i.lanes=r,i.return=e,i}}}var fi=pi(!0),mi=pi(!1),gi=!1;function vi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Mr(e),jr(e,null,n),t}return Or(e,r,t,n),Mr(e)}function xi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,je(e,n)}}function ki(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var _i=!1;function Ci(){if(_i){if(null!==Wo)throw Wo}}function Si(e,t,n,r){_i=!1;var o=e.updateQueue;gi=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(s=0,u=c=l=null,a=i;;){var h=-536870913&a.lane,f=h!==a.lane;if(f?(gc&h)===h:(r&h)===h){0!==h&&h===qo&&(_i=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,d,h):m)||void 0===h)break e;d=p({},d,h);break e;case 2:gi=!0}}null!==(h=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=o.callbacks)?o.callbacks=[h]:f.push(h))}else f={lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(f=a).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===i&&(o.shared.lanes=0),Cc|=s,e.lanes=s,e.memoizedState=d}}function Ei(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Ti(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ei(n[e],t)}var Ai=z(null),Di=z(0);function Ni(e,t){U(Di,e=kc),U(Ai,t),kc=e|t.baseLanes}function Oi(){U(Di,kc),U(Ai,Ai.current)}function Ii(){kc=Di.current,B(Ai),B(Di)}var Pi=z(null),ji=null;function Mi(e){var t=e.alternate;U(Bi,1&Bi.current),U(Pi,e),null===ji&&(null===t||null!==Ai.current||null!==t.memoizedState)&&(ji=e)}function Ri(e){U(Bi,Bi.current),U(Pi,e),null===ji&&(ji=e)}function Fi(e){22===e.tag?(U(Bi,Bi.current),U(Pi,e),null===ji&&(ji=e)):Li()}function Li(){U(Bi,Bi.current),U(Pi,Pi.current)}function zi(e){B(Pi),ji===e&&(ji=null),B(Bi)}var Bi=z(0);function Ui(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Od(n)||Id(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vi=0,Hi=null,qi=null,Wi=null,Yi=!1,Ki=!1,Gi=!1,$i=0,Qi=0,Ji=null,Xi=0;function Zi(){throw Error(s(321))}function es(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function ts(e,t,n,r,o,i){return Vi=i,Hi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=null===e||null===e.memoizedState?ga:va,Gi=!1,i=n(r,o),Gi=!1,Ki&&(i=rs(t,n,r,o)),ns(e),i}function ns(e){j.H=ma;var t=null!==qi&&null!==qi.next;if(Vi=0,Wi=qi=Hi=null,Yi=!1,Qi=0,Ji=null,t)throw Error(s(300));null===e||Pa||null!==(e=e.dependencies)&&Oo(e)&&(Pa=!0)}function rs(e,t,n,r){Hi=e;var o=0;do{if(Ki&&(Ji=null),Qi=0,Ki=!1,25<=o)throw Error(s(301));if(o+=1,Wi=qi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}j.H=ya,i=t(n,r)}while(Ki);return i}function os(){var e=j.H,t=e.useState()[0];return t="function"===typeof t.then?us(t):t,e=e.useState()[0],(null!==qi?qi.memoizedState:null)!==e&&(Hi.flags|=1024),t}function is(){var e=0!==$i;return $i=0,e}function ss(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function as(e){if(Yi){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Yi=!1}Vi=0,Wi=qi=Hi=null,Ki=!1,Qi=$i=0,Ji=null}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wi?Hi.memoizedState=Wi=e:Wi=Wi.next=e,Wi}function cs(){if(null===qi){var e=Hi.alternate;e=null!==e?e.memoizedState:null}else e=qi.next;var t=null===Wi?Hi.memoizedState:Wi.next;if(null!==t)Wi=t,qi=e;else{if(null===e){if(null===Hi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(qi=e).memoizedState,baseState:qi.baseState,baseQueue:qi.baseQueue,queue:qi.queue,next:null},null===Wi?Hi.memoizedState=Wi=e:Wi=Wi.next=e}return Wi}function us(e){var t=Qi;return Qi+=1,null===Ji&&(Ji=[]),e=ri(Ji,e,t),t=Hi,null===(null===Wi?t.memoizedState:Wi.next)&&(t=t.alternate,j.H=null===t||null===t.memoizedState?ga:va),e}function ds(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return us(e);if(e.$$typeof===x)return Po(e)}throw Error(s(438,String(e)))}function hs(e){var t=null,n=Hi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Hi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Hi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function ps(e,t){return"function"===typeof t?t(e):t}function fs(e){return ms(cs(),qi,e)}function ms(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var a=o.next;o.next=i.next,i.next=a}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var l=a=null,c=null,u=t=o.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(gc&h)===h:(Vi&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===qo&&(d=!0);else{if((Vi&p)===p){u=u.next,p===qo&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=i):c=c.next=h,Hi.lanes|=p,Cc|=p}h=u.action,Gi&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else p={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,a=i):c=c.next=p,Hi.lanes|=h,Cc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=i:c.next=l,!Xn(i,e.memoizedState)&&(Pa=!0,d&&null!==(n=Wo)))throw n;e.memoizedState=i,e.baseState=a,e.baseQueue=c,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gs(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{i=e(i,a.action),a=a.next}while(a!==o);Xn(i,t.memoizedState)||(Pa=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function vs(e,t,n){var r=Hi,o=cs(),i=ho;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Xn((qi||o).memoizedState,n);if(a&&(o.memoizedState=n,Pa=!0),o=o.queue,Vs(ws.bind(null,r,o,e),[e]),o.getSnapshot!==t||a||null!==Wi&&1&Wi.memoizedState.tag){if(r.flags|=2048,Fs(9,{destroy:void 0},bs.bind(null,r,o,n,t),null),null===fc)throw Error(s(349));i||0!==(127&Vi)||ys(r,t,n)}return n}function ys(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Hi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Hi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bs(e,t,n,r){t.value=n,t.getSnapshot=r,xs(t)&&ks(e)}function ws(e,t,n){return n(function(){xs(t)&&ks(e)})}function xs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function ks(e){var t=Pr(e,2);null!==t&&Gc(t,e,2)}function _s(e){var t=ls();if("function"===typeof e){var n=e;if(e=n(),Gi){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e},t}function Cs(e,t,n,r){return e.baseState=n,ms(e,qi,"function"===typeof r?r:ps)}function Ss(e,t,n,r,o){if(ha(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==j.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,Es(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Es(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=j.T,s={};j.T=s;try{var a=n(o,r),l=j.S;null!==l&&l(s,a),Ts(e,t,a)}catch(c){Ds(e,t,c)}finally{null!==i&&null!==s.types&&(i.types=s.types),j.T=i}}else try{Ts(e,t,i=n(o,r))}catch(u){Ds(e,t,u)}}function Ts(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){As(e,t,n)},function(n){return Ds(e,t,n)}):As(e,t,n)}function As(e,t,n){t.status="fulfilled",t.value=n,Ns(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Es(e,n)))}function Ds(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ns(t),t=t.next}while(t!==r)}e.action=null}function Ns(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Os(e,t){return t}function Is(e,t){if(ho){var n=fc.formState;if(null!==n){e:{var r=Hi;if(ho){if(uo){t:{for(var o=uo,i=fo;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=Pd(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){uo=Pd(o.nextSibling),r="F!"===o.data;break e}}go(r)}r=!1}r&&(t=n[0])}}return(n=ls()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:t},n.queue=r,n=ca.bind(null,Hi,r),r.dispatch=n,r=_s(!1),i=da.bind(null,Hi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=ls()).queue=o,n=Ss.bind(null,Hi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ps(e){return js(cs(),qi,e)}function js(e,t,n){if(t=ms(e,t,Os)[0],e=fs(ps)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=us(t)}catch(s){if(s===Xo)throw ei;throw s}else r=t;var o=(t=cs()).queue,i=o.dispatch;return n!==t.memoizedState&&(Hi.flags|=2048,Fs(9,{destroy:void 0},Ms.bind(null,o,n),null)),[r,i,e]}function Ms(e,t){e.action=t}function Rs(e){var t=cs(),n=qi;if(null!==n)return js(t,n,e);cs(),t=t.memoizedState;var r=(n=cs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Hi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Hi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ls(){return cs().memoizedState}function zs(e,t,n,r){var o=ls();Hi.flags|=e,o.memoizedState=Fs(1|t,{destroy:void 0},n,void 0===r?null:r)}function Bs(e,t,n,r){var o=cs();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==qi&&null!==r&&es(r,qi.memoizedState.deps)?o.memoizedState=Fs(t,i,n,r):(Hi.flags|=e,o.memoizedState=Fs(1|t,i,n,r))}function Us(e,t){zs(8390656,8,e,t)}function Vs(e,t){Bs(2048,8,e,t)}function Hs(e){var t=cs().memoizedState;return function(e){Hi.flags|=4;var t=Hi.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Hi.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function qs(e,t){return Bs(4,2,e,t)}function Ws(e,t){return Bs(4,4,e,t)}function Ys(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ks(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4,4,Ys.bind(null,t,e),n)}function Gs(){}function $s(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&es(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qs(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&es(t,r[1]))return r[0];if(r=e(),Gi){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Js(e,t,n){return void 0===n||0!==(1073741824&Vi)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Kc(),Hi.lanes|=e,Cc|=e,n)}function Xs(e,t,n,r){return Xn(n,t)?n:null!==Ai.current?(e=Js(e,n,r),Xn(e,t)||(Pa=!0),e):0===(42&Vi)||0!==(1073741824&Vi)&&0===(261930&gc)?(Pa=!0,e.memoizedState=n):(e=Kc(),Hi.lanes|=e,Cc|=e,t)}function Zs(e,t,n,r,o){var i=M.p;M.p=0!==i&&8>i?i:8;var s=j.T,a={};j.T=a,da(e,!1,t,n);try{var l=o(),c=j.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)ua(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Yc());else ua(e,t,r,Yc())}catch(u){ua(e,t,{then:function(){},status:"rejected",reason:u},Yc())}finally{M.p=i,null!==s&&null!==a.types&&(s.types=a.types),j.T=s}}function ea(){}function ta(e,t,n,r){if(5!==e.tag)throw Error(s(476));var o=na(e).queue;Zs(e,o,t,R,null===n?ea:function(){return ra(e),n(r)})}function na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ra(e){var t=na(e);null===t.next&&(t=e.alternate.memoizedState),ua(e,t.next.queue,{},Yc())}function oa(){return Po(uh)}function ia(){return cs().memoizedState}function sa(){return cs().memoizedState}function aa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Yc(),r=wi(t,e=bi(n),n);return null!==r&&(Gc(r,t,n),xi(r,t,n)),t={cache:Bo()},void(e.payload=t)}t=t.return}}function la(e,t,n){var r=Yc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ha(e)?pa(t,n):null!==(n=Ir(e,t,n,r))&&(Gc(n,e,r),fa(n,t,r))}function ca(e,t,n){ua(e,t,n,Yc())}function ua(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ha(e))pa(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Xn(a,s))return Or(e,t,o,0),null===fc&&Nr(),!1}catch(l){}if(null!==(n=Ir(e,t,o,r)))return Gc(n,e,r),fa(n,t,r),!0}return!1}function da(e,t,n,r){if(r={lane:2,revertLane:Vu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ha(e)){if(t)throw Error(s(479))}else null!==(t=Ir(e,n,r,2))&&Gc(t,e,2)}function ha(e){var t=e.alternate;return e===Hi||null!==t&&t===Hi}function pa(e,t){Ki=Yi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,je(e,n)}}var ma={readContext:Po,use:ds,useCallback:Zi,useContext:Zi,useEffect:Zi,useImperativeHandle:Zi,useLayoutEffect:Zi,useInsertionEffect:Zi,useMemo:Zi,useReducer:Zi,useRef:Zi,useState:Zi,useDebugValue:Zi,useDeferredValue:Zi,useTransition:Zi,useSyncExternalStore:Zi,useId:Zi,useHostTransitionStatus:Zi,useFormState:Zi,useActionState:Zi,useOptimistic:Zi,useMemoCache:Zi,useCacheRefresh:Zi};ma.useEffectEvent=Zi;var ga={readContext:Po,use:ds,useCallback:function(e,t){return ls().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:Us,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,zs(4194308,4,Ys.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){zs(4,2,e,t)},useMemo:function(e,t){var n=ls();t=void 0===t?null:t;var r=e();if(Gi){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ls();if(void 0!==n){var o=n(t);if(Gi){be(!0);try{n(t)}finally{be(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=la.bind(null,Hi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ls().memoizedState=e},useState:function(e){var t=(e=_s(e)).queue,n=ca.bind(null,Hi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Gs,useDeferredValue:function(e,t){return Js(ls(),e,t)},useTransition:function(){var e=_s(!1);return e=Zs.bind(null,Hi,e.queue,!0,!1),ls().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Hi,o=ls();if(ho){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===fc)throw Error(s(349));0!==(127&gc)||ys(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Us(ws.bind(null,r,i,e),[e]),r.flags|=2048,Fs(9,{destroy:void 0},bs.bind(null,r,i,n,t),null),n},useId:function(){var e=ls(),t=fc.identifierPrefix;if(ho){var n=ro;t="_"+t+"R_"+(n=(no&~(1<<32-we(no)-1)).toString(32)+n),0<(n=$i++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Xi++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:oa,useFormState:Is,useActionState:Is,useOptimistic:function(e){var t=ls();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=da.bind(null,Hi,!0,n),n.dispatch=t,[e,t]},useMemoCache:hs,useCacheRefresh:function(){return ls().memoizedState=aa.bind(null,Hi)},useEffectEvent:function(e){var t=ls(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(s(440));return n.impl.apply(void 0,arguments)}}},va={readContext:Po,use:ds,useCallback:$s,useContext:Po,useEffect:Vs,useImperativeHandle:Ks,useInsertionEffect:qs,useLayoutEffect:Ws,useMemo:Qs,useReducer:fs,useRef:Ls,useState:function(){return fs(ps)},useDebugValue:Gs,useDeferredValue:function(e,t){return Xs(cs(),qi.memoizedState,e,t)},useTransition:function(){var e=fs(ps)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:vs,useId:ia,useHostTransitionStatus:oa,useFormState:Ps,useActionState:Ps,useOptimistic:function(e,t){return Cs(cs(),0,e,t)},useMemoCache:hs,useCacheRefresh:sa};va.useEffectEvent=Hs;var ya={readContext:Po,use:ds,useCallback:$s,useContext:Po,useEffect:Vs,useImperativeHandle:Ks,useInsertionEffect:qs,useLayoutEffect:Ws,useMemo:Qs,useReducer:gs,useRef:Ls,useState:function(){return gs(ps)},useDebugValue:Gs,useDeferredValue:function(e,t){var n=cs();return null===qi?Js(n,e,t):Xs(n,qi.memoizedState,e,t)},useTransition:function(){var e=gs(ps)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:vs,useId:ia,useHostTransitionStatus:oa,useFormState:Rs,useActionState:Rs,useOptimistic:function(e,t){var n=cs();return null!==qi?Cs(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hs,useCacheRefresh:sa};function ba(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ya.useEffectEvent=Hs;var wa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Yc(),o=bi(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=wi(e,o,r))&&(Gc(t,e,r),xi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Yc(),o=bi(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=wi(e,o,r))&&(Gc(t,e,r),xi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yc(),r=bi(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=wi(e,r,n))&&(Gc(t,e,n),xi(t,e,n))}};function xa(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(o,i))}function ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function _a(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=p({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}function Ca(e){Er(e)}function Sa(e){console.error(e)}function Ea(e){Er(e)}function Ta(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Aa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Da(e,t,n){return(n=bi(n)).tag=3,n.payload={element:null},n.callback=function(){Ta(e,t)},n}function Na(e){return(e=bi(e)).tag=3,e}function Oa(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){Aa(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Aa(t,n,r),"function"!==typeof o&&(null===Rc?Rc=new Set([this]):Rc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ia=Error(s(461)),Pa=!1;function ja(e,t,n,r){t.child=null===e?mi(t,null,n,r):fi(t,e.child,n,r)}function Ma(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var s={};for(var a in r)"ref"!==a&&(s[a]=r[a])}else s=r;return Io(t),r=ts(e,t,n,s,i,o),a=is(),null===e||Pa?(ho&&a&&so(t),t.flags|=1,ja(e,t,r,o),t.child):(ss(e,t,o),ol(e,t,o))}function Ra(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||zr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Fa(e,t,i,r,o))}if(i=e.child,!il(e,o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(s,r)&&e.ref===t.ref)return ol(e,t,o)}return t.flags|=1,(e=Br(i,r)).ref=t.ref,e.return=t,t.child=e}function Fa(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Zn(i,r)&&e.ref===t.ref){if(Pa=!1,t.pendingProps=r=i,!il(e,o))return t.lanes=e.lanes,ol(e,t,o);0!==(131072&e.flags)&&(Pa=!0)}}return qa(e,t,n,r,o)}function La(e,t,n,r){var o=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~i}else r=0,t.child=null;return Ba(e,t,i,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Ba(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qo(0,null!==i?i.cachePool:null),null!==i?Ni(t,i):Oi(),Fi(t)}else null!==i?(Qo(0,i.cachePool),Ni(t,i),Li(),t.memoizedState=null):(null!==e&&Qo(0,null),Oi(),Li());return ja(e,t,o,n),t.child}function za(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ba(e,t,n,r,o){var i=$o();return i=null===i?null:{parent:zo._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Qo(0,null),Oi(),Fi(t),null!==e&&No(e,t,r,!0),t.childLanes=o,null}function Ua(e,t){return(t=Za({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Va(e,t,n){return fi(t,e.child,null,n),(e=Ua(t,t.pendingProps)).flags|=2,zi(t),t.memoizedState=null,e}function Ha(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function qa(e,t,n,r,o){return Io(t),n=ts(e,t,n,r,void 0,o),r=is(),null===e||Pa?(ho&&r&&so(t),t.flags|=1,ja(e,t,n,o),t.child):(ss(e,t,o),ol(e,t,o))}function Wa(e,t,n,r,o,i){return Io(t),t.updateQueue=null,n=rs(t,r,n,o),ns(e),r=is(),null===e||Pa?(ho&&r&&so(t),t.flags|=1,ja(e,t,n,i),t.child):(ss(e,t,i),ol(e,t,i))}function Ya(e,t,n,r,o){if(Io(t),null===t.stateNode){var i=Rr,s=n.contextType;"object"===typeof s&&null!==s&&(i=Po(s)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=wa,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},vi(t),s=n.contextType,i.context="object"===typeof s&&null!==s?Po(s):Rr,i.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ba(t,n,s,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(s=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&wa.enqueueReplaceState(i,i.state,null),Si(t,r,i,o),Ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var a=t.memoizedProps,l=_a(n,a);i.props=l;var c=i.context,u=n.contextType;s=Rr,"object"===typeof u&&null!==u&&(s=Po(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a||c!==s)&&ka(t,i,r,s),gi=!1;var h=t.memoizedState;i.state=h,Si(t,r,i,o),Ci(),c=t.memoizedState,a||h!==c||gi?("function"===typeof d&&(ba(t,n,d,r),c=t.memoizedState),(l=gi||xa(t,n,l,r,h,c,s))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=s,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,yi(e,t),u=_a(n,s=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Rr,"object"===typeof c&&null!==c&&(l=Po(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||h!==l)&&ka(t,i,r,l),gi=!1,h=t.memoizedState,i.state=h,Si(t,r,i,o),Ci();var p=t.memoizedState;s!==d||h!==p||gi||null!==e&&null!==e.dependencies&&Oo(e.dependencies)?("function"===typeof a&&(ba(t,n,a,r),p=t.memoizedState),(u=gi||xa(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&Oo(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Ha(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=fi(t,e.child,null,o),t.child=fi(t,null,n,o)):ja(e,t,n,o),t.memoizedState=i.state,e=t.child):e=ol(e,t,o),e}function Ka(e,t,n,r){return wo(),t.flags|=256,ja(e,t,n,r),t.child}var Ga={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $a(e){return{baseLanes:e,cachePool:Jo()}}function Qa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tc),e}function Ja(e,t,n){var r,o=t.pendingProps,i=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Bi.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ho){if(i?Mi(t):Li(),(e=uo)?null!==(e=null!==(e=Nd(e,fo))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,co=t,uo=null):e=null,null===e)throw go(t);return Id(e)?t.lanes=32:t.lanes=536870912,null}var l=o.children;return o=o.fallback,i?(Li(),l=Za({mode:"hidden",children:l},i=t.mode),o=Hr(o,i,n,null),l.return=t,o.return=t,l.sibling=o,t.child=l,(o=t.child).memoizedState=$a(n),o.childLanes=Qa(e,r,n),t.memoizedState=Ga,za(null,o)):(Mi(t),Xa(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(a)256&t.flags?(Mi(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Li(),t.child=e.child,t.flags|=128,t=null):(Li(),l=o.fallback,i=t.mode,o=Za({mode:"visible",children:o.children},i),(l=Hr(l,i,n,null)).flags|=2,o.return=t,l.return=t,o.sibling=l,t.child=o,fi(t,e.child,null,n),(o=t.child).memoizedState=$a(n),o.childLanes=Qa(e,r,n),t.memoizedState=Ga,t=za(null,o));else if(Mi(t),Id(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(s(419))).stack="",o.digest=r,ko({value:o,source:null,stack:null}),t=el(e,t,n)}else if(Pa||No(e,t,n,!1),r=0!==(n&e.childLanes),Pa||r){if(null!==(r=fc)&&(0!==(o=Me(r,n))&&o!==c.retryLane))throw c.retryLane=o,Pr(e,o),Gc(r,e,o),Ia;Od(l)||su(),t=el(e,t,n)}else Od(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,uo=Pd(l.nextSibling),co=t,ho=!0,po=null,fo=!1,null!==e&&lo(t,e),(t=Xa(t,o.children)).flags|=4096);return t}return i?(Li(),l=o.fallback,i=t.mode,u=(c=e.child).sibling,(o=Br(c,{mode:"hidden",children:o.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Br(u,l):(l=Hr(l,i,n,null)).flags|=2,l.return=t,o.return=t,o.sibling=l,t.child=o,za(null,o),o=t.child,null===(l=e.child.memoizedState)?l=$a(n):(null!==(i=l.cachePool)?(c=zo._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=Jo(),l={baseLanes:l.baseLanes|n,cachePool:i}),o.memoizedState=l,o.childLanes=Qa(e,r,n),t.memoizedState=Ga,za(e.child,o)):(Mi(t),e=(n=e.child).sibling,(n=Br(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Xa(e,t){return(t=Za({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Za(e,t){return(e=Lr(22,e,null,t)).lanes=0,e}function el(e,t,n){return fi(t,e.child,null,n),(e=Xa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ao(e.return,t,n)}function nl(e,t,n,r,o,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o,s.treeForkCount=i)}function rl(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;r=r.children;var s=Bi.current,a=0!==(2&s);if(a?(s=1&s|2,t.flags|=128):s&=1,U(Bi,s),ja(e,t,r,n),r=ho?Xr:0,!a&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Ui(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),nl(t,!1,o,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Ui(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}nl(t,!0,n,null,i,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ol(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Cc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(No(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Br(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Br(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function il(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Oo(e))}function sl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Pa=!0;else{if(!il(e,n)&&0===(128&t.flags))return Pa=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),Eo(0,zo,e.memoizedState.cache),wo();break;case 27:case 5:Q(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:Eo(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ri(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Mi(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ja(e,t,n):(Mi(t),null!==(e=ol(e,t,n))?e.sibling:null);Mi(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(No(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return rl(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),U(Bi,Bi.current),r)break;return null;case 22:return t.lanes=0,La(e,t,n,t.pendingProps);case 24:Eo(0,zo,e.memoizedState.cache)}return ol(e,t,n)}(e,t,n);Pa=0!==(131072&e.flags)}else Pa=!1,ho&&0!==(1048576&t.flags)&&io(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=oi(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var o=e.$$typeof;if(o===k){t.tag=11,t=Ma(null,t,e,r,n);break e}if(o===S){t.tag=14,t=Ra(null,t,e,r,n);break e}}throw t=I(e)||e,Error(s(306,t,""))}zr(e)?(r=_a(e,r),t.tag=1,t=Ya(null,t,e,r,n)):(t.tag=0,t=qa(null,t,e,r,n))}return t;case 0:return qa(e,t,t.type,t.pendingProps,n);case 1:return Ya(e,t,r=t.type,o=_a(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var i=t.memoizedState;o=i.element,yi(e,t),Si(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Eo(0,zo,r),r!==i.cache&&Do(t,[zo],n,!0),Ci(),r=a.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ka(e,t,r,n);break e}if(r!==o){ko(o=Gr(Error(s(424)),t)),t=Ka(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(uo=Pd(e.firstChild),co=t,ho=!0,po=null,fo=!0,n=mi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wo(),r===o){t=ol(e,t,n);break e}ja(e,t,r,n)}t=t.child}return t;case 26:return Ha(e,t),null===e?(n=Wd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ho||(n=t.type,e=t.pendingProps,(r=gd(Y.current).createElement(n))[Ue]=t,r[Ve]=e,hd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Wd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ho&&(r=t.stateNode=Fd(t.type,t.pendingProps,Y.current),co=t,fo=!0,o=uo,Ed(t.type)?(jd=o,uo=Pd(r.firstChild)):uo=o),ja(e,t,t.pendingProps.children,n),Ha(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ho&&((o=r=uo)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=Pd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fo))?(t.stateNode=r,co=t,uo=Pd(r.firstChild),fo=!1,o=!0):o=!1),o||go(t)),Q(t),o=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,r=i.children,bd(o,i)?r=null:null!==a&&bd(o,a)&&(t.flags|=32),null!==t.memoizedState&&(o=ts(e,t,os,null,null,n),uh._currentValue=o),Ha(e,t),ja(e,t,r,n),t.child;case 6:return null===e&&ho&&((e=n=uo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Pd(e.nextSibling)))return null}return e}(n,t.pendingProps,fo))?(t.stateNode=n,co=t,uo=null,e=!0):e=!1),e||go(t)),null;case 13:return Ja(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fi(t,null,r,n):ja(e,t,r,n),t.child;case 11:return Ma(e,t,t.type,t.pendingProps,n);case 7:return ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return ja(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Eo(0,t.type,r.value),ja(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Io(t),r=r(o=Po(o)),t.flags|=1,ja(e,t,r,n),t.child;case 14:return Ra(e,t,t.type,t.pendingProps,n);case 15:return Fa(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,o=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ho){if("hidden"===r.mode)return e=Ua(t,r),t.lanes=536870912,za(null,e);if(Ri(t),(e=uo)?null!==(e=null!==(e=Nd(e,fo))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Wr(e)).return=t,t.child=n,co=t,uo=null):e=null,null===e)throw go(t);return t.lanes=536870912,null}return Ua(t,r)}var i=e.memoizedState;if(null!==i){var a=i.dehydrated;if(Ri(t),o)if(256&t.flags)t.flags&=-257,t=Va(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Pa||No(e,t,n,!1),o=0!==(n&e.childLanes),Pa||o){if(null!==(r=fc)&&0!==(a=Me(r,n))&&a!==i.retryLane)throw i.retryLane=a,Pr(e,a),Gc(r,e,a),Ia;su(),t=Va(e,t,n)}else e=i.treeContext,uo=Pd(a.nextSibling),co=t,ho=!0,po=null,fo=!1,null!==e&&lo(t,e),(t=Ua(t,r)).flags|=4096;return t}return(e=Br(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return La(e,t,n,t.pendingProps);case 24:return Io(t),r=Po(zo),null===e?(null===(o=$o())&&(o=fc,i=Bo(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},vi(t),Eo(0,zo,o)):(0!==(e.lanes&n)&&(yi(e,t),Si(t,null,null,n),Ci()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),Eo(0,zo,r)):(r=i.cache,Eo(0,zo,r),r!==o.cache&&Do(t,[zo],n,!0))),ja(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function al(e){e.flags|=4}function ll(e,t,n,r,o){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&o)===o)if(e.stateNode.complete)e.flags|=8192;else{if(!ru())throw ii=ti,Zo;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!oh(t)){if(!ru())throw ii=ti,Zo;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,Ac|=t)}function dl(e,t){if(!ho)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(ao(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),To(zo),$(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bo(t)?al(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xo())),hl(t),null;case 26:var o=t.type,i=t.memoizedState;return null===e?(al(t),null!==i?(hl(t),cl(t,i)):(hl(t),ll(t,o,0,0,n))):i?i!==e.memoizedState?(al(t),hl(t),cl(t,i)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&al(t),hl(t),ll(t,o,0,0,n)),null;case 27:if(J(t),n=Y.current,o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return hl(t),null}e=q.current,bo(t)?vo(t):(e=Fd(o,r,n),t.stateNode=e,al(t))}return hl(t),null;case 5:if(J(t),o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return hl(t),null}if(i=q.current,bo(t))vo(t);else{var a=gd(Y.current);switch(i){case 1:i=a.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=a.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=a.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=a.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":(i=a.createElement("div")).innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i="string"===typeof r.is?a.createElement(o,{is:r.is}):a.createElement(o)}}i[Ue]=t,i[Ve]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)i.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=i;e:switch(hd(i,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&al(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&al(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=Y.current,bo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=co))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||cd(e.nodeValue,n)))||go(t,!0)}else(e=gd(e).createTextNode(r))[Ue]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bo(t),null!==n){if(null===e){if(!r)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Ue]=t}else wo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=xo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(zi(t),t):(zi(t),null);if(0!==(128&t.flags))throw Error(s(558))}return hl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=bo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[Ue]=t}else wo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),o=!1}else o=xo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(zi(t),t):(zi(t),null)}return zi(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool),i=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return $(),null===e&&Zu(t.stateNode.containerInfo),hl(t),null;case 10:return To(t.type),hl(t),null;case 19:if(B(Bi),null===(r=t.memoizedState))return hl(t),null;if(o=0!==(128&t.flags),null===(i=r.rendering))if(o)dl(r,!1);else{if(0!==_c||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=Ui(e))){for(t.flags|=128,dl(r,!1),e=i.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return U(Bi,1&Bi.current|2),ho&&oo(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>jc&&(t.flags|=128,o=!0,dl(r,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=Ui(i))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),dl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!ho)return hl(t),null}else 2*le()-r.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,o=!0,dl(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Bi.current,U(Bi,o?1&n|2:1&n),ho&&oo(t,r.treeForkCount),e):(hl(t),null);case 22:case 23:return zi(t),Ii(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Go),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),To(zo),hl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function fl(e,t){switch(ao(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return To(zo),$(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(zi(t),null===t.alternate)throw Error(s(340));wo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));wo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(Bi),null;case 4:return $(),null;case 10:return To(t.type),null;case 22:case 23:return zi(t),Ii(),null!==e&&B(Go),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return To(zo),null;default:return null}}function ml(e,t){switch(ao(t),t.tag){case 3:To(zo),$();break;case 26:case 27:case 5:J(t);break;case 4:$();break;case 31:null!==t.memoizedState&&zi(t);break;case 13:zi(t);break;case 19:B(Bi);break;case 10:To(t.type);break;case 22:case 23:zi(t),Ii(),null!==e&&B(Go);break;case 24:To(zo)}}function gl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==o)}}catch(a){_u(t,t.return,a)}}function vl(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,o=t;var l=n,c=a;try{c()}catch(u){_u(o,l,u)}}}r=r.next}while(r!==i)}}catch(u){_u(t,t.return,u)}}function yl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ti(t,n)}catch(r){_u(e,e.return,r)}}}function bl(e,t,n){n.props=_a(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){_u(e,t,r)}}function wl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(o){_u(e,t,o)}}function xl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){_u(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){_u(e,t,i)}else n.current=null}function kl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){_u(e,e.return,o)}}function _l(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,a=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||ud(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":i=f;break;case"name":o=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&ud(e,t,p,f,r,h)}}return void yt(e,a,l,c,u,d,i,o);case"select":for(i in f=a=l=p=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(i)||ud(e,t,i,null,r,c)}for(o in r)if(i=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=i||null!=c))switch(o){case"value":p=i;break;case"defaultValue":l=i;break;case"multiple":a=i;default:i!==c&&ud(e,t,o,i,r,c)}return t=l,n=a,r=f,void(null!=p?xt(e,!!n,p,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,t,l,null,r,o)}for(a in r)if(o=r[a],i=n[a],r.hasOwnProperty(a)&&(null!=o||null!=i))switch(a){case"value":p=o;break;case"defaultValue":f=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(s(91));break;default:o!==i&&ud(e,t,a,o,r,i)}return void kt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ud(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else ud(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&ud(e,t,g,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:ud(e,t,u,p,r,f)}return;default:if(At(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&dd(e,t,v,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||dd(e,t,d,p,r,f);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&ud(e,t,y,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||ud(e,t,h,p,r,f)}(r,e.type,n,t),r[Ve]=t}catch(o){_u(e,e.return,o)}}function Cl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Ed(e.type)||4===e.tag}function Sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Cl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Ed(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function El(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=It));else if(4!==r&&(27===r&&Ed(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Ed(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Al(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);hd(t,r,n),t[Ue]=e,t[Ve]=n}catch(i){_u(e,e.return,i)}}var Dl=!1,Nl=!1,Ol=!1,Il="function"===typeof WeakSet?WeakSet:Set,Pl=null;function jl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Gl(e,n),4&r&&gl(5,n);break;case 1:if(Gl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){_u(n,n.return,s)}else{var o=_a(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){_u(n,n.return,a)}}64&r&&yl(n),512&r&&wl(n,n.return);break;case 3:if(Gl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ti(e,t)}catch(s){_u(n,n.return,s)}}break;case 27:null===t&&4&r&&Al(n);case 26:case 5:Gl(e,n),null===t&&4&r&&kl(n),512&r&&wl(n,n.return);break;case 12:Gl(e,n);break;case 31:Gl(e,n),4&r&&Bl(e,n);break;case 13:Gl(e,n),4&r&&Ul(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Tu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Dl)){t=null!==t&&null!==t.memoizedState||Nl,o=Dl;var i=Nl;Dl=r,(Nl=t)&&!i?Ql(e,n,0!==(8772&n.subtreeFlags)):Gl(e,n),Dl=o,Nl=i}break;case 30:break;default:Gl(e,n)}}function Ml(e){var t=e.alternate;null!==t&&(e.alternate=null,Ml(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Rl=null,Fl=!1;function Ll(e,t,n){for(n=n.child;null!==n;)zl(e,t,n),n=n.sibling}function zl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(i){}switch(n.tag){case 26:Nl||xl(n,t),Ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Nl||xl(n,t);var r=Rl,o=Fl;Ed(n.type)&&(Rl=n.stateNode,Fl=!1),Ll(e,t,n),Ld(n.stateNode),Rl=r,Fl=o;break;case 5:Nl||xl(n,t);case 6:if(r=Rl,o=Fl,Rl=null,Ll(e,t,n),Fl=o,null!==(Rl=r))if(Fl)try{(9===Rl.nodeType?Rl.body:"HTML"===Rl.nodeName?Rl.ownerDocument.body:Rl).removeChild(n.stateNode)}catch(s){_u(n,t,s)}else try{Rl.removeChild(n.stateNode)}catch(s){_u(n,t,s)}break;case 18:null!==Rl&&(Fl?(Td(9===(e=Rl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),qh(e)):Td(Rl,n.stateNode));break;case 4:r=Rl,o=Fl,Rl=n.stateNode.containerInfo,Fl=!0,Ll(e,t,n),Rl=r,Fl=o;break;case 0:case 11:case 14:case 15:vl(2,n,t),Nl||vl(4,n,t),Ll(e,t,n);break;case 1:Nl||(xl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bl(n,t,r)),Ll(e,t,n);break;case 21:Ll(e,t,n);break;case 22:Nl=(r=Nl)||null!==n.memoizedState,Ll(e,t,n),Nl=r;break;default:Ll(e,t,n)}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{qh(e)}catch(n){_u(t,t.return,n)}}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{qh(e)}catch(n){_u(t,t.return,n)}}function Vl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Il),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Il),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Au.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(Ed(l.type)){Rl=l.stateNode,Fl=!1;break e}break;case 5:Rl=l.stateNode,Fl=!1;break e;case 3:case 4:Rl=l.stateNode.containerInfo,Fl=!0;break e}l=l.return}if(null===Rl)throw Error(s(160));zl(i,a,o),Rl=null,Fl=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wl(t,e),t=t.sibling}var ql=null;function Wl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Yl(e),4&r&&(vl(3,e,e.return),gl(3,e),vl(5,e,e.return));break;case 1:Hl(t,e),Yl(e),512&r&&(Nl||null===n||xl(n,n.return)),64&r&&Dl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=ql;if(Hl(t,e),Yl(e),512&r&&(Nl||null===n||xl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[Ge]||i[Ue]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),hd(i,r,n),i[Ue]=e,et(i),r=i;break e;case"link":var a=nh("link","href",o).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((i=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}hd(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(a=nh("meta","content",o).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((i=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}hd(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(s(468,r))}i[Ue]=e,et(i),r=i}e.stateNode=r}else rh(o,e.type,e.stateNode);else e.stateNode=Jd(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?rh(o,e.type,e.stateNode):Jd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&_l(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Yl(e),512&r&&(Nl||null===n||xl(n,n.return)),null!==n&&4&r&&_l(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Yl(e),512&r&&(Nl||null===n||xl(n,n.return)),32&e.flags){o=e.stateNode;try{Ct(o,"")}catch(m){_u(e,e.return,m)}}4&r&&null!=e.stateNode&&_l(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(Ol=!0);break;case 6:if(Hl(t,e),Yl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){_u(e,e.return,m)}}break;case 3:if(th=null,o=ql,ql=Ud(t.containerInfo),Hl(t,e),ql=o,Yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qh(t.containerInfo)}catch(m){_u(e,e.return,m)}Ol&&(Ol=!1,Kl(e));break;case 4:r=ql,ql=Ud(e.stateNode.containerInfo),Hl(t,e),Yl(e),ql=r;break;case 12:default:Hl(t,e),Yl(e);break;case 31:case 19:Hl(t,e),Yl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Vl(e,r)));break;case 13:Hl(t,e),Yl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Ic=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Vl(e,r)));break;case 22:o=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Dl,d=Nl;if(Dl=u||o,Nl=d||c,Hl(t,e),Nl=d,Dl=u,Yl(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||c||Dl||Nl||$l(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,o)"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){_u(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(m){_u(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var f=c.stateNode;o?Ad(f,!0):Ad(c.stateNode,!1)}catch(m){_u(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Vl(e,n))));case 30:case 21:}}function Yl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Cl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var o=n.stateNode;Tl(e,Sl(e),o);break;case 5:var i=n.stateNode;32&n.flags&&(Ct(i,""),n.flags&=-33),Tl(e,Sl(e),i);break;case 3:case 4:var a=n.stateNode.containerInfo;El(e,Sl(e),a);break;default:throw Error(s(161))}}catch(l){_u(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Kl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Kl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Gl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)jl(e,t.alternate,t),t=t.sibling}function $l(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),$l(t);break;case 1:xl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bl(t,t.return,n),$l(t);break;case 27:Ld(t.stateNode);case 26:case 5:xl(t,t.return),$l(t);break;case 22:null===t.memoizedState&&$l(t);break;default:$l(t)}e=e.sibling}}function Ql(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:Ql(o,i,n),gl(4,i);break;case 1:if(Ql(o,i,n),"function"===typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(c){_u(r,r.return,c)}if(null!==(o=(r=i).updateQueue)){var a=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)Ei(l[o],a)}catch(c){_u(r,r.return,c)}}n&&64&s&&yl(i),wl(i,i.return);break;case 27:Al(i);case 26:case 5:Ql(o,i,n),n&&null===r&&4&s&&kl(i),wl(i,i.return);break;case 12:Ql(o,i,n);break;case 31:Ql(o,i,n),n&&4&s&&Bl(o,i);break;case 13:Ql(o,i,n),n&&4&s&&Ul(o,i);break;case 22:null===i.memoizedState&&Ql(o,i,n),wl(i,i.return);break;case 30:break;default:Ql(o,i,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Uo(n))}function Xl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Uo(e))}function Zl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,n,r),2048&o&&gl(9,t);break;case 1:case 31:case 13:default:Zl(e,t,n,r);break;case 3:Zl(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Uo(e)));break;case 12:if(2048&o){Zl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,a=i.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){_u(t,t.return,l)}}else Zl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?Zl(e,t,n,r):nc(e,t):2&i._visibility?Zl(e,t,n,r):(i._visibility|=2,tc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&o&&Jl(s,t);break;case 24:Zl(e,t,n,r),2048&o&&Xl(t.alternate,t)}}function tc(e,t,n,r,o){for(o=o&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,s=t,a=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:tc(i,s,a,l,o),gl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?tc(i,s,a,l,o):nc(i,s):(u._visibility|=2,tc(i,s,a,l,o)),o&&2048&c&&Jl(s.alternate,s);break;case 24:tc(i,s,a,l,o),o&&2048&c&&Xl(s.alternate,s);break;default:tc(i,s,a,l,o)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:nc(n,r),2048&o&&Jl(r.alternate,r);break;case 24:nc(n,r),2048&o&&Xl(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function oc(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)ic(e,t,n),e=e.sibling}function ic(e,t,n){switch(e.tag){case 26:oc(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var o=Yd(r.href),i=t.querySelector(Kd(o));if(i)return null!==(t=i._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void et(i);i=t.ownerDocument||t,r=Gd(r),(o=zd.get(o))&&Zd(r,o),et(i=i.createElement("link"));var s=i;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),hd(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=sh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,ql,e.memoizedState,e.memoizedProps);break;case 5:default:oc(e,t,n);break;case 3:case 4:var r=ql;ql=Ud(e.stateNode.containerInfo),oc(e,t,n),ql=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,oc(e,t,n),rc=r):oc(e,t,n))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ac(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Pl=r,uc(r,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:ac(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:ac(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):ac(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Pl=r,uc(r,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Pl;){var n=Pl;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Uo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Pl=r;else e:for(n=e;null!==Pl;){var o=(r=Pl).sibling,i=r.return;if(Ml(r),r===n){Pl=null;break e}if(null!==o){o.return=i,Pl=o;break e}Pl=i}}}var dc={getCacheForType:function(e){var t=Po(zo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Po(zo).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,pc=0,fc=null,mc=null,gc=0,vc=0,yc=null,bc=!1,wc=!1,xc=!1,kc=0,_c=0,Cc=0,Sc=0,Ec=0,Tc=0,Ac=0,Dc=null,Nc=null,Oc=!1,Ic=0,Pc=0,jc=1/0,Mc=null,Rc=null,Fc=0,Lc=null,zc=null,Bc=0,Uc=0,Vc=null,Hc=null,qc=0,Wc=null;function Yc(){return 0!==(2&pc)&&0!==gc?gc&-gc:null!==j.T?Vu():Le()}function Kc(){if(0===Tc)if(0===(536870912&gc)||ho){var e=Ce;0===(3932160&(Ce<<=1))&&(Ce=262144),Tc=e}else Tc=536870912;return null!==(e=Pi.current)&&(e.flags|=32),Tc}function Gc(e,t,n){(e!==fc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(tu(e,0),Xc(e,gc,Tc,!1)),Ie(e,n),0!==(2&pc)&&e===fc||(e===fc&&(0===(2&pc)&&(Sc|=n),4===_c&&Xc(e,gc,Tc,!1)),Mu(e))}function $c(e,t,n){if(0!==(6&pc))throw Error(s(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ae(e,t),o=r?function(e,t){var n=pc;pc|=2;var r=ou(),o=iu();fc!==e||gc!==t?(Mc=null,jc=le()+500,tu(e,t)):wc=Ae(e,t);e:for(;;)try{if(0!==vc&&null!==mc){t=mc;var i=yc;t:switch(vc){case 1:vc=0,yc=null,hu(e,t,i,1);break;case 2:case 9:if(ni(i)){vc=0,yc=null,du(t);break}t=function(){2!==vc&&9!==vc||fc!==e||(vc=7),Mu(e)},i.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ni(i)?(vc=0,yc=null,du(t)):(vc=0,yc=null,hu(e,t,i,7));break;case 5:var a=null;switch(mc.tag){case 26:a=mc.memoizedState;case 5:case 27:var l=mc;if(a?oh(a):l.stateNode.complete){vc=0,yc=null;var c=l.sibling;if(null!==c)mc=c;else{var u=l.return;null!==u?(mc=u,pu(u)):mc=null}break t}}vc=0,yc=null,hu(e,t,i,5);break;case 6:vc=0,yc=null,hu(e,t,i,6);break;case 8:eu(),_c=6;break e;default:throw Error(s(462))}}cu();break}catch(d){nu(e,d)}return So=Co=null,j.H=r,j.A=o,pc=n,null!==mc?0:(fc=null,gc=0,Nr(),_c)}(e,t):au(e,t,!0),i=r;;){if(0===o){wc&&!r&&Xc(e,t,0,!1);break}if(n=e.current.alternate,!i||Jc(n)){if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;o=Dc;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,a).flags|=256),2!==(a=au(l,a,!1))){if(xc&&!c){l.errorRecoveryDisabledLanes|=i,Sc|=i,o=4;break e}i=Nc,Nc=o,null!==i&&(null===Nc?Nc=i:Nc.push.apply(Nc,i))}o=a}if(i=!1,2!==o)continue}}if(1===o){tu(e,0),Xc(e,t,0,!0);break}e:{switch(r=e,i=o){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Xc(r,t,Tc,!bc);break e;case 2:Nc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(o=Ic+300-le())){if(Xc(r,t,Tc,!bc),0!==Te(r,0,!0))break e;Bc=t,r.timeoutHandle=xd(Qc.bind(null,r,n,Nc,Mc,Oc,t,Tc,Sc,Ac,bc,i,"Throttled",-0,0),o)}else Qc(r,n,Nc,Mc,Oc,t,Tc,Sc,Ac,bc,i,null,-0,0)}break}o=au(e,t,!1),i=!1}Mu(e)}function Qc(e,t,n,r,o,i,s,a,l,c,u,d,h,p){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){ic(t,i,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:It});var f=(62914560&i)===i?Ic-le():(4194048&i)===i?Pc-le():0;if(null!==(f=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ih&&(ih=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],i=o.transferSize,s=o.initiatorType,a=o.duration;if(i&&a&&pd(s)){for(s=0,a=o.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>a)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(s+=u*((l=l.responseEnd)<a?1:(a-c)/(l-c)))}if(--r,t+=8*(i+s)/(o.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var o=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ih?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}(d,f)))return Bc=i,e.cancelPendingCommit=f(mu.bind(null,e,t,i,n,r,o,s,a,l,u,d,null,h,p)),void Xc(e,i,s,!c)}mu(e,t,i,n,r,o,s,a,l)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Xn(i(),o))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xc(e,t,n,r){t&=~Ec,t&=~Sc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-we(o),s=1<<i;r[i]=-1,o&=~s}0!==n&&Pe(e,n,t)}function Zc(){return 0!==(6&pc)||(Ru(0,!1),!1)}function eu(){if(null!==mc){if(0===vc)var e=mc.return;else So=Co=null,as(e=mc),li=null,ci=0,e=mc;for(;null!==e;)ml(e.alternate,e),e=e.return;mc=null}}function tu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,kd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc=0,eu(),fc=e,mc=n=Br(e.current,null),gc=t,vc=0,yc=null,bc=!1,wc=Ae(e,t),xc=!1,Ac=Tc=Ec=Sc=Cc=_c=0,Nc=Dc=null,Oc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-we(r),i=1<<o;t|=e[o],r&=~i}return kc=t,Nr(),n}function nu(e,t){Hi=null,j.H=ma,t===Xo||t===ei?(t=si(),vc=3):t===Zo?(t=si(),vc=4):vc=t===Ia?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yc=t,null===mc&&(_c=1,Ta(e,Gr(t,e.current)))}function ru(){var e=Pi.current;return null===e||((4194048&gc)===gc?null===ji:((62914560&gc)===gc||0!==(536870912&gc))&&e===ji)}function ou(){var e=j.H;return j.H=ma,null===e?ma:e}function iu(){var e=j.A;return j.A=dc,e}function su(){_c=4,bc||(4194048&gc)!==gc&&null!==Pi.current||(wc=!0),0===(134217727&Cc)&&0===(134217727&Sc)||null===fc||Xc(fc,gc,Tc,!1)}function au(e,t,n){var r=pc;pc|=2;var o=ou(),i=iu();fc===e&&gc===t||(Mc=null,tu(e,t)),t=!1;var s=_c;e:for(;;)try{if(0!==vc&&null!==mc){var a=mc,l=yc;switch(vc){case 8:eu(),s=6;break e;case 3:case 2:case 9:case 6:null===Pi.current&&(t=!0);var c=vc;if(vc=0,yc=null,hu(e,a,l,c),n&&wc){s=0;break e}break;default:c=vc,vc=0,yc=null,hu(e,a,l,c)}}lu(),s=_c;break}catch(u){nu(e,u)}return t&&e.shellSuspendCounter++,So=Co=null,pc=r,j.H=o,j.A=i,null===mc&&(fc=null,gc=0,Nr()),s}function lu(){for(;null!==mc;)uu(mc)}function cu(){for(;null!==mc&&!se();)uu(mc)}function uu(e){var t=sl(e.alternate,e,kc);e.memoizedProps=e.pendingProps,null===t?pu(e):mc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wa(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Wa(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:as(t);default:ml(n,t),t=sl(n,t=mc=Ur(t,kc),kc)}e.memoizedProps=e.pendingProps,null===t?pu(e):mc=t}function hu(e,t,n,r){So=Co=null,as(t),li=null,ci=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&No(t,n,o,!0),null!==(n=Pi.current)){switch(n.tag){case 31:case 13:return null===ji?su():null===n.alternate&&0===_c&&(_c=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===ti?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Cu(e,r,o)),!1;case 22:return n.flags|=65536,r===ti?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Cu(e,r,o)),!1}throw Error(s(435,n.tag))}return Cu(e,r,o),su(),!1}if(ho)return null!==(t=Pi.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==mo&&ko(Gr(e=Error(s(422),{cause:r}),n))):(r!==mo&&ko(Gr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Gr(r,n),ki(e,o=Da(e.stateNode,r,o)),4!==_c&&(_c=2)),!1;var i=Error(s(520),{cause:r});if(i=Gr(i,n),null===Dc?Dc=[i]:Dc.push(i),4!==_c&&(_c=2),null===t)return!0;r=Gr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,ki(n,e=Da(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Rc||!Rc.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,Oa(o=Na(o),e,n,r),ki(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,gc))return _c=1,Ta(e,Gr(n,e.current)),void(mc=null)}catch(i){if(null!==o)throw mc=o,i;return _c=1,Ta(e,Gr(n,e.current)),void(mc=null)}32768&t.flags?(ho||1===r?e=!0:wc||0!==(536870912&gc)?e=!1:(bc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Pi.current)&&13===r.tag&&(r.flags|=16384))),fu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void fu(t,bc);e=t.return;var n=pl(t.alternate,t,kc);if(null!==n)return void(mc=n);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===_c&&(_c=5)}function fu(e,t){do{var n=fl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=n}while(null!==e);_c=6,mc=null}function mu(e,t,n,r,o,i,a,l,c){e.cancelPendingCommit=null;do{wu()}while(0!==Fc);if(0!==(6&pc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,o,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-we(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Pe(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,n,i|=Dr,a,l,c),e===fc&&(mc=fc=null,gc=0),zc=t,Lc=e,Bc=n,Uc=i,Vc=o,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,oe(he,function(){return xu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=j.T,j.T=null,o=M.p,M.p=2,a=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,fd=bh,or(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==i||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===o&&(l=a),p===i&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:e,selectionRange:n},bh=!1,Pl=t;null!==Pl;)if(e=(t=Pl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Pl=e;else for(;null!==Pl;){switch(i=(t=Pl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(o=e[n]).ref.impl=o.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=_a(n.type,o);e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){_u(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Dd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Pl=e;break}Pl=t.return}}(e,t)}finally{pc=a,M.p=o,j.T=r}}Fc=1,gu(),vu(),yu()}}function gu(){if(1===Fc){Fc=0;var e=Lc,t=zc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=j.T,j.T=null;var r=M.p;M.p=2;var o=pc;pc|=4;try{Wl(t,e);var i=md,s=rr(e.containerInfo),a=i.focusedElem,l=i.selectionRange;if(s!==a&&a&&a.ownerDocument&&nr(a.ownerDocument.documentElement,a)){if(null!==l&&or(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=a.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(s=g,g=m,m=s);var v=tr(a,m),y=tr(a,g);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),p.removeAllRanges(),m>g?(p.addRange(b),p.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),p.addRange(b))}}}}for(d=[],p=a;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var w=d[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}bh=!!fd,md=fd=null}finally{pc=o,M.p=r,j.T=n}}e.current=t,Fc=2}}function vu(){if(2===Fc){Fc=0;var e=Lc,t=zc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=j.T,j.T=null;var r=M.p;M.p=2;var o=pc;pc|=4;try{jl(e,t.alternate,t)}finally{pc=o,M.p=r,j.T=n}}Fc=3}}function yu(){if(4===Fc||3===Fc){Fc=0,ae();var e=Lc,t=zc,n=Bc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,zc=Lc=null,bu(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Rc=null),Fe(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=j.T,o=M.p,M.p=2,j.T=null;try{for(var i=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];i(a.value,{componentStack:a.stack})}}finally{j.T=t,M.p=o}}0!==(3&Bc)&&wu(),Mu(e),o=e.pendingLanes,0!==(261930&n)&&0!==(42&o)?e===Wc?qc++:(qc=0,Wc=e):qc=0,Ru(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Uo(t)))}function wu(){return gu(),vu(),yu(),xu()}function xu(){if(5!==Fc)return!1;var e=Lc,t=Uc;Uc=0;var n=Fe(Bc),r=j.T,o=M.p;try{M.p=32>n?32:n,j.T=null,n=Vc,Vc=null;var i=Lc,a=Bc;if(Fc=0,zc=Lc=null,Bc=0,0!==(6&pc))throw Error(s(331));var l=pc;if(pc|=4,lc(i.current),ec(i,i.current,a,n),pc=l,Ru(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,i)}catch(c){}return!0}finally{M.p=o,j.T=r,bu(e,t)}}function ku(e,t,n){t=Gr(n,t),null!==(e=wi(e,t=Da(e.stateNode,t,2),2))&&(Ie(e,2),Mu(e))}function _u(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Rc||!Rc.has(r))){e=Gr(n,e),null!==(r=wi(t,n=Na(2),2))&&(Oa(n,r,t,e),Ie(r,2),Mu(r));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hc;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(xc=!0,o.add(n),e=Su.bind(null,e,t,n),t.then(e,e))}function Su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,fc===e&&(gc&n)===n&&(4===_c||3===_c&&(62914560&gc)===gc&&300>le()-Ic?0===(2&pc)&&tu(e,0):Ec|=n,Ac===gc&&(Ac=0)),Mu(e)}function Eu(e,t){0===t&&(t=Ne()),null!==(e=Pr(e,t))&&(Ie(e,t),Mu(e))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),Eu(e,n)}var Du=null,Nu=null,Ou=!1,Iu=!1,Pu=!1,ju=0;function Mu(e){e!==Nu&&null===e.next&&(null===Nu?Du=Nu=e:Nu=Nu.next=e),Iu=!0,Ou||(Ou=!0,Cd(function(){0!==(6&pc)?oe(ue,Fu):Lu()}))}function Ru(e,t){if(!Pu&&Iu){Pu=!0;do{for(var n=!1,r=Du;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var s=r.suspendedLanes,a=r.pingedLanes;i=(1<<31-we(42|e)+1)-1,i=201326741&(i&=o&~(s&~a))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Uu(r,i))}else i=gc,0===(3&(i=Te(r,r===fc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ae(r,i)||(n=!0,Uu(r,i));r=r.next}}while(n);Pu=!1}}function Fu(){Lu()}function Lu(){Iu=Ou=!1;var e=0;0!==ju&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==wd&&(wd=e,!0);return wd=null,!1}()&&(e=ju);for(var t=le(),n=null,r=Du;null!==r;){var o=r.next,i=zu(r,t);0===i?(r.next=null,null===n?Du=o:n.next=o,null===o&&(Nu=n)):(n=r,(0!==e||0!==(3&i))&&(Iu=!0)),r=o}0!==Fc&&5!==Fc||Ru(e,!1),0!==ju&&(ju=0)}function zu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-we(i),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&r)||(o[s]=De(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}if(n=gc,n=Te(e,e===(t=fc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ae(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),Fe(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=fe}return r=Bu.bind(null,e),n=oe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function Bu(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=gc;return 0===(r=Te(e,e===fc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:($c(e,r,t),zu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Bu.bind(null,e):null)}function Uu(e,t){if(wu())return null;$c(e,t,!0)}function Vu(){if(0===ju){var e=qo;0===e&&(e=_e,0===(261888&(_e<<=1))&&(_e=256)),ju=e}return ju}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ot(""+e)}function qu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wu=0;Wu<Cr.length;Wu++){var Yu=Cr[Wu];Sr(Yu.toLowerCase(),"on"+(Yu[0].toUpperCase()+Yu.slice(1)))}Sr(gr,"onAnimationEnd"),Sr(vr,"onAnimationIteration"),Sr(yr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(br,"onTransitionRun"),Sr(wr,"onTransitionStart"),Sr(xr,"onTransitionCancel"),Sr(kr,"onTransitionEnd"),ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function $u(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=c;try{i(o)}catch(u){Er(u)}o.currentTarget=null,i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=c;try{i(o)}catch(u){Er(u)}o.currentTarget=null,i=l}}}}function Qu(e,t){var n=t[qe];void 0===n&&(n=t[qe]=new Set);var r=e+"__bubble";n.has(r)||(ed(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),ed(n,e,r,t)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[Xu]){e[Xu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Gu.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Xu]||(t[Xu]=!0,Ju("selectionchange",!1,t))}}function ed(e,t,n,r){switch(Eh(t)){case 2:var o=wh;break;case 8:o=xh;break;default:o=kh}n=o.bind(null,t,n,e),o=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function td(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===o)return;s=s.return}for(;null!==a;){if(null===(s=Qe(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=i=s;continue e}a=a.parentNode}}r=r.return}zt(function(){var r=i,o=jt(n),s=[];e:{var a=_r.get(e);if(void 0!==a){var c=nn,u=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case gr:case vr:case yr:c=un;break;case kr:c=xn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=_n}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==a?a+"Capture":null:a;d=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Bt(m,p))&&d.push(nd(m,g,f)),h)break;m=m.return}0<d.length&&(a=new c(a,u,null,n,o),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!Qe(u)&&!u[He])&&(c||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Qe(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=an,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?a:Xe(c),f=null==u?a:Xe(u),(a=new d(g,m+"leave",c,n,o)).target=h,a.relatedTarget=f,g=null,Qe(o)===r&&((d=new d(p,m+"enter",u,n,o)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=od,m=u,f=0,g=p=c;g;g=d(g))f++;g=0;for(var v=m;v;v=d(v))g++;for(;0<f-g;)p=d(p),f--;for(;0<g-f;)m=d(m),g--;for(;f--;){if(p===m||null!==m&&p===m.alternate){d=p;break e}p=d(p),m=d(m)}d=null}else d=null;null!==c&&id(s,a,c,d,!1),null!==u&&null!==h&&id(s,h,u,d,!0)}if("select"===(c=(a=r?Xe(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var y=Un;else if(Mn(a))if(Vn)y=Jn;else{y=$n;var b=Gn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&At(r.elementType)&&(y=Un):y=Qn;switch(y&&(y=y(e,r))?Rn(s,y,n,o):(b&&b(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&wt(a,"number",a.value)),b=r?Xe(r):window,e){case"focusin":(Mn(b)||"true"===b.contentEditable)&&(sr=b,ar=r,lr=null);break;case"focusout":lr=ar=sr=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(s,n,o);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":ur(s,n,o)}var w;if(Sn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Pn?On(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(An&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Pn&&(w=Kt()):(Wt="value"in(qt=o)?qt.value:qt.textContent,Pn=!0)),0<(b=rd(r,x)).length&&(x=new hn(x,e,null,n,o),s.push({event:x,listeners:b}),w?x.data=w:null!==(w=In(n))&&(x.data=w))),(w=Tn?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(Nn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!Sn&&On(e,t)?(e=Kt(),Yt=Wt=qt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=rd(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,o),s.push({event:b,listeners:x}),b.data=w)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Hu((o[Ve]||null).action),s=r.submitter;s&&null!==(t=(t=s[Ve]||null)?Hu(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var a=new nn("action","action",null,r,o);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ju){var e=s?qu(o,s):new FormData(o);ta(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"===typeof i&&(a.preventDefault(),e=s?qu(o,s):new FormData(o),ta(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(s,e,r,n,o)}$u(s,t)})}function nd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rd(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Bt(e,n))&&r.unshift(nd(e,o,i)),null!=(o=Bt(e,t))&&r.push(nd(e,o,i))),3===e.tag)return r;e=e.return}return[]}function od(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function id(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,o?null!=(c=Bt(n,i))&&s.unshift(nd(n,c,l)):o||null!=(c=Bt(n,i))&&s.push(nd(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var sd=/\r\n?/g,ad=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(sd,"\n").replace(ad,"")}function cd(e,t){return t=ld(t),ld(e)===t}function ud(e,t,n,r,o,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Ct(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Tt(e,r,i);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ot(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&ud(e,t,"name",o.name,o,null),ud(e,t,"formEncType",o.formEncType,o,null),ud(e,t,"formMethod",o.formMethod,o,null),ud(e,t,"formTarget",o.formTarget,o,null)):(ud(e,t,"encType",o.encType,o,null),ud(e,t,"method",o.method,o,null),ud(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Ot(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=It);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Ot(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Qu("beforetoggle",e),Qu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Dt.get(n)||n,r)}}function dd(e,t,n,r,o,i){switch(n){case"style":Tt(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Ct(e,r):("number"===typeof r||"bigint"===typeof r)&&Ct(e,""+r);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=It);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Ve]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qu("error",e),Qu("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ud(e,t,r,a,n,null)}}return i&&ud(e,t,"srcSet",n.srcSet,n,null),void(o&&ud(e,t,"src",n.src,n,null));case"input":Qu("invalid",e);var l=r=a=i=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":i=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:ud(e,t,o,d,n,null)}}return void bt(e,r,l,c,u,a,i,!1);case"select":for(i in Qu("invalid",e),o=a=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":o=l;default:ud(e,t,i,l,n,null)}return t=r,n=a,e.multiple=!!o,void(null!=t?xt(e,!!o,t,!1):null!=n&&xt(e,!!o,n,!0));case"textarea":for(a in Qu("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":o=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:ud(e,t,a,l,n,null)}return void _t(e,o,i,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else ud(e,t,c,o,n,null);return;case"dialog":Qu("beforetoggle",e),Qu("toggle",e),Qu("cancel",e),Qu("close",e);break;case"iframe":case"object":Qu("load",e);break;case"video":case"audio":for(o=0;o<Ku.length;o++)Qu(Ku[o],e);break;case"image":Qu("error",e),Qu("load",e);break;case"details":Qu("toggle",e);break;case"embed":case"source":case"link":Qu("error",e),Qu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ud(e,t,u,o,n,null)}return;default:if(At(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&dd(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&ud(e,t,l,o,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var fd=null,md=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wd=null;var xd="function"===typeof setTimeout?setTimeout:void 0,kd="function"===typeof clearTimeout?clearTimeout:void 0,_d="function"===typeof Promise?Promise:void 0,Cd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof _d?function(e){return _d.resolve(null).then(e).catch(Sd)}:xd;function Sd(e){setTimeout(function(){throw e})}function Ed(e){return"head"===e}function Td(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)||"/&"===n){if(0===r)return e.removeChild(o),void qh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Ld(e.ownerDocument.documentElement);else if("head"===n){Ld(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var s=i.nextSibling,a=i.nodeName;i[Ge]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=s}}else"body"===n&&Ld(e.ownerDocument.body);n=o}while(n);qh(t)}function Ad(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Dd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Dd(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Nd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Pd(e.nextSibling)))return null}return e}function Od(e){return"$?"===e.data||"$~"===e.data}function Id(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Pd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var jd=null;function Md(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Pd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Rd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fd(e,t,n){switch(t=gd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Ld(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var zd=new Map,Bd=new Set;function Ud(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Vd=M.d;M.d={f:function(){var e=Vd.f(),t=Zc();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?ra(t):Vd.r(e)},D:function(e){Vd.D(e),qd("dns-prefetch",e,null)},C:function(e,t){Vd.C(e,t),qd("preconnect",e,t)},L:function(e,t,n){Vd.L(e,t,n);var r=Hd;if(r&&e&&t){var o='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+vt(n.imageSizes)+'"]')):o+='[href="'+vt(e)+'"]';var i=o;switch(t){case"style":i=Yd(e);break;case"script":i=$d(e)}zd.has(i)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),zd.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Kd(i))||"script"===t&&r.querySelector(Qd(i))||(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Vd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=$d(e)}if(!zd.has(i)&&(e=p({rel:"modulepreload",href:e},t),zd.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qd(i)))return}hd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Vd.X(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,o=$d(e),i=r.get(o);i||((i=n.querySelector(Qd(o)))||(e=p({src:e,async:!0},t),(t=zd.get(o))&&eh(e,t),et(i=n.createElement("script")),hd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Vd.S(e,t,n);var r=Hd;if(r&&e){var o=Ze(r).hoistableStyles,i=Yd(e);t=t||"default";var s=o.get(i);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Kd(i)))a.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zd.get(i))&&Zd(e,n);var l=s=r.createElement("link");et(l),hd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Xd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},o.set(i,s)}}},M:function(e,t){Vd.M(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,o=$d(e),i=r.get(o);i||((i=n.querySelector(Qd(o)))||(e=p({src:e,async:!0,type:"module"},t),(t=zd.get(o))&&eh(e,t),et(i=n.createElement("script")),hd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var Hd="undefined"===typeof document?null:document;function qd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var o=vt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),Bd.has(o)||(Bd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Wd(e,t,n,r){var o,i,a,l,c=(c=Y.current)?Ud(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Yd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Yd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Kd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),zd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zd.set(e,n),u||(o=c,i=e,a=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=o.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),hd(i,"link",a),et(i),o.head.appendChild(i))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=$d(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Yd(e){return'href="'+vt(e)+'"'}function Kd(e){return'link[rel="stylesheet"]['+e+"]"}function Gd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function $d(e){return'[src="'+vt(e)+'"]'}function Qd(e){return"script[async]"+e}function Jd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var o=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),hd(r,"style",o),Xd(r,n.precedence,e),t.instance=r;case"stylesheet":o=Yd(n.href);var i=e.querySelector(Kd(o));if(i)return t.state.loading|=4,t.instance=i,et(i),i;r=Gd(n),(o=zd.get(o))&&Zd(r,o),et(i=(e.ownerDocument||e).createElement("link"));var a=i;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),hd(i,"link",r),t.state.loading|=4,Xd(i,n.precedence,e),t.instance=i;case"script":return i=$d(n.src),(o=e.querySelector(Qd(i)))?(t.instance=o,et(o),o):(r=n,(o=zd.get(i))&&eh(r=p({},n),o),et(o=(e=e.ownerDocument||e).createElement("script")),hd(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Xd(r,n.precedence,e));return t.instance}function Xd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)i=a;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var r=new Map,o=th=new Map;o.set(n,r)}else(r=(o=th).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[Ge]||i[Ue]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(i):r.set(s,[i])}}return r}function rh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function oh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ih=0;function sh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ah=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ah=new Map,t.forEach(ch,e),ah=null,sh.call(e))}function ch(e,t){if(!(4&t.state.loading)){var n=ah.get(e);if(n)var r=n.get(null);else{n=new Map,ah.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var s=o[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(o=t.instance).getAttribute("data-precedence"),(i=n.get(s)||r)===r&&n.set(null,o),n.set(s,o),this.count++,r=sh.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var uh={$$typeof:x,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function dh(e,t,n,r,o,i,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oe(0),this.hiddenUpdates=Oe(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,n,r,o,i,s,a,l,c,u,d){return e=new dh(e,t,n,s,l,c,u,d,a),t=1,!0===i&&(t|=24),i=Lr(3,null,null,t),e.current=i,i.stateNode=e,(t=Bo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},vi(i),e}function ph(e){return e?e=Rr:Rr}function fh(e,t,n,r,o,i){o=ph(o),null===r.context?r.context=o:r.pendingContext=o,(r=bi(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=wi(e,r,t))&&(Gc(n,0,t),xi(n,e,t))}function mh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gh(e,t){mh(e,t),(e=e.alternate)&&mh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Pr(e,67108864);null!==t&&Gc(t,0,67108864),gh(e,67108864)}}function yh(e){if(13===e.tag||31===e.tag){var t=Yc(),n=Pr(e,t=Re(t));null!==n&&Gc(n,0,t),gh(e,t)}}var bh=!0;function wh(e,t,n,r){var o=j.T;j.T=null;var i=M.p;try{M.p=2,kh(e,t,n,r)}finally{M.p=i,j.T=o}}function xh(e,t,n,r){var o=j.T;j.T=null;var i=M.p;try{M.p=8,kh(e,t,n,r)}finally{M.p=i,j.T=o}}function kh(e,t,n,r){if(bh){var o=_h(r);if(null===o)td(e,t,r,Ch,n),Mh(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Ah=Rh(Ah,e,t,n,r,o),!0;case"dragenter":return Dh=Rh(Dh,e,t,n,r,o),!0;case"mouseover":return Nh=Rh(Nh,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Oh.set(i,Rh(Oh.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ih.set(i,Rh(Ih.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Mh(e,r),4&t&&-1<jh.indexOf(e)){for(;null!==o;){var i=Je(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=Ee(i.pendingLanes);if(0!==s){var a=i;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-we(s);a.entanglements[1]|=l,s&=~l}Mu(i),0===(6&pc)&&(jc=le()+500,Ru(0,!1))}}break;case 31:case 13:null!==(a=Pr(i,2))&&Gc(a,0,2),Zc(),gh(i,2)}if(null===(i=_h(r))&&td(e,t,r,Ch,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else td(e,t,r,null,n)}}function _h(e){return Sh(e=jt(e))}var Ch=null;function Sh(e){if(Ch=null,null!==(e=Qe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ch=e,null}function Eh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case pe:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Th=!1,Ah=null,Dh=null,Nh=null,Oh=new Map,Ih=new Map,Ph=[],jh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mh(e,t){switch(e){case"focusin":case"focusout":Ah=null;break;case"dragenter":case"dragleave":Dh=null;break;case"mouseover":case"mouseout":Nh=null;break;case"pointerover":case"pointerout":Oh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ih.delete(t.pointerId)}}function Rh(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=Je(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Fh(e){var t=Qe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void ze(e.priority,function(){yh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void ze(e.priority,function(){yh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=_h(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function zh(e,t,n){Lh(e)&&n.delete(t)}function Bh(){Th=!1,null!==Ah&&Lh(Ah)&&(Ah=null),null!==Dh&&Lh(Dh)&&(Dh=null),null!==Nh&&Lh(Nh)&&(Nh=null),Oh.forEach(zh),Ih.forEach(zh)}function Uh(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bh)))}var Vh=null;function Hh(e){Vh!==e&&(Vh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vh===e&&(Vh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===Sh(r||n))continue;break}var i=Je(n);null!==i&&(e.splice(t,3),t-=3,ta(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function qh(e){function t(t){return Uh(t,e)}null!==Ah&&Uh(Ah,e),null!==Dh&&Uh(Dh,e),null!==Nh&&Uh(Nh,e),Oh.forEach(t),Ih.forEach(t);for(var n=0;n<Ph.length;n++){var r=Ph[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ph.length&&null===(n=Ph[0]).blockedOn;)Fh(n),null===n.blockedOn&&Ph.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],s=o[Ve]||null;if("function"===typeof i)s||Hh(n);else if(s){var a=null;if(i&&i.hasAttribute("formAction")){if(o=i,s=i[Ve]||null)a=s.formAction;else if(null!==Sh(o))continue}else a=s.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Hh(n)}}}function Wh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return o=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==o&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==o&&(o(),o=null)}}}function Yh(e){this._internalRoot=e}function Kh(e){this._internalRoot=e}Kh.prototype.render=Yh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));fh(t.current,Yc(),e,t,null,null)},Kh.prototype.unmount=Yh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fh(e.current,2,null,e,null,null),Zc(),t[He]=null}},Kh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Le();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ph.length&&0!==t&&t<Ph[n].priority;n++);Ph.splice(n,0,e),0===n&&Fh(e)}};var Gh=o.version;if("19.2.0"!==Gh)throw Error(s(527,Gh,"19.2.0"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return d(o),e;if(i===r)return d(o),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var $h={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{ve=Qh.inject($h),ye=Qh}catch(Xh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,r="",o=Ca,i=Sa,l=Ea;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,r,null,o,i,l,Wh),e[He]=t.current,Zu(e),new Yh(t)}},7098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(8139))&&r.__esModule?r:{default:r},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(5043)),s=n(6795);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,d(t).call(this,e))).state={activeItems:(0,s.getActiveItems)(e.children,e.allowMultiple)},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.children,n=e.allowMultiple;(0,s.isSame)((0,s.getChildrenActiveItems)(this.props.children),(0,s.getChildrenActiveItems)(t))||this.setState({activeItems:(0,s.getActiveItems)(t,n)})}},{key:"handleChange",value:function(e){var t=this.props,n=t.allowMultiple,r=t.children,o=t.onChange,i=t.openNextAccordionItem,s=this.state.activeItems.slice(0),a=s.indexOf(e);-1!==a?(s.splice(a,1),i&&e!==r.length-1&&s.push(e+1)):n?s.push(e):s=[e];var l={activeItems:s};this.setState(l,function(){o&&o(l)})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.children,r=t.duration,o=t.easing,a=t.isHovered;if(!n)return null;var l=this.state.activeItems;return(0,s.arrayify)(n).reduce(function(t,n,s){if(n){var c=n.props,u=c.disabled,d=c.duration,h=c.easing,p=!u&&-1!==l.indexOf(s),f=e.handleChange.bind(e,s),m=i.default.cloneElement(n,{duration:d||r,easing:h||o,expanded:p,key:s,index:s,onClick:f,onMouseOver:a&&!u?f:null,ref:"item-".concat(s)});t.push(m)}return t},[])}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,r=e.rootTag;return i.default.createElement(r,{className:(0,o.default)("react-sanfona",t),style:n},this.renderItems())}}])&&c(n.prototype,r),a&&c(n,a),t}(i.Component);t.default=p,p.defaultProps={activeItems:[0],allowMultiple:!1,duration:300,easing:"ease",rootTag:"div"}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7132:(e,t,n)=>{var r=n(5538),o=n(726),i=n(8420),s=n(1104),a=n(5119),l=n(4353),c=n(1980),u=n(8124),d=n(9075),h=n(9395),p=n(8592),f=n(6924),m=n(8268),g=n(8630),v=n(310),y=n(4052),b=n(4543),w=n(7887),x=n(6686),k=n(5921),_=n(8673),C=n(474),S="[object Arguments]",E="[object Function]",T="[object Object]",A={};A[S]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[T]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[E]=A["[object WeakMap]"]=!1,e.exports=function e(t,n,D,N,O,I){var P,j=1&n,M=2&n,R=4&n;if(D&&(P=O?D(t,N,O,I):D(t)),void 0!==P)return P;if(!x(t))return t;var F=y(t);if(F){if(P=m(t),!j)return c(t,P)}else{var L=f(t),z=L==E||"[object GeneratorFunction]"==L;if(b(t))return l(t,j);if(L==T||L==S||z&&!O){if(P=M||z?{}:v(t),!j)return M?d(t,a(P,t)):u(t,s(P,t))}else{if(!A[L])return O?t:{};P=g(t,L,j)}}I||(I=new r);var B=I.get(t);if(B)return B;I.set(t,P),k(t)?t.forEach(function(r){P.add(e(r,n,D,r,t,I))}):w(t)&&t.forEach(function(r,o){P.set(o,e(r,n,D,o,t,I))});var U=F?void 0:(R?M?p:h:M?C:_)(t);return o(U||t,function(r,o){U&&(r=t[o=r]),i(P,o,e(r,n,D,o,t,I))}),P}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),o=n(9935),i=n(4190),s=n(1946),a=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,e.exports=l},7251:(e,t,n)=>{var r=n(8724),o=n(7160),i=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},7377:(e,t,n)=>{var r=n(3795),o=n(3950);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[i+a]=s[a];return t||o(s)}},7511:(e,t,n)=>{"use strict";Object.defineProperty(t,"nD",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"As",{enumerable:!0,get:function(){return o.default}});var r=a(n(7098)),o=a(n(9629)),i=a(n(513)),s=a(n(2010));function a(e){return e&&e.__esModule?e:{default:e}}},7514:(e,t,n)=>{"use strict";t.H8=void 0;var r=c(n(218)),o=c(n(9144)),i=c(n(9211)),s=c(n(4157)),a=c(n(4973)),l=c(n(7642));function c(e){return e&&e.__esModule?e:{default:e}}s.default,t.H8=s.default,a.default,l.default;var u=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];var a=(0,r.default)(n),l=(0,o.default)(e,a);return(0,i.default)(l)};t.Ay=u},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7612:(e,t,n)=>{"use strict";n.r(t),n.d(t,{decode:()=>y,default:()=>k,encode:()=>b,toASCII:()=>x,toUnicode:()=>w,ucs2decode:()=>p,ucs2encode:()=>f});const r=2147483647,o=36,i=/^xn--/,s=/[^\0-\x7F]/,a=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=Math.floor,u=String.fromCharCode;function d(e){throw new RangeError(l[e])}function h(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]);const o=function(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}((e=e.replace(a,".")).split("."),t).join(".");return r+o}function p(e){const t=[];let n=0;const r=e.length;for(;n<r;){const o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&o)<<10)+(1023&r)+65536):(t.push(o),n--)}else t.push(o)}return t}const f=e=>String.fromCodePoint(...e),m=function(e){return e>=48&&e<58?e-48+26:e>=65&&e<91?e-65:e>=97&&e<123?e-97:o},g=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},v=function(e,t,n){let r=0;for(e=n?c(e/700):e>>1,e+=c(e/t);e>455;r+=o)e=c(e/35);return c(r+36*e/(e+38))},y=function(e){const t=[],n=e.length;let i=0,s=128,a=72,l=e.lastIndexOf("-");l<0&&(l=0);for(let r=0;r<l;++r)e.charCodeAt(r)>=128&&d("not-basic"),t.push(e.charCodeAt(r));for(let u=l>0?l+1:0;u<n;){const l=i;for(let t=1,s=o;;s+=o){u>=n&&d("invalid-input");const l=m(e.charCodeAt(u++));l>=o&&d("invalid-input"),l>c((r-i)/t)&&d("overflow"),i+=l*t;const h=s<=a?1:s>=a+26?26:s-a;if(l<h)break;const p=o-h;t>c(r/p)&&d("overflow"),t*=p}const h=t.length+1;a=v(i-l,h,0==l),c(i/h)>r-s&&d("overflow"),s+=c(i/h),i%=h,t.splice(i++,0,s)}return String.fromCodePoint(...t)},b=function(e){const t=[],n=(e=p(e)).length;let i=128,s=0,a=72;for(const r of e)r<128&&t.push(u(r));const l=t.length;let h=l;for(l&&t.push("-");h<n;){let n=r;for(const t of e)t>=i&&t<n&&(n=t);const p=h+1;n-i>c((r-s)/p)&&d("overflow"),s+=(n-i)*p,i=n;for(const f of e)if(f<i&&++s>r&&d("overflow"),f===i){let e=s;for(let n=o;;n+=o){const r=n<=a?1:n>=a+26?26:n-a;if(e<r)break;const i=e-r,s=o-r;t.push(u(g(r+i%s,0))),e=c(i/s)}t.push(u(g(e,0))),a=v(s,p,h===l),s=0,++h}++s,++i}return t.join("")},w=function(e){return h(e,function(e){return i.test(e)?y(e.slice(4).toLowerCase()):e})},x=function(e){return h(e,function(e){return s.test(e)?"xn--"+b(e):e})},k={version:"2.3.1",ucs2:{decode:p,encode:f},decode:y,encode:b,toASCII:x,toUnicode:w}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7642:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2===0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},7887:(e,t,n)=>{var r=n(5791),o=n(7574),i=n(6832),s=i&&i.isMap,a=s?o(s):r;e.exports=a},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),o=n(4657);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8122:(e,t,n)=>{var r=n(6686),o=n(6140),i=n(3516),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},8124:(e,t,n)=>{var r=n(6614),o=n(9621);e.exports=function(e,t){return r(e,o(e),t)}},8139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},8226:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fadeAnimationHandler=t.slideStopSwipingHandler=t.slideSwipeAnimationHandler=t.slideAnimationHandler=void 0;var r,o=n(5043),i=(r=n(178))&&r.__esModule?r:{default:r},s=n(564);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.slideAnimationHandler=function(e,t){var n={},r=t.selectedItem,a=r,c=o.Children.count(e.children)-1;if(e.infiniteLoop&&(r<0||r>c))return a<0?e.centerMode&&e.centerSlidePercentage&&"horizontal"===e.axis?n.itemListStyle=(0,s.setPosition)(-(c+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):n.itemListStyle=(0,s.setPosition)(100*-(c+2),e.axis):a>c&&(n.itemListStyle=(0,s.setPosition)(0,e.axis)),n;var u=(0,s.getPosition)(r,e),d=(0,i.default)(u,"%",e.axis),h=e.transitionTime+"ms";return n.itemListStyle={WebkitTransform:d,msTransform:d,OTransform:d,transform:d},t.swiping||(n.itemListStyle=l(l({},n.itemListStyle),{},{WebkitTransitionDuration:h,MozTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h})),n};t.slideSwipeAnimationHandler=function(e,t,n,r){var i={},a="horizontal"===t.axis,l=o.Children.count(t.children),c=(0,s.getPosition)(n.selectedItem,t),u=t.infiniteLoop?(0,s.getPosition)(l-1,t)-100:(0,s.getPosition)(l-1,t),d=a?e.x:e.y,h=d;0===c&&d>0&&(h=0),c===u&&d<0&&(h=0);var p=c+100/(n.itemSize/h),f=Math.abs(d)>t.swipeScrollTolerance;return t.infiniteLoop&&f&&(0===n.selectedItem&&p>-100?p-=100*l:n.selectedItem===l-1&&p<100*-l&&(p+=100*l)),(!t.preventMovementUntilSwipeScrollTolerance||f||n.swipeMovementStarted)&&(n.swipeMovementStarted||r({swipeMovementStarted:!0}),i.itemListStyle=(0,s.setPosition)(p,t.axis)),f&&!n.cancelClick&&r({cancelClick:!0}),i};t.slideStopSwipingHandler=function(e,t){var n=(0,s.getPosition)(t.selectedItem,e);return{itemListStyle:(0,s.setPosition)(n,e.axis)}};t.fadeAnimationHandler=function(e,t){var n=e.transitionTime+"ms",r="ease-in-out",o={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:r,msTransitionTimingFunction:r,MozTransitionTimingFunction:r,WebkitTransitionTimingFunction:r,OTransitionTimingFunction:r};return t.swiping||(o=l(l({},o),{},{WebkitTransitionDuration:n,MozTransitionDuration:n,OTransitionDuration:n,transitionDuration:n,msTransitionDuration:n})),{slideStyle:o,selectedStyle:l(l({},o),{},{opacity:1,position:"relative"}),prevStyle:l({},o)}}},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8268:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},8420:(e,t,n)=>{var r=n(1775),o=n(3211),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];i.call(e,t)&&o(s,n)&&(void 0!==n||t in e)||r(e,t,n)}},8443:(e,t,n)=>{"use strict";e.exports=n(9717)},8527:(e,t,n)=>{var r=n(4238),o=n(7377),i=o;i.v1=r,i.v4=o,e.exports=i},8541:(e,t,n)=>{var r=n(9812),o=n(149),i=n(4052),s=n(9841),a=r?r.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},8592:(e,t,n)=>{var r=n(4262),o=n(6326),i=n(474);e.exports=function(e){return r(e,i,o)}},8628:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(0===n.length)return!0;var r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?i===t.replace(/\/.*$/,""):o===t})}return!0}},8630:(e,t,n)=>{var r=n(1516),o=n(6806),i=n(8962),s=n(1295),a=n(8710);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return i(e);case"[object Symbol]":return s(e)}}},8656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(8139))&&r.__esModule?r:{default:r};var i={ROOT:function(e){return(0,o.default)(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,o.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,t){return(0,o.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":"horizontal"===t,"axis-vertical":"horizontal"!==t})},SLIDER:function(e,t){return(0,o.default)({thumbs:!e,slider:e,animated:!t})},ITEM:function(e,t,n){return(0,o.default)({thumb:!e,slide:e,selected:t,previous:n})},ARROW_PREV:function(e){return(0,o.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,o.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,o.default)({dot:!0,selected:e})}};t.default=i},8673:(e,t,n)=>{var r=n(3204),o=n(3713),i=n(6571);e.exports=function(e){return i(e)?r(e):o(e)}},8710:(e,t,n)=>{var r=n(1516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},8724:(e,t,n)=>{var r=n(7615),o=n(5051),i=n(2154),s=n(8734),a=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,e.exports=l},8734:(e,t,n)=>{var r=n(5575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},8883:(e,t,n)=>{var r=n(5652),o=n(6571);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,function(e,r,o){i[++n]=t(e,r,o)}),i}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),o=n(6179),i=n(6704);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=o,s.prototype.has=i,e.exports=s},8962:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},9057:(e,t,n)=>{var r=n(5324),o=n(2777),i=n(4052),s=n(9194),a=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&a(u)&&s(h,u)&&(i(e)||o(e))}},9075:(e,t,n)=>{var r=n(6614),o=n(6326);e.exports=function(e,t){return r(e,o(e),t)}},9096:(e,t,n)=>{var r=n(9256),o=n(5029),i=n(3279),s=n(4052),a=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?s(e)?o(e[0],e[1]):r(e):a(e)}},9128:(e,t,n)=>{"use strict";var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(5043),s=(r=i)&&r.__esModule?r:{default:r};t.A=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,i=void 0===r?24:r,a=e.height,l=void 0===a?24:a,c=e.style,u=void 0===c?{}:c,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return s.default.createElement("svg",o({viewBox:"0 0 24 24",style:o({fill:n,width:i,height:l},u)},d),s.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},9144:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=s(n(840)),o=s(n(6434)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function s(e){return e&&e.__esModule?e:{default:e}}var a=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,o.default)(e.default)||{};return t.map(function(t){var o=e[t];return o&&(0,r.default)(o,function(e,t){n[t]||(n[t]={}),n[t]=i({},n[t],o[t])}),t}),n};t.default=a},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9211:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,o=n(840),i=(r=o)&&r.__esModule?r:{default:r},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var a={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,i.default)(e,function(e,n){var r={};(0,i.default)(e,function(e,t){var n=a[t];n?r=s({},r,n(e)):r[t]=e}),t[n]=r}),t};t.default=l},9256:(e,t,n)=>{var r=n(6532),o=n(3781),i=n(1310);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9379:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(4705);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},9386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){return window}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),o=n(9621),i=n(8673);e.exports=function(e){return r(e,i,o)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9621:(e,t,n)=>{var r=n(7529),o=n(7828),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),function(t){return i.call(e,t)}))}:o;e.exports=a},9629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(8139)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(5043)),i=u(n(7950)),s=u(n(8527)),a=u(n(2010)),l=u(n(513));function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}var y=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=m(this,g(t).call(this,e))).state={maxHeight:e.expanded?"none":0,overflow:e.expanded?"visible":"hidden"},n}var n,c,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,c=[{key:"UNSAFE_componentWillMount",value:function(){this.uuid=this.props.uuid||s.default.v4()}},{key:"componentDidMount",value:function(){this.setMaxHeight(!1)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.children,r=t.disabled,o=t.expanded;if(e.expanded!==o){if(r)return;o?this.handleExpand():this.handleCollapse()}else e.children!==n&&this.setMaxHeight(!1)}},{key:"handleExpand",value:function(){var e=this.props,t=e.index,n=e.onExpand,r=e.slug;this.setMaxHeight(!1),n&&(r?n(r,t):n(t))}},{key:"handleCollapse",value:function(){var e=this.props,t=e.index,n=e.onClose,r=e.slug;this.setMaxHeight(!0),n&&(r?n(r,t):n(t))}},{key:"setMaxHeight",value:function(e){var t=this,n=this.props,r=n.duration,o=n.expanded;clearTimeout(this.timeout);var s=i.default.findDOMNode(this.refs.body),a=s.querySelectorAll("img");if(a.length>0)return this.preloadImages(s,a);this.setState({maxHeight:o||e?s.scrollHeight+"px":0,overflow:"hidden"}),this.timeout=o?setTimeout(function(){t.setState({maxHeight:"none",overflow:"visible"})},r):setTimeout(function(){t.setState({maxHeight:0})},0)}},{key:"preloadImages",value:function(e){for(var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=this.props,o=r.duration,i=r.expanded,s=0,a=function(){++s===n.length&&(i?(t.setState({maxHeight:"".concat(e.scrollHeight,"px")}),setTimeout(function(){t.setState({overflow:"visible"})},o)):t.setState({maxHeight:0,overflow:"hidden"}))},l=0;l<n.length;l+=1){var c=new Image;c.src=n[l].src,c.onload=c.onerror=a}}},{key:"getProps",value:function(){var e=this.props,t=e.className,n=e.disabled,o=e.disabledClassName,i=e.expanded,s=e.expandedClassName,a=e.style;return{className:(0,r.default)("react-sanfona-item",t,{"react-sanfona-item-expanded":i&&!n,"react-sanfona-item-disabled":n},s&&p({},s,i),o&&p({},o,n)),style:a}}},{key:"render",value:function(){var e=this.props,t=e.bodyClassName,n=e.bodyTag,r=e.children,i=e.disabled,s=e.duration,c=e.easing,u=e.onClick,d=e.onMouseOver,p=e.rootTag,f=e.title,m=e.titleClassName,g=e.titleTag,v=this.state,y=v.maxHeight,b=v.overflow;return o.default.createElement(p,h({},this.getProps(),{ref:"item"}),o.default.createElement(l.default,{className:m,expanded:this.props.expanded,onClick:i?null:u,onMouseOver:i?null:d,rootTag:g,title:f,uuid:this.uuid}),o.default.createElement(a.default,{className:t,duration:s,easing:c,expanded:this.props.expanded,maxHeight:y,overflow:b,ref:"body",rootTag:n,uuid:this.uuid},r))}}],c&&f(n.prototype,c),u&&f(n,u),t}(o.Component);t.default=y,y.defaultProps={rootTag:"div",titleTag:"h3",bodyTag:"div"}},9632:function(e,t,n){var r,o,i;o=[t,n(75)],r=function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(t);function r(e){return e&&e.__esModule?e:{default:e}}e.default=n.default},void 0===(i="function"===typeof r?r.apply(t,o):r)||(e.exports=i)},9717:(e,t,n)=>{"use strict";var r=n(5043),o=n(9461);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=o.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=a(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==o&&h.hasValue){var t=h.value;if(o(t,e))return a=t}return a=e}if(t=a,i(s,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(s=e,t):(s=e,a=n)}var s,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,o]);var p=s(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=p},[p]),u(p),p}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),o=n(2761);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},9935:(e,t,n)=>{var r=n(1340),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),o=n(2929),i=n(3211),s=n(3668),a=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var f=1&r;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=s(p(e),p(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&r;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+({42:"reactPlayerTwitch",85:"reactPlayerTiktok",173:"reactPlayerVimeo",262:"reactPlayerHls",340:"reactPlayerWistia",353:"reactPlayerPreview",395:"reactPlayerDash",446:"reactPlayerYouTube",723:"reactPlayerMux",771:"reactPlayerSpotify"}[e]||e)+"."+{42:"bf44ef9f",85:"f45df4d3",173:"86d22244",262:"81da8b3d",340:"88451b9b",353:"c2f54f72",372:"73d63ca6",395:"68b91efc",416:"db51ccee",446:"04a68179",723:"24ba70a3",771:"6f80a46f",788:"849a7ab8"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="rebate_admin:";n.l=(r,o,i,s)=>{if(e[r])e[r].push(o);else{var a,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=r),e[r]=[o];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((n,r)=>o=e[t]=[n,r]);r.push(o[2]=i);var s=n.p+n.u(t),a=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,o[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var o,i,[s,a,l]=r,c=0;if(s.some(t=>0!==e[t])){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)l(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkrebate_admin=self.webpackChunkrebate_admin||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(5043),t=n.t(e,2),r=n(4391),o=n(45),i=n(9379);const s=["sri"],a=["page"],l=["page","matches"],c=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],d=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var h="popstate";function p(){return w(function(e,t){let{pathname:n,search:r,hash:o}=e.location;return v("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:y(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function f(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function m(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function g(e,t){return{usr:e.state,key:e.key,idx:t}}function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return(0,i.A)((0,i.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function y(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function b(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function w(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:s=!1}=r,a=o.history,l="POP",c=null,u=d();function d(){return(a.state||{idx:null}).idx}function p(){l="POP";let e=d(),t=null==e?null:e-u;u=e,c&&c({action:l,location:m.location,delta:t})}function f(e){return x(e)}null==u&&(u=0,a.replaceState((0,i.A)((0,i.A)({},a.state),{},{idx:u}),""));let m={get action(){return l},get location(){return e(o,a)},listen(e){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(h,p),c=e,()=>{o.removeEventListener(h,p),c=null}},createHref:e=>t(o,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=v(m.location,e,t);n&&n(r,e),u=d()+1;let i=g(r,u),h=m.createHref(r);try{a.pushState(i,"",h)}catch(pw){if(pw instanceof DOMException&&"DataCloneError"===pw.name)throw pw;o.location.assign(h)}s&&c&&c({action:l,location:m.location,delta:1})},replace:function(e,t){l="REPLACE";let r=v(m.location,e,t);n&&n(r,e),u=d();let o=g(r,u),i=m.createHref(r);a.replaceState(o,"",i),s&&c&&c({action:l,location:m.location,delta:0})},go:e=>a.go(e)};return m}function x(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),f(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:y(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function k(e,t){return _(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function _(e,t,n,r){let o=L(("string"===typeof t?b(t):t).pathname||"/",n);if(null==o)return null;let i=C(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a){let e=F(o);s=j(i[a],e,r)}return s}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=function(e,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,a=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&s)return;f(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=H([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(f(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),C(e.children,t,u,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:P(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of S(e.path))i(e,t,!0,r);else i(e,t)}),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let s=S(r.join("/")),a=[];return a.push(...s.map(e=>""===e?i:[i,e].join("/"))),o&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}var E=/^:[\w-]+$/,T=3,A=2,D=1,N=10,O=-2,I=e=>"*"===e;function P(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=O),t&&(r+=A),n.filter(e=>!I(e)).reduce((e,t)=>e+(E.test(t)?T:""===t?D:N),r)}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},i="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),s.push({params:o,pathname:H([i,u.pathname]),pathnameBase:q(H([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=H([i,u.pathnameBase]))}return s}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=R(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=a[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:i,pathnameBase:s,pattern:e}}function R(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function F(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(pw){return m(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(pw,").")),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function z(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function B(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function U(e){let t=B(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function V(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=b(e):(r=(0,i.A)({},e),f(!r.pathname||!r.pathname.includes("?"),z("?","pathname","search",r)),f(!r.pathname||!r.pathname.includes("#"),z("#","pathname","hash",r)),f(!r.search||!r.search.includes("#"),z("#","search","hash",r)));let s,a=""===e||""===r.pathname,l=a?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!o&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:o=""}="string"===typeof e?b(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:W(r),hash:Y(o)}}(r,s),u=l&&"/"!==l&&l.endsWith("/"),d=(a||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!d||(c.pathname+="/"),c}var H=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function K(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var G=["POST","PUT","PATCH","DELETE"],$=(new Set(G),["GET",...G]);new Set($),Symbol("ResetLoaderData");var Q=e.createContext(null);Q.displayName="DataRouter";var J=e.createContext(null);J.displayName="DataRouterState";var X=e.createContext(!1);var Z=e.createContext({isTransitioning:!1});Z.displayName="ViewTransition";var ee=e.createContext(new Map);ee.displayName="Fetchers";var te=e.createContext(null);te.displayName="Await";var ne=e.createContext(null);ne.displayName="Navigation";var re=e.createContext(null);re.displayName="Location";var oe=e.createContext({outlet:null,matches:[],isDataRoute:!1});oe.displayName="Route";var ie=e.createContext(null);ie.displayName="RouteError";function se(){return null!=e.useContext(re)}function ae(){return f(se(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(re).location}var le="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ce(t){e.useContext(ne).static||e.useLayoutEffect(t)}function ue(){let{isDataRoute:t}=e.useContext(oe);return t?function(){let{router:t}=we("useNavigate"),n=ke("useNavigate"),r=e.useRef(!1);ce(()=>{r.current=!0});let o=e.useCallback(async function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(r.current,le),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,(0,i.A)({fromRouteId:n},o)))},[t,n]);return o}():function(){f(se(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(Q),{basename:n,navigator:r}=e.useContext(ne),{matches:o}=e.useContext(oe),{pathname:i}=ae(),s=JSON.stringify(U(o)),a=e.useRef(!1);ce(()=>{a.current=!0});let l=e.useCallback(function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(m(a.current,le),!a.current)return;if("number"===typeof e)return void r.go(e);let l=V(e,JSON.parse(s),i,"path"===o.relative);null==t&&"/"!==n&&(l.pathname="/"===l.pathname?n:H([n,l.pathname])),(o.replace?r.replace:r.push)(l,o.state,o)},[n,r,s,i,t]);return l}()}e.createContext(null);function de(){let{matches:t}=e.useContext(oe),n=t[t.length-1];return n?n.params:{}}function he(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext(oe),{pathname:o}=ae(),i=JSON.stringify(U(r));return e.useMemo(()=>V(t,JSON.parse(i),o,"path"===n),[t,i,o,n])}function pe(t,n,r,o,s){f(se(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=e.useContext(ne),{matches:l}=e.useContext(oe),c=l[l.length-1],u=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",p=c&&c.route;{let e=p&&p.path||"";Se(d,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let g,v=ae();if(n){var y;let e="string"===typeof n?b(n):n;f("/"===h||(null===(y=e.pathname)||void 0===y?void 0:y.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),g=e}else g=v;let w=g.pathname||"/",x=w;if("/"!==h){let e=h.replace(/^\//,"").split("/");x="/"+w.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=k(t,{pathname:x});m(p||null!=_,'No routes matched location "'.concat(g.pathname).concat(g.search).concat(g.hash,'" ')),m(null==_||void 0!==_[_.length-1].route.element||void 0!==_[_.length-1].route.Component||void 0!==_[_.length-1].route.lazy,'Matched leaf route at location "'.concat(g.pathname).concat(g.search).concat(g.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let C=ye(_&&_.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:H([h,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:H([h,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),l,r,o,s);return n&&C?e.createElement(re.Provider,{value:{location:(0,i.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:"POP"}},C):C}function fe(){let t=_e(),n=K(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:o},s={padding:"2px 4px",backgroundColor:o},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:s},"ErrorBoundary")," or"," ",e.createElement("code",{style:s},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:i},r):null,a)}var me=e.createElement(fe,null),ge=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?e.createElement(oe.Provider,{value:this.props.routeContext},e.createElement(ie.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ve(t){let{routeContext:n,match:r,children:o}=t,i=e.useContext(Q);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(oe.Provider,{value:n},o)}function ye(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let i=t,s=null===r||void 0===r?void 0:r.errors;if(null!=s){let e=i.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));f(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let a=!1,l=-1;if(r)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=r,o=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||o){a=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight((t,c,u)=>{let d,h=!1,p=null,f=null;r&&(d=s&&c.route.id?s[c.route.id]:void 0,p=c.route.errorElement||me,a&&(l<0&&0===u?(Se("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===u&&(h=!0,f=c.route.hydrateFallbackElement||null)));let m=n.concat(i.slice(0,u+1)),g=()=>{let n;return n=d?p:h?f:c.route.Component?e.createElement(c.route.Component,null):c.route.element?c.route.element:t,e.createElement(ve,{match:c,routeContext:{outlet:t,matches:m,isDataRoute:null!=r},children:n})};return r&&(c.route.ErrorBoundary||c.route.errorElement||0===u)?e.createElement(ge,{location:r.location,revalidation:r.revalidation,component:p,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:o}):g()},null)}function be(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function we(t){let n=e.useContext(Q);return f(n,be(t)),n}function xe(t){let n=e.useContext(J);return f(n,be(t)),n}function ke(t){let n=function(t){let n=e.useContext(oe);return f(n,be(t)),n}(t),r=n.matches[n.matches.length-1];return f(r.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),r.route.id}function _e(){var t;let n=e.useContext(ie),r=xe("useRouteError"),o=ke("useRouteError");return void 0!==n?n:null===(t=r.errors)||void 0===t?void 0:t[o]}var Ce={};function Se(e,t,n){t||Ce[e]||(Ce[e]=!0,m(!1,n))}var Ee={};function Te(e,t){e||Ee[t]||(Ee[t]=!0,console.warn(t))}e.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:o}=e;return pe(t,void 0,r,o,n)});function Ae(t){let{to:n,replace:r,state:o,relative:i}=t;f(se(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=e.useContext(ne);m(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=e.useContext(oe),{pathname:l}=ae(),c=ue(),u=V(n,U(a),l,"path"===i),d=JSON.stringify(u);return e.useEffect(()=>{c(JSON.parse(d),{replace:r,state:o,relative:i})},[c,d,i,r,o]),null}function De(e){f(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ne(t){let{basename:n="/",children:r=null,location:o,navigationType:i="POP",navigator:s,static:a=!1}=t;f(!se(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=e.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);"string"===typeof o&&(o=b(o));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:g="default"}=o,v=e.useMemo(()=>{let e=L(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:g},navigationType:i}},[l,u,d,h,p,g,i]);return m(null!=v,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==v?null:e.createElement(ne.Provider,{value:c},e.createElement(re.Provider,{children:r,value:v}))}function Oe(e){let{children:t,location:n}=e;return pe(Ie(t),n)}e.Component;function Ie(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,(t,o)=>{if(!e.isValidElement(t))return;let i=[...n,o];if(t.type===e.Fragment)return void r.push.apply(r,Ie(t.props.children,i));f(t.type===De,"[".concat("string"===typeof t.type?t.type:t.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),f(!t.props.index||!t.props.children,"An index route cannot have child routes.");let s={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,middleware:t.props.middleware,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(s.children=Ie(t.props.children,i)),r.push(s)}),r}var Pe="get",je="application/x-www-form-urlencoded";function Me(e){return null!=e&&"string"===typeof e.tagName}var Re=null;var Fe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Le(e){return null==e||Fe.has(e)?e:(m(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(je,'"')),null)}function ze(e,t){let n,r,o,i,s;if(Me(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?L(s,t):null,n=e.getAttribute("method")||Pe,o=Le(e.getAttribute("enctype"))||je,i=new FormData(e)}else if(function(e){return Me(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Me(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(r=a?L(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Pe,o=Le(e.getAttribute("formenctype"))||Le(s.getAttribute("enctype"))||je,i=new FormData(s,e),!function(){if(null===Re)try{new FormData(document.createElement("form"),0),Re=!1}catch(e){Re=!0}return Re}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(Me(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pe,r=null,o=je,s=e}var a;return i&&"text/plain"===o&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Be(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ue(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===L(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Ve(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(pw){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(pw),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function He(e){return null!=e&&"string"===typeof e.page}function qe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function We(e,t,n,r,o,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter((e,t)=>s(e,t)||a(e,t)):"data"===i?t.filter((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||a(t,i))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ye(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1),[...new Set(r)];var r}function Ke(e,t){let n=new Set,r=new Set(t);return e.reduce((e,o)=>{if(t&&!He(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(i)||(n.add(i),e.push({key:i,link:o})),e},[])}function Ge(e,t){return"lazy"===e.mode&&!0===t}function $e(){let t=e.useContext(Q);return Be(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Qe(){let t=e.useContext(J);return Be(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Je=e.createContext(void 0);function Xe(){let t=e.useContext(Je);return Be(t,"You must render this element inside a <HydratedRouter> element"),t}function Ze(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function et(e,t,n){if(n&&!ot)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}Je.displayName="FrameworkContext";function tt(t){let{page:n}=t,r=(0,o.A)(t,a),{router:s}=$e(),l=e.useMemo(()=>k(s.routes,n,s.basename),[s.routes,n,s.basename]);return l?e.createElement(rt,(0,i.A)({page:n,matches:l},r)):null}function nt(t){let{manifest:n,routeModules:r}=Xe(),[o,s]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){let r=await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ve(r,n);return e.links?e.links():[]}return[]}));return Ke(r.flat(1).filter(qe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,i.A)((0,i.A)({},e),{},{rel:"prefetch",as:"style"}):(0,i.A)((0,i.A)({},e),{},{rel:"prefetch"})))}(t,n,r).then(t=>{e||s(t)}),()=>{e=!0}},[t,n,r]),o}function rt(t){let{page:n,matches:r}=t,s=(0,o.A)(t,l),a=ae(),{manifest:c,routeModules:u}=Xe(),{basename:d}=$e(),{loaderData:h,matches:p}=Qe(),f=e.useMemo(()=>We(n,r,p,c,a,"data"),[n,r,p,c,a]),m=e.useMemo(()=>We(n,r,p,c,a,"assets"),[n,r,p,c,a]),g=e.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let o=c.routes[n.route.id];o&&o.hasLoader&&(!f.some(e=>e.route.id===n.route.id)&&n.route.id in h&&null!==(r=u[n.route.id])&&void 0!==r&&r.shouldRevalidate||o.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let o=Ue(n,d,"data");return t&&e.size>0&&o.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[o.pathname+o.search]},[d,h,a,c,f,r,n,u]),v=e.useMemo(()=>Ye(m,c),[m,c]),y=nt(m);return e.createElement(e.Fragment,null,g.map(t=>e.createElement("link",(0,i.A)({key:t,rel:"prefetch",as:"fetch",href:t},s))),v.map(t=>e.createElement("link",(0,i.A)({key:t,rel:"modulepreload",href:t},s))),y.map(t=>{let{key:n,link:r}=t;return e.createElement("link",(0,i.A)({key:n,nonce:s.nonce},r))}))}var ot=!1;function it(t){let{manifest:n,serverHandoffString:r,isSpaMode:a,renderMeta:l,routeDiscovery:c,ssr:u}=Xe(),{router:d,static:h,staticContext:p}=$e(),{matches:f}=Qe(),m=e.useContext(X),g=Ge(c,u);l&&(l.didRenderScripts=!0);let v=et(f,null,a);e.useEffect(()=>{0},[]);let y=e.useMemo(()=>{var a;if(m)return null;let l=p?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=h?"".concat(null!==n.hmr&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(v.map((e,t)=>{let r="route".concat(t),o=n.routes[e.route.id];Be(o,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=o,u=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];if(1===u.length)return"import * as ".concat(r," from ").concat(JSON.stringify(c),";");let d=u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),h="const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};");return[d,h].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=(0,o.A)(e,s),a=new Set(t.state.matches.map(e=>e.route.id)),l=t.state.location.pathname.split("/").filter(Boolean),c=["/"];for(l.pop();l.length>0;)c.push("/".concat(l.join("/"))),l.pop();c.forEach(e=>{let n=k(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let u=[...a].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return(0,i.A)((0,i.A)({},r),{},{routes:u,sri:!!n||void 0})}(n,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return e.createElement(e.Fragment,null,e.createElement("script",(0,i.A)((0,i.A)({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:l},type:void 0})),e.createElement("script",(0,i.A)((0,i.A)({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:c},type:"module",async:!0})))},[]),b=ot||m?[]:(n.entry.imports.concat(Ye(v,n,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let x="object"===typeof n.sri?n.sri:{};return Te(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ot||m?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,g?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:x[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:x[n.entry.module],suppressHydrationWarning:!0}),b.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:x[n],suppressHydrationWarning:!0})),y)}function st(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}e.Component;function at(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let o,i=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(K(n))return e.createElement(lt,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),i);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(lt,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),i)}function lt(t){var n;let{title:r,renderScripts:o,isOutsideRemixApp:i,children:s}=t,{routeModules:a}=Xe();return null!==a.root&&void 0!==n&&n.Layout&&!i?s:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,r)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,o?e.createElement(it,null):null)))}var ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ct&&(window.__reactRouterVersion="7.9.5")}catch(G1){}function ut(t){let{basename:n,children:r,window:o}=t,i=e.useRef();null==i.current&&(i.current=p({window:o,v5Compat:!0}));let s=i.current,[a,l]=e.useState({action:s.action,location:s.location}),c=e.useCallback(t=>{e.startTransition(()=>l(t))},[l]);return e.useLayoutEffect(()=>s.listen(c),[s,c]),e.createElement(Ne,{basename:n,children:r,location:a.location,navigationType:a.action,navigator:s})}var dt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=e.forwardRef(function(t,n){let r,{onClick:s,discover:a="render",prefetch:l="none",relative:u,reloadDocument:d,replace:h,state:p,target:g,to:v,preventScrollReset:b,viewTransition:w}=t,x=(0,o.A)(t,c),{basename:k}=e.useContext(ne),_="string"===typeof v&&dt.test(v),C=!1;if("string"===typeof v&&_&&(r=v,ct))try{let e=new URL(window.location.href),t=v.startsWith("//")?new URL(e.protocol+v):new URL(v),n=L(t.pathname,k);t.origin===e.origin&&null!=n?v=n+t.search+t.hash:C=!0}catch(G1){m(!1,'<Link to="'.concat(v,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(se(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=e.useContext(ne),{hash:i,pathname:s,search:a}=he(t,{relative:n}),l=s;return"/"!==r&&(l="/"===s?r:H([r,s])),o.createHref({pathname:l,search:a,hash:i})}(v,{relative:u}),[E,T,A]=function(t,n){let r=e.useContext(Je),[o,i]=e.useState(!1),[s,a]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=n,p=e.useRef(null);e.useEffect(()=>{if("render"===t&&a(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(o){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[o]);let f=()=>{i(!0)},m=()=>{i(!1),a(!1)};return r?"intent"!==t?[s,p,{}]:[s,p,{onFocus:Ze(l,f),onBlur:Ze(c,m),onMouseEnter:Ze(u,f),onMouseLeave:Ze(d,m),onTouchStart:Ze(h,f)}]:[!1,p,{}]}(l,x),D=function(t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ue(),c=ae(),u=he(t,{relative:s});return e.useCallback(e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:y(c)===y(u);l(t,{replace:n,state:o,preventScrollReset:i,relative:s,viewTransition:a})}},[c,l,u,r,o,n,t,i,s,a])}(v,{replace:h,state:p,target:g,preventScrollReset:b,relative:u,viewTransition:w});let N=e.createElement("a",(0,i.A)((0,i.A)((0,i.A)({},x),A),{},{href:r||S,onClick:C||d?s:function(e){s&&s(e),e.defaultPrevented||D(e)},ref:st(n,T),target:g,"data-discover":_||"render"!==a?void 0:"true"}));return E&&!_?e.createElement(e.Fragment,null,N,e.createElement(tt,{page:S})):N});ht.displayName="Link";var pt=e.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:l=!1,style:c,to:d,viewTransition:h,children:p}=t,m=(0,o.A)(t,u),g=he(d,{relative:m.relative}),v=ae(),y=e.useContext(J),{navigator:b,basename:w}=e.useContext(ne),x=null!=y&&function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(Z);f(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=gt("useViewTransitionState"),i=he(t,{relative:n});if(!r.isTransitioning)return!1;let s=L(r.currentLocation.pathname,o)||r.currentLocation.pathname,a=L(r.nextLocation.pathname,o)||r.nextLocation.pathname;return null!=M(i.pathname,a)||null!=M(i.pathname,s)}(g)&&!0===h,k=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,_=v.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;s||(_=_.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&w&&(C=L(C,w)||C);const S="/"!==k&&k.endsWith("/")?k.length-1:k.length;let E,T=_===k||!l&&_.startsWith(k)&&"/"===_.charAt(S),A=null!=C&&(C===k||!l&&C.startsWith(k)&&"/"===C.charAt(k.length)),D={isActive:T,isPending:A,isTransitioning:x},N=T?r:void 0;E="function"===typeof a?a(D):[a,T?"active":null,A?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let O="function"===typeof c?c(D):c;return e.createElement(ht,(0,i.A)((0,i.A)({},m),{},{"aria-current":N,className:E,ref:n,style:O,to:d,viewTransition:h}),"function"===typeof p?p(D):p)});pt.displayName="NavLink";var ft=e.forwardRef((t,n)=>{let{discover:r="render",fetcherKey:s,navigate:a,reloadDocument:l,replace:c,state:u,method:h=Pe,action:p,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:b}=t,w=(0,o.A)(t,d),x=bt(),k=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(ne),o=e.useContext(oe);f(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),a=(0,i.A)({},he(t||".",{relative:n})),l=ae();if(null==t){a.search=l.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?"?".concat(n):""}}t&&"."!==t||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(a.pathname="/"===a.pathname?r:H([r,a.pathname]));return y(a)}(p,{relative:g}),_="get"===h.toLowerCase()?"get":"post",C="string"===typeof p&&dt.test(p);return e.createElement("form",(0,i.A)((0,i.A)({ref:n,method:_,action:k,onSubmit:l?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||h;x(t||e.currentTarget,{fetcherKey:s,method:n,navigate:a,replace:c,state:u,relative:g,preventScrollReset:v,viewTransition:b})}},w),{},{"data-discover":C||"render"!==r?void 0:"true"}))});function mt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function gt(t){let n=e.useContext(Q);return f(n,mt(t)),n}ft.displayName="Form";var vt=0,yt=()=>"__".concat(String(++vt),"__");function bt(){let{router:t}=gt("useSubmit"),{basename:n}=e.useContext(ne),r=ke("useRouteId");return e.useCallback(async function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:a,formData:l,body:c}=ze(e,n);if(!1===o.navigate){let e=o.fetcherKey||yt();await t.fetch(e,r,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,flushSync:o.flushSync})}else await t.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,n,r])}var wt={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function xt(e){var t=function(e){if("number"===typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return wt[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var kt=function(){return kt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kt.apply(this,arguments)},_t=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Ct=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var o=document.createElement("style");document.head.appendChild(o);var i=o.sheet,s="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return i&&i.insertRule(s,0),r}("PulseLoader","0% {transform: scale(1); opacity: 1} 45% {transform: scale(0.1); opacity: 0.7} 80% {transform: scale(1); opacity: 1}","pulse");const St=function(t){var n=t.loading,r=void 0===n||n,o=t.color,i=void 0===o?"#000000":o,s=t.speedMultiplier,a=void 0===s?1:s,l=t.cssOverride,c=void 0===l?{}:l,u=t.size,d=void 0===u?15:u,h=t.margin,p=void 0===h?2:h,f=_t(t,["loading","color","speedMultiplier","cssOverride","size","margin"]),m=kt({display:"inherit"},c),g=function(e){return{backgroundColor:i,width:xt(d),height:xt(d),margin:xt(p),borderRadius:"100%",display:"inline-block",animation:"".concat(Ct," ").concat(.75/a,"s ").concat(.12*e/a,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return r?e.createElement("span",kt({style:m},f),e.createElement("span",{style:g(1)}),e.createElement("span",{style:g(2)}),e.createElement("span",{style:g(3)})):null};var Et=n(579);class Tt extends e.Component{render(){if(!0===this.props.loading)return(0,Et.jsx)("div",{style:{marginTop:"200px",textAlign:"center",position:"absolute",left:"0px",top:"0px",width:"100%"},children:(0,Et.jsx)(St,{color:"#fff",loading:!0})})}}const At=Tt,Dt=n.p+"static/media/sqwad_white_logo_w_text.370dc09c95db663836a2.png",Nt=!1,Ot=!1,It="${JSCORE_VERSION}",Pt=function(e,t){if(!e)throw jt(t)},jt=function(e){return new Error("Firebase Database ("+It+") INTERNAL ASSERT FAILED: "+e)},Mt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},Rt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],i=o+1<e.length,s=i?e[o+1]:0,a=o+2<e.length,l=a?e[o+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Mt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],i=o<e.length?n[e.charAt(o)]:0;++o;const s=o<e.length?n[e.charAt(o)]:64;++o;const a=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==i||null==s||null==a)throw new Ft;const l=t<<2|i>>4;if(r.push(l),64!==s){const e=i<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ft extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lt=function(e){const t=Mt(e);return Rt.encodeByteArray(t,!0)},zt=function(e){return Lt(e).replace(/\./g,"")},Bt=function(e){try{return Rt.decodeString(e,!0)}catch(G1){console.error("base64Decode failed: ",G1)}return null};function Ut(e){return Vt(void 0,e)}function Vt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&Ht(n)&&(e[n]=Vt(e[n],t[n]));return e}function Ht(e){return"__proto__"!==e}function qt(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Wt=()=>{try{return qt().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_FIREBASE_DATABASE:"https://sqwad-rebate-app.firebaseio.com",REACT_APP_FIREBASE_SENDER_ID:"827574824663",REACT_APP_FIREBASE_DOMAIN:"sqwad-rebate-app.firebaseapp.com",REACT_APP_SHOPIFY_SERVICE_URL:"https://ent-guns-supporters-corrections.trycloudflare.com",REACT_APP_FIREBASE_STORAGE_BUCKET:"sqwad-rebate-app.firebasestorage.app",REACT_APP_FIREBASE_KEY:"AIzaSyAQO8xXX2hfzeEwqXZu2KanqTXhU0hvzsM",REACT_APP_ID:"1:827574824663:web:b32ac87da74b6a81270a92",REACT_APP_FIREBASE_PROJECT_ID:"sqwad-rebate-app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(G1){return}const t=e&&Bt(e[1]);return t&&JSON.parse(t)})()}catch(G1){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(G1))}},Yt=e=>{var t;return null===(t=Wt())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},Kt=e=>{const t=Yt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Gt=()=>{var e;return null===(e=Wt())||void 0===e?void 0:e.config},$t=e=>{var t;return null===(t=Wt())||void 0===t?void 0:t["_".concat(e)]};class Qt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Jt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Xt(e){return(await fetch(e,{credentials:"include"})).ok}function Zt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=(0,i.A)({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[zt(JSON.stringify({alg:"none",type:"JWT"})),zt(JSON.stringify(s)),""].join(".")}const en={};let tn=!1;function nn(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Jt(window.location.host)||en[e]===t||en[e]||tn)return;function n(e){return"__firebase__banner__".concat(e)}en[e]=t;const r="__firebase__banner",o=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(en))en[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{tn=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}o?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function rn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function on(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function sn(){var e;const t=null===(e=Wt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(G1){return!1}}function an(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ln(){return!0===Nt||!0===Ot}function cn(){return!sn()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function un(){try{return"object"===typeof indexedDB}catch(G1){return!1}}class dn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hn.prototype.create)}}class hn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],o=r?function(e,t){return e.replace(pn,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(o," (").concat(n,").");return new dn(n,i,t)}}const pn=/\{\$([^}]+)}/g;function fn(e){return JSON.parse(e)}function mn(e){return JSON.stringify(e)}const gn=function(e){let t={},n={},r={},o="";try{const i=e.split(".");t=fn(Bt(i[0])||""),n=fn(Bt(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(G1){}return{header:t,claims:n,data:r,signature:o}};function vn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function yn(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function bn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function wn(e,t,n){const r={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}function xn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(kn(n)&&kn(i)){if(!xn(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function kn(e){return null!==e&&"object"===typeof e}function _n(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Cn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Sn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class En{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,o,i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),o=1518500249):(r=s^a^l,o=1859775393):u<60?(r=s&a|l&(s|a),o=2400959708):(r=s^a^l,o=3395469782);const e=(i<<5|i>>>27)+r+c+o+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=i,i=e}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const o=this.buf_;let i=this.inbuf_;for(;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++i,++r,i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++i,++r,i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class Tn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=An),void 0===r.error&&(r.error=An),void 0===r.complete&&(r.complete=An);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(G1){}}),this.observers.push(r),o}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(G1){"undefined"!==typeof console&&console.error&&console.error(G1)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function An(){}function Dn(e,t){return"".concat(e," failed: ").concat(t," argument ")}const Nn=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function On(e){return e&&e._delegate?e._delegate:e}class In{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Pn="[DEFAULT]";class jn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Qt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(G1){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(G1){if(r)return null;throw G1}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pn})}catch(G1){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(G1){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(o=t,o===Pn?void 0:o),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var o;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn;return this.component?this.component.multipleInstances?e:Pn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Mn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Rn=[];var Fn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Fn||(Fn={}));const Ln={debug:Fn.DEBUG,verbose:Fn.VERBOSE,info:Fn.INFO,warn:Fn.WARN,error:Fn.ERROR,silent:Fn.SILENT},zn=Fn.INFO,Bn={[Fn.DEBUG]:"log",[Fn.VERBOSE]:"log",[Fn.INFO]:"info",[Fn.WARN]:"warn",[Fn.ERROR]:"error"},Un=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Bn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var o=arguments.length,i=new Array(o>2?o-2:0),s=2;s<o;s++)i[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class Vn{constructor(e){this.name=e,this._logLevel=zn,this._logHandler=Un,this._userLogHandler=null,Rn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ln[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fn.DEBUG,...t),this._logHandler(this,Fn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fn.VERBOSE,...t),this._logHandler(this,Fn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fn.INFO,...t),this._logHandler(this,Fn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fn.WARN,...t),this._logHandler(this,Fn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Fn.ERROR,...t),this._logHandler(this,Fn.ERROR,...t)}}let Hn,qn;const Wn=new WeakMap,Yn=new WeakMap,Kn=new WeakMap,Gn=new WeakMap,$n=new WeakMap;let Qn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Yn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Kn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Jn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qn||(qn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(er(this),n),Zn(Wn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zn(e.apply(er(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.call(er(this),t,...r);return Kn.set(i,t.sort?t.sort():[t]),Zn(i)}}function Xn(e){return"function"===typeof e?Jn(e):(e instanceof IDBTransaction&&function(e){if(Yn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});Yn.set(e,t)}(e),t=e,(Hn||(Hn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Qn):e);var t}function Zn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(Zn(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&Wn.set(t,e)}).catch(()=>{}),$n.set(t,e),t}(e);if(Gn.has(e))return Gn.get(e);const t=Xn(e);return t!==e&&(Gn.set(e,t),$n.set(t,e)),t}const er=e=>$n.get(e);const tr=["get","getKey","getAll","getAllKeys","count"],nr=["put","add","delete","clear"],rr=new Map;function or(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(rr.get(t))return rr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=nr.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!tr.includes(n))return;const i=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let i=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(i=i.index(a.shift())),(await Promise.all([i[n](...a),o&&t.done]))[0]};return rr.set(t,i),i}Qn=(e=>(0,i.A)((0,i.A)({},e),{},{get:(t,n,r)=>or(t,n)||e.get(t,n,r),has:(t,n)=>!!or(t,n)||e.has(t,n)}))(Qn);class ir{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const sr="@firebase/app",ar="0.14.4",lr=new Vn("@firebase/app"),cr="@firebase/app-compat",ur="@firebase/analytics-compat",dr="@firebase/analytics",hr="@firebase/app-check-compat",pr="@firebase/app-check",fr="@firebase/auth",mr="@firebase/auth-compat",gr="@firebase/database",vr="@firebase/data-connect",yr="@firebase/database-compat",br="@firebase/functions",wr="@firebase/functions-compat",xr="@firebase/installations",kr="@firebase/installations-compat",_r="@firebase/messaging",Cr="@firebase/messaging-compat",Sr="@firebase/performance",Er="@firebase/performance-compat",Tr="@firebase/remote-config",Ar="@firebase/remote-config-compat",Dr="@firebase/storage",Nr="@firebase/storage-compat",Or="@firebase/firestore",Ir="@firebase/ai",Pr="@firebase/firestore-compat",jr="firebase",Mr="[DEFAULT]",Rr={[sr]:"fire-core",[cr]:"fire-core-compat",[dr]:"fire-analytics",[ur]:"fire-analytics-compat",[pr]:"fire-app-check",[hr]:"fire-app-check-compat",[fr]:"fire-auth",[mr]:"fire-auth-compat",[gr]:"fire-rtdb",[vr]:"fire-data-connect",[yr]:"fire-rtdb-compat",[br]:"fire-fn",[wr]:"fire-fn-compat",[xr]:"fire-iid",[kr]:"fire-iid-compat",[_r]:"fire-fcm",[Cr]:"fire-fcm-compat",[Sr]:"fire-perf",[Er]:"fire-perf-compat",[Tr]:"fire-rc",[Ar]:"fire-rc-compat",[Dr]:"fire-gcs",[Nr]:"fire-gcs-compat",[Or]:"fire-fst",[Pr]:"fire-fst-compat",[Ir]:"fire-vertex","fire-js":"fire-js",[jr]:"fire-js-all"},Fr=new Map,Lr=new Map,zr=new Map;function Br(e,t){try{e.container.addComponent(t)}catch(G1){lr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),G1)}}function Ur(e){const t=e.name;if(zr.has(t))return lr.debug("There were multiple attempts to register component ".concat(t,".")),!1;zr.set(t,e);for(const n of Fr.values())Br(n,e);for(const n of Lr.values())Br(n,e);return!0}function Vr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Hr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const qr=new hn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Wr{constructor(e,t,n){this._isDeleted=!1,this._options=(0,i.A)({},e),this._config=(0,i.A)({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new In("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const Yr="12.4.0";function Kr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=(0,i.A)({name:Mr,automaticDataCollectionEnabled:!0},t),o=r.name;if("string"!==typeof o||!o)throw qr.create("bad-app-name",{appName:String(o)});if(n||(n=Gt()),!n)throw qr.create("no-options");const s=Fr.get(o);if(s){if(xn(n,s.options)&&xn(r,s.config))return s;throw qr.create("duplicate-app",{appName:o})}const a=new Mn(o);for(const i of zr.values())a.addComponent(i);const l=new Wr(n,r,a);return Fr.set(o,l),l}function Gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mr;const t=Fr.get(e);if(!t&&e===Mr&&Gt())return Kr();if(!t)throw qr.create("no-app",{appName:e});return t}function $r(){return Array.from(Fr.values())}function Qr(e,t,n){var r;let o=null!==(r=Rr[e])&&void 0!==r?r:e;n&&(o+="-".concat(n));const i=o.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),i&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void lr.warn(e.join(" "))}Ur(new In("".concat(o,"-version"),()=>({library:o,version:t}),"VERSION"))}const Jr="firebase-heartbeat-store";let Xr=null;function Zr(){return Xr||(Xr=function(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Zn(s);return r&&s.addEventListener("upgradeneeded",e=>{r(Zn(s.result),e.oldVersion,e.newVersion,Zn(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{i&&e.addEventListener("close",()=>i()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Jr)}catch(G1){console.warn(G1)}}}).catch(e=>{throw qr.create("idb-open",{originalErrorMessage:e.message})})),Xr}async function eo(e,t){try{const n=(await Zr()).transaction(Jr,"readwrite"),r=n.objectStore(Jr);await r.put(t,to(e)),await n.done}catch(G1){if(G1 instanceof dn)lr.warn(G1.message);else{const t=qr.create("idb-set",{originalErrorMessage:null===G1||void 0===G1?void 0:G1.message});lr.warn(t.message)}}}function to(e){return"".concat(e.name,"!").concat(e.options.appId)}class no{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oo(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ro();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(G1){lr.warn(G1)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ro(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const o of e){const e=n.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),io(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),io(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=zt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(G1){return lr.warn(G1),""}}}function ro(){return(new Date).toISOString().substring(0,10)}class oo{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!un()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(pw){t(pw)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Zr()).transaction(Jr),n=await t.objectStore(Jr).get(to(e));return await t.done,n}catch(G1){if(G1 instanceof dn)lr.warn(G1.message);else{const t=qr.create("idb-get",{originalErrorMessage:null===G1||void 0===G1?void 0:G1.message});lr.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return eo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return eo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function io(e){return zt(JSON.stringify({version:2,heartbeats:e})).length}var so;so="",Ur(new In("platform-logger",e=>new ir(e),"PRIVATE")),Ur(new In("heartbeat",e=>new no(e),"PRIVATE")),Qr(sr,ar,so),Qr(sr,ar,"esm2020"),Qr("fire-js","");const ao=["providerId"],lo=["uid","auth","stsTokenManager"],co=["providerId","signInMethod"];function uo(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ho=uo,po=new hn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fo=new Vn("@firebase/auth");function mo(e){if(fo.logLevel<=Fn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];fo.error("Auth (".concat(Yr,"): ").concat(e),...n)}}function go(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw wo(e,...n)}function vo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return wo(e,...n)}function yo(e,t,n){const r=(0,i.A)((0,i.A)({},ho()),{},{[t]:n});return new hn("auth","Firebase",r).create(t,{appName:e.name})}function bo(e){return yo(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return po.create(e,...n)}function xo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];throw wo(t,...r)}}function ko(e){const t="INTERNAL ASSERTION FAILED: "+e;throw mo(t),new Error(t)}function _o(e,t){e||ko(t)}function Co(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function So(){return"http:"===Eo()||"https:"===Eo()}function Eo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function To(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(So()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ao{constructor(e,t){this.shortDelay=e,this.longDelay=t,_o(t>e,"Short delay should be less than long delay!"),this.isMobile=on()||an()}get(){return To()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Do(e,t){_o(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class No{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ko("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ko("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ko("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Oo={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Io=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Po=new Ao(3e4,6e4);function jo(e,t){return e.tenantId&&!t.tenantId?(0,i.A)((0,i.A)({},t),{},{tenantId:e.tenantId}):t}async function Mo(e,t,n,r){return Ro(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const a=_n((0,i.A)({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=(0,i.A)({method:t,headers:l},o);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&Jt(e.emulatorConfig.host)&&(c.credentials="include"),No.fetch()(await Lo(e,e.config.apiHost,n,a),c)})}async function Ro(e,t,n){e._canInitEmulator=!1;const r=(0,i.A)((0,i.A)({},Oo),t);try{const t=new Bo(e),o=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Uo(e,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const t=o.ok?i.errorMessage:i.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Uo(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw Uo(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw Uo(e,"user-disabled",i);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw yo(e,a,s);go(e,a)}}catch(G1){if(G1 instanceof dn)throw G1;go(e,"network-request-failed",{message:String(G1)})}}async function Fo(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await Mo(e,t,n,r,o);return"mfaPendingCredential"in i&&go(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function Lo(e,t,n,r){const o="".concat(t).concat(n,"?").concat(r),i=e,s=i.config.emulator?Do(e.config,o):"".concat(e.config.apiScheme,"://").concat(o);if(Io.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(s).toString()}return s}function zo(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bo{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(vo(this.auth,"network-request-failed")),Po.get())})}}function Uo(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=vo(e,t,r);return o.customData._tokenResponse=n,o}function Vo(e){return void 0!==e&&void 0!==e.enterprise}class Ho{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zo(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qo(e,t){return Mo(e,"GET","/v2/recaptchaConfig",jo(e,t))}async function Wo(e,t){return Mo(e,"POST","/v1/accounts:lookup",t)}function Yo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(G1){}}function Ko(e){return 1e3*Number(e)}function Go(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return mo("JWT malformed, contained fewer than 3 sections"),null;try{const e=Bt(n);return e?JSON.parse(e):(mo("Failed to decode base64 JWT payload"),null)}catch(G1){return mo("Caught error parsing JWT payload as JSON",null===G1||void 0===G1?void 0:G1.toString()),null}}function $o(e){const t=Go(e);return xo(t,"internal-error"),xo("undefined"!==typeof t.exp,"internal-error"),xo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Qo(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(G1){throw G1 instanceof dn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(G1)&&e.auth.currentUser===e&&await e.auth.signOut(),G1}}class Jo{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(G1){return void((null===G1||void 0===G1?void 0:G1.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Xo{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yo(this.lastLoginAt),this.creationTime=Yo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zo(e){var t;const n=e.auth,r=await e.getIdToken(),o=await Qo(e,Wo(n,{idToken:r}));xo(null===o||void 0===o?void 0:o.users.length,n,"internal-error");const i=o.users[0];e._notifyReloadListener(i);const s=null!==(t=i.providerUserInfo)&&void 0!==t&&t.length?ei(i.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null!==a&&void 0!==a&&a.length),h=!!u&&d,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Xo(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function ei(e){return e.map(e=>{let{providerId:t}=e,n=(0,o.A)(e,ao);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xo(e.idToken,"internal-error"),xo("undefined"!==typeof e.idToken,"internal-error"),xo("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):$o(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xo(0!==e.length,"internal-error");const t=$o(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(xo(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:o}=await async function(e,t){const n=await Ro(e,{},async()=>{const n=_n({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,i=await Lo(e,r,"/v1/token","key=".concat(o)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:n};return e.emulatorConfig&&Jt(e.emulatorConfig.host)&&(a.credentials="include"),No.fetch()(i,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:o}=t,i=new ti;return n&&(xo("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(xo("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),o&&(xo("number"===typeof o,"internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ti,this.toJSON())}_performRefresh(){return ko("not implemented")}}function ni(e,t){xo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ri{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=(0,o.A)(e,lo);this.providerId="firebase",this.proactiveRefresh=new Jo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Xo(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return xo(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=On(e),r=await n.getIdToken(t),o=Go(r);xo(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"===typeof o.firebase?o.firebase:void 0,s=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:Yo(Ko(o.auth_time)),issuedAtTime:Yo(Ko(o.iat)),expirationTime:Yo(Ko(o.exp)),signInProvider:s||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=On(e);await Zo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(xo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>(0,i.A)({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ri((0,i.A)((0,i.A)({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Zo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hr(this.auth.app))return Promise.reject(bo(this.auth));const e=await this.getIdToken();return await Qo(this,async function(e,t){return Mo(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return(0,i.A)((0,i.A)({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>(0,i.A)({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,o,s,a,l,c,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:k,stsTokenManager:_}=t;xo(b&&_,e,"internal-error");const C=ti.fromJSON(this.name,_);xo("string"===typeof b,e,"internal-error"),ni(d,e.name),ni(h,e.name),xo("boolean"===typeof w,e,"internal-error"),xo("boolean"===typeof x,e,"internal-error"),ni(p,e.name),ni(f,e.name),ni(m,e.name),ni(g,e.name),ni(v,e.name),ni(y,e.name);const S=new ri({uid:b,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:x,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:C,createdAt:v,lastLoginAt:y});return k&&Array.isArray(k)&&(S.providerData=k.map(e=>(0,i.A)({},e))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new ti;r.updateFromServerResponse(t);const o=new ri({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Zo(o),o}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];xo(void 0!==r.localId,"internal-error");const o=void 0!==r.providerUserInfo?ei(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null!==o&&void 0!==o&&o.length),s=new ti;s.updateFromIdToken(n);const a=new ri({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Xo(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==o&&void 0!==o&&o.length)};return Object.assign(a,l),a}}const oi=new Map;function ii(e){_o(e instanceof Function,"Expected a class definition");let t=oi.get(e);return t?(_o(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,oi.set(e,t),t)}class si{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}si.type="NONE";const ai=si;function li(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ci{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:o}=this.auth;this.fullUserKey=li(this.userKey,r.apiKey,o),this.fullPersistenceKey=li("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Wo(this.auth,{idToken:e}).catch(()=>{});return t?ri._fromGetAccountInfoResponse(this.auth,t,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ci(ii(ai),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let o=r[0]||ii(ai);const i=li(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await Wo(e,{idToken:t}).catch(()=>{});if(!r)break;n=await ri._fromGetAccountInfoResponse(e,r,t)}else n=ri._fromJSON(e,t);c!==o&&(s=n),o=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return o._shouldAllowMigration&&a.length?(o=a[0],s&&await o._set(i,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==o)try{await e._remove(i)}catch(t){}})),new ci(o,e,n)):new ci(o,e,n)}}function ui(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(di(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gi(t))return"Blackberry";if(vi(t))return"Webos";if(hi(t))return"Safari";if((t.includes("chrome/")||pi(t))&&!t.includes("edge/"))return"Chrome";if(mi(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function di(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn();return/firefox\//i.test(e)}function hi(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn();return/crios\//i.test(e)}function fi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn();return/iemobile/i.test(e)}function mi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn();return/android/i.test(e)}function gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn();return/blackberry/i.test(e)}function vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn();return/webos/i.test(e)}function yi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function bi(){return function(){const e=rn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function wi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn();return yi(e)||mi(e)||vi(e)||gi(e)||/windows phone/i.test(e)||fi(e)}function xi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ui(rn());break;case"Worker":t="".concat(ui(rn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Yr,"/").concat(r)}class ki{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(G1){r(G1)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(G1){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===G1||void 0===G1?void 0:G1.message})}}}class _i{constructor(e){var t,n,r,o;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,o,i,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(o=a.containsUppercaseLetter)||void 0===o||o),a.isValid&&(a.isValid=null===(i=a.containsNumericCharacter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Ci{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ei(this),this.idTokenSubscription=new Ei(this),this.beforeStateQueue=new ki(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=po,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ii(t)),this._initializationPromise=this.queue(async()=>{var n,r,o;if(!this._deleted&&(this.persistenceManager=await ci.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(G1){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(o=this.currentUser)||void 0===o?void 0:o.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Wo(this,{idToken:e}),n=await ri._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var o,i;await this.getOrInitRedirectPersistenceManager();const t=null===(o=this.redirectUser)||void 0===o?void 0:o._redirectEventId,s=null===(i=n)||void 0===i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);t&&t!==s||null===a||void 0===a||!a.user||(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(G1){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(G1))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return xo(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(G1){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zo(e)}catch(G1){if((null===G1||void 0===G1?void 0:G1.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hr(this.app))return Promise.reject(bo(this));const t=e?On(e):null;return t&&xo(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&xo(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hr(this.app)?Promise.reject(bo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hr(this.app)?Promise.reject(bo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Mo(e,"GET","/v2/passwordPolicy",jo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new _i(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Mo(e,"POST","/v2/accounts:revokeToken",jo(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ii(e)||this._popupRedirectResolver;xo(t,this,"argument-error"),this.redirectPersistenceManager=await ci.create(this,[ii(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const o="function"===typeof t?t:t.next.bind(t);let i=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(xo(s,this,"internal-error"),s.then(()=>{i||o(this.currentUser)}),"function"===typeof t){const o=e.addObserver(t,n,r);return()=>{i=!0,o()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xo(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(fo.logLevel<=Fn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];fo.warn("Auth (".concat(Yr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Si(e){return On(e)}class Ei{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Tn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return xo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ti={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ai(e){return Ti.loadJS(e)}function Di(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ni{constructor(){this.enterprise=new Oi}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Oi{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ii="NO_RECAPTCHA";class Pi{constructor(e){this.type="recaptcha-enterprise",this.auth=Si(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const o=window.grecaptcha;Vo(o)?o.enterprise.ready(()=>{o.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Ii)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ni).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{qo(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Ho(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(o=>{if(!t&&Vo(window.grecaptcha))n(o,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ti.recaptchaEnterpriseScript;0!==t.length&&(t+=o),Ai(t).then(()=>{n(o,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function ji(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Pi(e);let a;if(o)a=Ii;else try{a=await s.verify(n)}catch(pw){a=await s.verify(n,!0)}const l=(0,i.A)({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in l){const e=l.phoneEnrollmentInfo.phoneNumber,t=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const e=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Mi(e,t,n,r,o){if("EMAIL_PASSWORD_PROVIDER"===o){var i;if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ji(e,t,n,"getOobCode"===n);return r(e,o)}return r(e,t).catch(async o=>{if(o.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const o=await ji(e,t,n,"getOobCode"===n);return r(e,o)}return Promise.reject(o)})}if("PHONE_PROVIDER"===o){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const o=await ji(e,t,n);return r(e,o).catch(async o=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(o.code==="auth/".concat("missing-recaptcha-token")||o.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const o=await ji(e,t,n,!1,!0);return r(e,o)}return Promise.reject(o)})}{const o=await ji(e,t,n,!1,!0);return r(e,o)}}return Promise.reject(o+" provider is not supported.")}async function Ri(e){const t=Si(e),n=await qo(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Ho(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Pi(t).verify()}}function Fi(e,t,n){const r=Si(e);xo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!(null===n||void 0===n||!n.disableWarnings),i=Li(t),{host:s,port:a}=function(e){const t=Li(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const e=o[1];return{host:e,port:zi(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:zi(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(i,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator)return xo(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void xo(xn(c,r.config.emulator)&&xn(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Jt(s)?(Xt("".concat(i,"//").concat(s).concat(l)),nn("Auth",!0)):o||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Li(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function zi(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Bi{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ko("not implemented")}_getIdTokenResponse(e){return ko("not implemented")}_linkToIdToken(e,t){return ko("not implemented")}_getReauthenticationResolver(e){return ko("not implemented")}}async function Ui(e,t){return Mo(e,"POST","/v1/accounts:signUp",t)}async function Vi(e,t){return Fo(e,"POST","/v1/accounts:signInWithPassword",jo(e,t))}class Hi extends Bi{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Hi(e,t,"password")}static _fromEmailAndCode(e,t){return new Hi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Mi(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Vi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Fo(e,"POST","/v1/accounts:signInWithEmailLink",jo(e,t))}(e,{email:this._email,oobCode:this._password});default:go(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Mi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ui,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Fo(e,"POST","/v1/accounts:signInWithEmailLink",jo(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:go(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function qi(e,t){return Fo(e,"POST","/v1/accounts:signInWithIdp",jo(e,t))}class Wi extends Bi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):go("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,o.A)(t,co);if(!n||!r)return null;const s=new Wi(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return qi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,qi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_n(t)}return e}}async function Yi(e,t){return Mo(e,"POST","/v1/accounts:sendVerificationCode",jo(e,t))}const Ki={USER_NOT_FOUND:"user-not-found"};class Gi extends Bi{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Gi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Gi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Fo(e,"POST","/v1/accounts:signInWithPhoneNumber",jo(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Fo(e,"POST","/v1/accounts:signInWithPhoneNumber",jo(e,t));if(n.temporaryProof)throw Uo(e,"account-exists-with-different-credential",n);return n}(e,(0,i.A)({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Fo(e,"POST","/v1/accounts:signInWithPhoneNumber",jo(e,(0,i.A)((0,i.A)({},t),{},{operation:"REAUTH"})),Ki)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}=e;return n||t||r||o?new Gi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:o}):null}}class $i{constructor(e){var t,n,r,o,i,s;const a=Cn(Sn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);xo(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(o=a.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(i=a.lang)&&void 0!==i?i:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Cn(Sn(e)).link,n=t?Cn(Sn(t)).deep_link_id:null,r=Cn(Sn(e)).deep_link_id;return(r?Cn(Sn(r)).link:null)||r||n||t||e}(e);try{return new $i(t)}catch(n){return null}}}class Qi{constructor(){this.providerId=Qi.PROVIDER_ID}static credential(e,t){return Hi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=$i.parseLink(t);return xo(n,"argument-error"),Hi._fromEmailAndCode(e,n.code,n.tenantId)}}Qi.PROVIDER_ID="password",Qi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Qi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ji{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xi extends Ji{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zi extends Xi{constructor(){super("facebook.com")}static credential(e){return Wi._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Zi.credential(t.oauthAccessToken)}catch(n){return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com",Zi.PROVIDER_ID="facebook.com";class es extends Xi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wi._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return es.credential(n,r)}catch(o){return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com",es.PROVIDER_ID="google.com";class ts extends Xi{constructor(){super("github.com")}static credential(e){return Wi._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ts.credential(t.oauthAccessToken)}catch(n){return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com",ts.PROVIDER_ID="github.com";class ns extends Xi{constructor(){super("twitter.com")}static credential(e,t){return Wi._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ns.credential(n,r)}catch(o){return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com",ns.PROVIDER_ID="twitter.com";class rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=await ri._fromIdTokenResponse(e,n,r),i=is(n);return new rs({user:o,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=is(n);return new rs({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function is(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ss extends dn{constructor(e,t,n,r){var o;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ss.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ss(e,t,n,r)}}function as(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ss._fromErrorAndOperation(e,n,t,r);throw n})}async function ls(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Qo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return rs._forOperation(e,"link",r)}async function cs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Hr(r.app))return Promise.reject(bo(r));const o="reauthenticate";try{const i=await Qo(e,as(r,o,t,e),n);xo(i.idToken,r,"internal-error");const s=Go(i.idToken);xo(s,r,"internal-error");const{sub:a}=s;return xo(e.uid===a,r,"user-mismatch"),rs._forOperation(e,o,i)}catch(G1){throw(null===G1||void 0===G1?void 0:G1.code)==="auth/".concat("user-not-found")&&go(r,"user-mismatch"),G1}}async function us(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Hr(e.app))return Promise.reject(bo(e));const r="signIn",o=await as(e,r,t),i=await rs._fromIdTokenResponse(e,r,o);return n||await e._updateCurrentUser(i.user),i}async function ds(e,t){return us(Si(e),t)}async function hs(e){const t=Si(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ps(e,t){const n={identifier:t,continueUri:So()?Co():"http://localhost"},{signinMethods:r}=await async function(e,t){return Mo(e,"POST","/v1/accounts:createAuthUri",jo(e,t))}(On(e),n);return r||[]}function fs(e,t,n,r){return On(e).onAuthStateChanged(t,n,r)}function ms(e,t){return Mo(e,"POST","/v2/accounts/mfaEnrollment:start",jo(e,t))}new WeakMap;const gs="__sak";class vs{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gs,"1"),this.storage.removeItem(gs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ys extends vs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},o=this.storage.getItem(n);bi()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ys.type="LOCAL";const bs=ys;function ws(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),o=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(o))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function xs(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class ks{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=xs(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return ws(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=xs(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=xs(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=ws(n);const o=setInterval(()=>{const e=ws(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(o))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}ks.type="COOKIE";class _s extends vs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_s.type="SESSION";const Cs=_s;class Ss{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Ss(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:o}=t.data,i=this.handlersMap[r];if(null===i||void 0===i||!i.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(i).map(async e=>e(t.origin,o)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ss.receivers=[];class Ts{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,i;return new Promise((s,a)=>{const l=Es("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(t.data.response);break;default:clearTimeout(c),clearTimeout(o),a(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function As(){return window}function Ds(){return"undefined"!==typeof As().WorkerGlobalScope&&"function"===typeof As().importScripts}const Ns="firebaseLocalStorageDb",Os="firebaseLocalStorage",Is="fbase_key";class Ps{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function js(e,t){return e.transaction([Os],t?"readwrite":"readonly").objectStore(Os)}function Ms(){const e=indexedDB.open(Ns,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Os,{keyPath:Is})}catch(G1){n(G1)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Os)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ns);return new Ps(e).toPromise()}(),t(await Ms()))})})}async function Rs(e,t,n){const r=js(e,!0).put({[Is]:t,value:n});return new Ps(r).toPromise()}function Fs(e,t){const n=js(e,!0).delete(t);return new Ps(n).toPromise()}class Ls{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ms()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(G1){if(t++>3)throw G1;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ds()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ss._getInstance(Ds()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Ts(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ms();return await Rs(e,gs,"1"),await Fs(e,gs),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rs(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=js(e,!1).get(t),r=await new Ps(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Fs(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=js(e,!1).getAll();return new Ps(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:o}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ls.type="LOCAL";const zs=Ls;function Bs(e,t){return Mo(e,"POST","/v2/accounts/mfaSignIn:start",jo(e,t))}Di("rcb"),new Ao(3e4,6e4);const Us="recaptcha";async function Vs(e,t,n){if(!e._getRecaptchaConfig())try{await Ri(e)}catch(pw){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let o;if(o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){xo("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=Mi(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ii){xo((null===n||void 0===n?void 0:n.type)===Us,e,"argument-error");return ms(e,await Hs(e,t,n))}return ms(e,t)},"PHONE_PROVIDER"),s=await i.catch(e=>Promise.reject(e));return s.phoneSessionInfo.sessionInfo}{var r;xo("signin"===t.type,e,"internal-error");const i=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;xo(i,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Mi(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ii){xo((null===n||void 0===n?void 0:n.type)===Us,e,"argument-error");return Bs(e,await Hs(e,t,n))}return Bs(e,t)},"PHONE_PROVIDER"),l=await a.catch(e=>Promise.reject(e));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:o.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Mi(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Ii){xo((null===n||void 0===n?void 0:n.type)===Us,e,"argument-error");return Yi(e,await Hs(e,t,n))}return Yi(e,t)},"PHONE_PROVIDER"),i=await r.catch(e=>Promise.reject(e));return i.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Hs(e,t,n){xo(n.type===Us,e,"argument-error");const r=await n.verify();xo("string"===typeof r,e,"argument-error");const o=(0,i.A)({},t);if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.captchaResponse,n=o.phoneEnrollmentInfo.clientType,i=o.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),o}if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.captchaResponse,t=o.phoneSignInInfo.clientType,n=o.phoneSignInInfo.recaptchaVersion;return Object.assign(o,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),o}return Object.assign(o,{recaptchaToken:r}),o}class qs{constructor(e){this.providerId=qs.PROVIDER_ID,this.auth=Si(e)}verifyPhoneNumber(e,t){return Vs(this.auth,e,On(t))}static credential(e,t){return Gi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return qs.credentialFromTaggedObject(t)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Gi._fromTokenResponse(n,r):null}}function Ws(e,t){return t?ii(t):(xo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}qs.PROVIDER_ID="phone",qs.PHONE_SIGN_IN_METHOD="phone";class Ys extends Bi{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ks(e){return us(e.auth,new Ys(e),e.bypassAuthState)}function Gs(e){const{auth:t,user:n}=e;return xo(n,t,"internal-error"),cs(n,new Ys(e),e.bypassAuthState)}async function $s(e){const{auth:t,user:n}=e;return xo(n,t,"internal-error"),ls(n,new Ys(e),e.bypassAuthState)}class Qs{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(G1){this.reject(G1)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:o,error:i,type:s}=e;if(i)return void this.reject(i);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(G1){this.reject(G1)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ks;case"linkViaPopup":case"linkViaRedirect":return $s;case"reauthViaPopup":case"reauthViaRedirect":return Gs;default:go(this.auth,"internal-error")}}resolve(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Js=new Ao(2e3,1e4);class Xs extends Qs{constructor(e,t,n,r,o){super(e,t,r,o),this.provider=n,this.authWindow=null,this.pollId=null,Xs.currentPopupAction&&Xs.currentPopupAction.cancel(),Xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xo(e,this.auth,"internal-error"),e}async onExecution(){_o(1===this.filter.length,"Popup operations only handle one event");const e=Es();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(vo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(vo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vo(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Js.get())};e()}}Xs.currentPopupAction=null;const Zs=new Map;class ea extends Qs{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Zs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ra(t),r=na(e);if(!await r._isAvailable())return!1;const o="true"===await r._get(n);return await r._remove(n),o}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(G1){e=()=>Promise.reject(G1)}Zs.set(this.auth._key(),e)}return this.bypassAuthState||Zs.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ta(e,t){Zs.set(e._key(),t)}function na(e){return ii(e._redirectPersistence)}function ra(e){return li("pendingRedirect",e.config.apiKey,e.name)}async function oa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Hr(e.app))return Promise.reject(bo(e));const r=Si(e),o=Ws(r,t),i=new ea(r,o,n),s=await i.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class ia{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aa(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!aa(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(vo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sa(e))}saveEventToCache(e){this.cachedEventUids.add(sa(e)),this.lastProcessedEventTime=Date.now()}}function sa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function aa(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const la=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ca=/^https?/;async function ua(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Mo(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(da(r))return}catch(n){}go(e,"unauthorized-domain")}function da(e){const t=Co(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return""===o.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!ca.test(n))return!1;if(la.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const ha=new Ao(3e4,6e4);function pa(){const e=As().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function fa(e){return new Promise((t,n)=>{var r,o;function i(){pa(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pa(),n(vo(e,"network-request-failed"))},timeout:ha.get()})}if(null!==(r=As().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(o=As().gapi)||void 0===o||!o.load){const t=Di("iframefcb");return As()[t]=()=>{gapi.load?i():n(vo(e,"network-request-failed"))},Ai("".concat(Ti.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}i()}}).catch(e=>{throw ma=null,e})}let ma=null;const ga=new Ao(5e3,15e3),va={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ya=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ba(e){const t=e.config;xo(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Do(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Yr},o=ya.get(e.config.apiHost);o&&(r.eid=o);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(_n(r).slice(1))}async function wa(e){const t=await function(e){return ma=ma||fa(e),ma}(e),n=As().gapi;return xo(n,e,"internal-error"),t.open({where:document.body,url:ba(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:va,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const o=vo(e,"network-request-failed"),i=As().setTimeout(()=>{r(o)},ga.get());function s(){As().clearTimeout(i),n(t)}t.ping(s).then(s,()=>{r(o)})}))}const xa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ka{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(G1){}}}function _a(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=(0,i.A)((0,i.A)({},xa),{},{width:r.toString(),height:o.toString(),top:s,left:a}),u=rn().toLowerCase();n&&(l=pi(u)?"_blank":n),di(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return yi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new ka(null);const h=window.open(t||"",l,d);xo(h,e,"popup-blocked");try{h.focus()}catch(G1){}return new ka(h)}const Ca="__/auth/handler",Sa="emulator/auth/handler",Ea=encodeURIComponent("fac");async function Ta(e,t,n,r,o,i){xo(e.config.authDomain,e,"auth-domain-config-required"),xo(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Yr,eventId:o};if(t instanceof Ji){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",bn(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))s[e]=t}if(t instanceof Xi){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ea,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ca);return Do(t,Sa)}(e),"?").concat(_n(a).slice(1)).concat(c)}const Aa="webStorageSupport";const Da=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cs,this._completeRedirectFn=oa,this._overrideRedirectResult=ta}async _openPopup(e,t,n,r){var o;_o(null===(o=this.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");return _a(e,await Ta(e,t,n,Co(),r),Es())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){As().location.href=e}(await Ta(e,t,n,Co(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(_o(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await wa(e),n=new ia(e);return t.register("authEvent",t=>{xo(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Aa,{type:Aa},n=>{var r;const o=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Aa];void 0!==o&&t(!!o),go(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ua(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wi()||hi()||yi()}};var Na="@firebase/auth",Oa="1.11.0";class Ia{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Pa=$t("authIdTokenMaxAge")||300;let ja=null;function Ma(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gr();const t=Vr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Vr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(xn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;go(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Da,persistence:[zs,bs,Cs]}),r=$t("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(o=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Pa)return;const r=null===t||void 0===t?void 0:t.token;ja!==r&&(ja=r,await fetch(o,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){On(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){On(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var o;const i=Yt("auth");return i&&Fi(n,"http://".concat(i)),n}var Ra,Fa;Ra={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=vo("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ti=Ra,Fa="Browser",Ur(new In("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;xo(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Fa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xi(Fa)},c=new Ci(r,o,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ii);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ur(new In("auth-internal",e=>(e=>new Ia(e))(Si(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(Na,Oa,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Fa)),Qr(Na,Oa,"esm2020");class La extends e.Component{constructor(e){super(e),this.state={},this.logOut=this.logOut.bind(this)}componentDidMount(){}logOut(){(function(e){return On(e).signOut()})(Ma()).then(()=>{this.setState({redirect:!0})}).catch(e=>{console.error("Sign out error",e)})}render(){const e="/admin";return(0,Et.jsxs)("div",{className:"admin-sidebar",children:[(0,Et.jsx)("div",{className:"logo",children:(0,Et.jsx)("a",{href:e,children:(0,Et.jsx)("div",{className:"logo-img",children:(0,Et.jsx)("img",{src:Dt,height:"30",alt:""})})})}),(0,Et.jsx)("div",{className:"nav-container",children:(0,Et.jsxs)("ul",{className:"nav",children:[(0,Et.jsx)("li",{className:"side-menu-items",children:(0,Et.jsxs)("a",{href:e,children:[(0,Et.jsx)("span",{className:"fa fa-home pre_side_item"}),(0,Et.jsx)("span",{className:"",children:"Dashboard"}),(0,Et.jsx)("span",{className:"fa fa-chevron-right after_fa_side"})]})}),(0,Et.jsx)("li",{className:"",children:(0,Et.jsxs)("a",{href:"/setupshop",children:[(0,Et.jsx)("span",{className:"fa fa-building pre_side_item"}),(0,Et.jsx)("span",{className:"text",children:"Shops"}),(0,Et.jsx)("span",{className:"fa fa-chevron-right after_fa_side"})]})}),(0,Et.jsx)("div",{className:"bottom-buttons",children:(0,Et.jsx)("li",{className:"",onClick:this.logOut,children:(0,Et.jsxs)("a",{href:e,children:[(0,Et.jsx)("span",{className:"fa fa-sign-out pre_side_item"}),(0,Et.jsx)("span",{className:"text",children:"Logout"}),(0,Et.jsx)("span",{className:"fa fa-chevron-right after_fa_side"})]})})})]})})]})}}const za=La,Ba=n.p+"static/media/sqwad-hand.f3bdc5f1c3d63ad7c51e.png";class Ua extends e.Component{render(){return(0,Et.jsx)("div",{className:"admin-topbar",children:(0,Et.jsxs)("p",{className:"topBarText",children:[(0,Et.jsx)("img",{src:Ba,width:"50px",height:"auto",alt:"Team",className:"rounded-circle",style:{marginRight:"5px"}}),"SQWAD"]})})}}const Va=Ua;Qr("firebase","12.4.0","app");var Ha,qa,Wa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ya={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var o=0;o<16;++o)r[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;o<16;++o)r[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];let i,s=e.g[3];i=t+(s^n&(o^s))+r[0]+3614090360&4294967295,i=s+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[1]+3905402710&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[2]+606105819&4294967295,i=n+(t^(o=s+(i<<17&4294967295|i>>>15))&(s^t))+r[3]+3250441966&4294967295,i=t+(s^(n=o+(i<<22&4294967295|i>>>10))&(o^s))+r[4]+4118548399&4294967295,i=s+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[5]+1200080426&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[6]+2821735955&4294967295,i=n+(t^(o=s+(i<<17&4294967295|i>>>15))&(s^t))+r[7]+4249261313&4294967295,i=t+(s^(n=o+(i<<22&4294967295|i>>>10))&(o^s))+r[8]+1770035416&4294967295,i=s+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[9]+2336552879&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[10]+4294925233&4294967295,i=n+(t^(o=s+(i<<17&4294967295|i>>>15))&(s^t))+r[11]+2304563134&4294967295,i=t+(s^(n=o+(i<<22&4294967295|i>>>10))&(o^s))+r[12]+1804603682&4294967295,i=s+(o^(t=n+(i<<7&4294967295|i>>>25))&(n^o))+r[13]+4254626195&4294967295,s=t+(i<<12&4294967295|i>>>20),i=o+(n^s&(t^n))+r[14]+2792965006&4294967295,i=n+(t^(o=s+(i<<17&4294967295|i>>>15))&(s^t))+r[15]+1236535329&4294967295,i=t+(o^s&((n=o+(i<<22&4294967295|i>>>10))^o))+r[1]+4129170786&4294967295,i=s+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[6]+3225465664&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[11]+643717713&4294967295,i=n+(s^t&((o=s+(i<<14&4294967295|i>>>18))^s))+r[0]+3921069994&4294967295,i=t+(o^s&((n=o+(i<<20&4294967295|i>>>12))^o))+r[5]+3593408605&4294967295,i=s+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[10]+38016083&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[15]+3634488961&4294967295,i=n+(s^t&((o=s+(i<<14&4294967295|i>>>18))^s))+r[4]+3889429448&4294967295,i=t+(o^s&((n=o+(i<<20&4294967295|i>>>12))^o))+r[9]+568446438&4294967295,i=s+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[14]+3275163606&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[3]+4107603335&4294967295,i=n+(s^t&((o=s+(i<<14&4294967295|i>>>18))^s))+r[8]+1163531501&4294967295,i=t+(o^s&((n=o+(i<<20&4294967295|i>>>12))^o))+r[13]+2850285829&4294967295,i=s+(n^o&((t=n+(i<<5&4294967295|i>>>27))^n))+r[2]+4243563512&4294967295,s=t+(i<<9&4294967295|i>>>23),i=o+(t^n&(s^t))+r[7]+1735328473&4294967295,i=n+(s^t&((o=s+(i<<14&4294967295|i>>>18))^s))+r[12]+2368359562&4294967295,i=t+((n=o+(i<<20&4294967295|i>>>12))^o^s)+r[5]+4294588738&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[8]+2272392833&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[11]+1839030562&4294967295,i=n+((o=s+(i<<16&4294967295|i>>>16))^s^t)+r[14]+4259657740&4294967295,i=t+((n=o+(i<<23&4294967295|i>>>9))^o^s)+r[1]+2763975236&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[4]+1272893353&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[7]+4139469664&4294967295,i=n+((o=s+(i<<16&4294967295|i>>>16))^s^t)+r[10]+3200236656&4294967295,i=t+((n=o+(i<<23&4294967295|i>>>9))^o^s)+r[13]+681279174&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[0]+3936430074&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[3]+3572445317&4294967295,i=n+((o=s+(i<<16&4294967295|i>>>16))^s^t)+r[6]+76029189&4294967295,i=t+((n=o+(i<<23&4294967295|i>>>9))^o^s)+r[9]+3654602809&4294967295,i=s+((t=n+(i<<4&4294967295|i>>>28))^n^o)+r[12]+3873151461&4294967295,s=t+(i<<11&4294967295|i>>>21),i=o+(s^t^n)+r[15]+530742520&4294967295,i=n+((o=s+(i<<16&4294967295|i>>>16))^s^t)+r[2]+3299628645&4294967295,i=t+(o^((n=o+(i<<23&4294967295|i>>>9))|~s))+r[0]+4096336452&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[7]+1126891415&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[14]+2878612391&4294967295,i=n+(s^((o=s+(i<<15&4294967295|i>>>17))|~t))+r[5]+4237533241&4294967295,i=t+(o^((n=o+(i<<21&4294967295|i>>>11))|~s))+r[12]+1700485571&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[3]+2399980690&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[10]+4293915773&4294967295,i=n+(s^((o=s+(i<<15&4294967295|i>>>17))|~t))+r[1]+2240044497&4294967295,i=t+(o^((n=o+(i<<21&4294967295|i>>>11))|~s))+r[8]+1873313359&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[15]+4264355552&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[6]+2734768916&4294967295,i=n+(s^((o=s+(i<<15&4294967295|i>>>17))|~t))+r[13]+1309151649&4294967295,i=t+(o^((n=o+(i<<21&4294967295|i>>>11))|~s))+r[4]+4149444226&4294967295,i=s+(n^((t=n+(i<<6&4294967295|i>>>26))|~o))+r[11]+3174756917&4294967295,s=t+(i<<10&4294967295|i>>>22),i=o+(t^(s|~n))+r[2]+718787259&4294967295,i=n+(s^((o=s+(i<<15&4294967295|i>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let o=e.length-1;o>=0;o--){const i=0|e[o];r&&i==t||(n[o]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,o=this.C;let i=this.h,s=0;for(;s<t;){if(0==i)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(o[i++]=e.charCodeAt(s++),i==this.blockSize){n(this,o),i=0;break}}else for(;s<t;)if(o[i++]=e[s++],i==this.blockSize){n(this,o),i=0;break}}this.h=i,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var o={};function i(e){return-128<=e&&e<128?function(e,t){var n=o;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return h(s(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var o=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);c.l(e)<=0&&(o=o.add(n),i=c),r=y(r,1),n=y(n,1)}return t=p(e,o.j(t)),new m(o,t)}for(o=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(i=s(n)).j(t);d(c)||c.l(e)>0;)c=(i=s(n-=r)).j(t);u(i)&&(i=l),o=o.add(i),e=p(e,c)}return new m(o,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const o=e.g.length-n,i=[];for(let r=0;r<o;r++)i[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=s(Math.pow(e,6));var n=this;let r="";for(;;){const o=g(n,t).g;let i=(((n=p(n,o.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=o))return i+r;for(;i.length<6;)i="0"+i;r=i+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let o=0;for(let r=0;r<=t;r++){let t=o+(65535&this.i(r))+(65535&e.i(r)),i=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);o=i>>>16,t&=65535,i&=65535,n[r]=i<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return s(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var o=0;o<2*t;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(let t=0;t<e.g.length;t++){const r=this.i(o)>>>16,i=65535&this.i(o),s=e.i(t)>>>16,a=65535&e.i(t);n[2*o+2*t]+=i*a,f(n,2*o+2*t),n[2*o+2*t+1]+=r*a,f(n,2*o+2*t+1),n[2*o+2*t+1]+=i*s,f(n,2*o+2*t+1),n[2*o+2*t+2]+=r*s,f(n,2*o+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,qa=Ya.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=s(Math.pow(n,8));let o=a;for(let a=0;a<t.length;a+=8){var i=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+i),n);i<8?(i=s(Math.pow(n,i)),o=o.j(i).add(s(e))):(o=o.j(r),o=o.add(s(e)))}return o},Ha=Ya.Integer=r}).apply("undefined"!==typeof Wa?Wa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ka,Ga,$a,Qa,Ja,Xa,Za,el,tl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},nl={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof tl&&tl];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var o=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in o))break e;o=o[s]}(r=r(i=o[e=e[e.length-1]]))!=i&&null!=r&&t(o,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var o=o||{},i=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[n].apply(e,o)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let o=0;o<r;o++)e[n+o]=t[o]}else e.push(t)}}function f(e){i.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},x=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(k)}};function k(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){f(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function _(){this.u=this.u,this.C=this.C}function C(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}_.prototype.u=!1,_.prototype.dispose=function(){this.u||(this.u=!0,this.N())},_.prototype[Symbol.dispose]=function(){this.dispose()},_.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},C.prototype.h=function(){this.defaultPrevented=!0};var S=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function E(e){return/^[\s\xa0]*$/.test(e)}function T(e,t){C.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(T,C),T.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&T.Z.h.call(this)},T.prototype.h=function(){T.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var A="closure_listenable_"+(1e6*Math.random()|0),D=0;function N(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=o,this.key=++D,this.da=this.fa=!1}function O(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function I(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function P(e){const t={};for(const n in e)t[n]=e[n];return t}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(e,t){let n,r;for(let o=1;o<arguments.length;o++){for(n in r=arguments[o],r)e[n]=r[n];for(let t=0;t<j.length;t++)n=j[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function R(e){this.src=e,this.g={},this.h=0}function F(e,t){const n=t.type;if(n in e.g){var r,o=e.g[n],i=Array.prototype.indexOf.call(o,t,void 0);(r=i>=0)&&Array.prototype.splice.call(o,i,1),r&&(O(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function L(e,t,n,r){for(let o=0;o<e.length;++o){const i=e[o];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return o}return-1}R.prototype.add=function(e,t,n,r,o){const i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);const s=L(e,t,r,o);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new N(t,this.src,i,!!r,o)).fa=n,e.push(t)),t};var z="closure_lm_"+(1e6*Math.random()|0),B={};function U(e,t,n,r,o){if(r&&r.once)return H(e,t,n,r,o);if(Array.isArray(t)){for(let i=0;i<t.length;i++)U(e,t[i],n,r,o);return null}return n=Q(n),e&&e[A]?e.J(t,n,s(r)?!!r.capture:!!r,o):V(e,t,n,!1,r,o)}function V(e,t,n,r,o,i){if(!t)throw Error("Invalid event type");const a=s(o)?!!o.capture:!!o;let l=G(e);if(l||(e[z]=l=new R(e)),(n=l.add(t,n,r,a,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=K;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)S||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function H(e,t,n,r,o){if(Array.isArray(t)){for(let i=0;i<t.length;i++)H(e,t[i],n,r,o);return null}return n=Q(n),e&&e[A]?e.K(t,n,s(r)?!!r.capture:!!r,o):V(e,t,n,!0,r,o)}function q(e,t,n,r,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)q(e,t[i],n,r,o);else r=s(r)?!!r.capture:!!r,n=Q(n),e&&e[A]?(e=e.i,(i=String(t).toString())in e.g&&((n=L(t=e.g[i],n,r,o))>-1&&(O(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[i],e.h--)))):e&&(e=G(e))&&(t=e.g[t.toString()],e=-1,t&&(e=L(t,n,r,o)),(n=e>-1?t[e]:null)&&W(n))}function W(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[A])F(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=G(t))?(F(n,e),0==n.h&&(n.src=null,t[z]=null)):O(e)}}}function Y(e){return e in B?B[e]:B[e]="on"+e}function K(e,t){if(e.da)e=!0;else{t=new T(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function G(e){return(e=e[z])instanceof R?e:null}var $="__closure_events_fn_"+(1e9*Math.random()>>>0);function Q(e){return"function"===typeof e?e:(e[$]||(e[$]=function(t){return e.handleEvent(t)}),e[$])}function J(){_.call(this),this.i=new R(this),this.M=this,this.G=null}function X(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new C(t,e);else if(t instanceof C)t.target=t.target||e;else{var o=t;M(t=new C(r,e),o)}let i,s;if(o=!0,n)for(s=n.length-1;s>=0;s--)i=t.g=n[s],o=Z(i,r,!0,t)&&o;if(i=t.g=e,o=Z(i,r,!0,t)&&o,o=Z(i,r,!1,t)&&o,n)for(s=0;s<n.length;s++)i=t.g=n[s],o=Z(i,r,!1,t)&&o}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let o=!0;for(let i=0;i<t.length;++i){const s=t[i];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&F(e.i,s),o=!1!==t.call(n,r)&&o}}return o&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:i.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(J,_),J.prototype[A]=!0,J.prototype.removeEventListener=function(e,t,n,r){q(this,e,t,n,r)},J.prototype.N=function(){if(J.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)O(n[e]);delete e.g[t],e.h--}}this.G=null},J.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},J.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends _{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){_.call(this),this.h=e,this.g={}}u(ne,_);var re=[];function oe(e){I(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),oe(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ie=i.JSON.stringify,se=i.JSON.parse,ae=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){C.call(this,"d")}function he(){C.call(this,"c")}u(de,C),u(he,C);var pe={},fe=null;function me(){return fe=fe||new J}function ge(e){C.call(this,pe.Ia,e)}function ve(e){const t=me();X(t,new ge(t))}function ye(e,t){C.call(this,pe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();X(t,new ye(t,e))}function we(e,t){C.call(this,pe.Ja,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function ke(){this.g=!0}function _e(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const i=JSON.parse(t);if(i)for(e=0;e<i.length;e++)if(Array.isArray(i[e])){var n=i[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(let e=1;e<r.length;e++)r[e]=""}}}return ie(i)}catch(i){return t}}(e,n)+(r?" "+r:"")})}pe.Ia="serverreachability",u(ge,C),pe.STAT_EVENT="statevent",u(ye,C),pe.Ja="timingevent",u(we,C),ke.prototype.ua=function(){this.g=!1},ke.prototype.info=function(){};var Ce,Se={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ee={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Te(){}function Ae(e){return encodeURIComponent(String(e))}function De(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ne(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}u(Te,le),Te.prototype.g=function(){return new XMLHttpRequest},Ce=new Te;var Ie={},Pe={};function je(e,t,n){e.M=1,e.A=it(et(t)),e.u=n,e.R=!0,Me(e,null)}function Me(e,t){e.F=Date.now(),Le(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Oe,e.g=sn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var o="readystatechange";Array.isArray(o)||(o&&(re[0]=o.toString()),o=re);for(let i=0;i<o.length;i++){const e=U(n,o[i],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?P(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,o,i){e.info(function(){if(e.g)if(i){var s="",a=i.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Re(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Fe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Pe:(n=Number(t.substring(n,r)),isNaN(n)?Ie:(r+=1)+n>t.length?Pe:(t=t.slice(r,r+n),e.C=r+n,t))}function Le(e){e.T=Date.now()+e.H,ze(e,e.H)}function ze(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=xe(l(e.aa,e),t)}function Be(e){e.D&&(i.clearTimeout(e.D),e.D=null)}function Ue(e){0==e.j.I||e.K||en(e.j,e)}function Ve(e){Be(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,oe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function He(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Ge(n.h,e)))if(!e.L&&Ge(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),Ht(n)}Qt(n),be(18)}}else n.xa=o[1],0<n.xa-n.K&&o[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=xe(l(n.Va,n),6e3));Ke(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!E(t))for(o=n.Ba.g.parse(t),t=0;t<o.length;t++){let l=o[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const o=l[4];null!=o&&(n.za=o,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&($e(i,i.h),i.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,ot(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=on(r,r.L?r.ba:null,r.W),s.L){Qe(r.h,s);var a=s,c=r.O;c&&(a.H=c),a.D&&(Be(a),Le(a)),r.g=s}else $t(r);n.i.length>0&&Wt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Vt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(u){}}Ne.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Lt(e)?t.j():this.Y(e)},Ne.prototype.Y=function(e){try{if(e==this.g)e:{const l=Lt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||4!=l||7==c||ve(),Be(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Re(e))return e.g.la();const t=zt(e.g);if(""===t)return"";let n="";const r=t.length,o=4==Lt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Ve(e),Ue(e),"";e.h.i=new i.TextDecoder}for(let i=0;i<r;i++)e.h.h=!0,n+=e.h.i.decode(t[i],{stream:!(o&&i==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,o,i,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+i+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,o=this.g;if((r=o.g?o.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,be(12),Ve(this),Ue(this);break e}_e(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,He(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Fe(this,n),t==Pe){4==l&&(this.m=4,be(14),e=!1),_e(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ie){this.m=4,be(15),_e(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}_e(this.i,this.l,t,null),He(this,t)}if(Re(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jt(a),a.P=!0,be(11))}}else _e(this.i,this.l,n,"[Invalid Chunked Response]"),Ve(this),Ue(this)}else _e(this.i,this.l,n,null),He(this,n);4==l&&Ve(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Le(this)))}else(function(e){const t={};e=(e.g&&Lt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(E(e[r]))continue;var n=De(e[r]);const o=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[o]||[];t[o]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Ve(this),Ue(this)}}}catch(Rl){}},Ne.prototype.cancel=function(){this.K=!0,Ve(this)},Ne.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),be(17)),Ve(this),this.m=2,Ue(this)):ze(this,this.T-e)};var qe=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,i.PerformanceNavigationTiming?e=(e=i.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ke(e){return e.h?1:e.g?e.g.size:0}function Ge(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function $e(e,t){e.g?e.g.add(t):e.h=t}function Qe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Je(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}We.prototype.cancel=function(){if(this.i=Je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Xe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Xe))?(this.l=!1,tt(this,t[1]||"",!0),this.o=st(t[2]||""),this.g=st(t[3]||"",!0),nt(this,t[4]),this.h=st(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=st(t[7]||"")):(this.l=!1,this.i=new ft(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?st(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof ft?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=at(t,ht)),e.i=new ft(t,e.l))}function ot(e,t,n){e.i.set(t,n)}function it(e){return ot(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function st(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function at(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(at(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(at(t,ct,!0),"@"),e.push(Ae(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(at(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",at(n,pt)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var o=t.h.lastIndexOf("/");-1!=o&&(r=t.h.slice(0,o+1)+r)}if(".."==(o=r)||"."==o)r="";else if(-1!=o.indexOf("./")||-1!=o.indexOf("/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");const e=[];for(let t=0;t<o.length;){const n=o[t++];"."==n?r&&t==o.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==o.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=o}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,pt=/#/g;function ft(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let o,i=null;r>=0?(o=e[n].substring(0,r),i=e[n].substring(r+1)):o=e[n],t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return mt(e),t=xt(e,t),e.g.has(t)}function yt(e,t){mt(e);let n=[];if("string"===typeof t)vt(e,t)&&(n=n.concat(e.g.get(xt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(xt(e,t),h(n)),e.h+=n.length)}function wt(e){const t=new ft;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function kt(e,t,n,r,o){try{o&&(o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null),r(n)}catch(i){}}function _t(){this.g=new ae}function Ct(e){this.i=e.Sb||null,this.h=e.ab||!1}function St(e,t){J.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Et(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Tt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,At(e)}function At(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return I(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Nt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&Ae(n):ot(e,t,n))}function Ot(e){J.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=ft.prototype).add=function(e,t){mt(this),this.i=null,e=xt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,vt(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const o=Ae(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=o;""!==n[t]&&(r+="="+Ae(n[t])),e.push(r)}}return this.i=e.join("&")},u(Ct,le),Ct.prototype.g=function(){return new St(this.i,this.h)},u(St,J),(e=St.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,At(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||i).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Tt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,At(this)),this.g&&(this.readyState=3,At(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Et(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tt(this):At(this),3==this.readyState&&Et(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Tt(this))},e.Na=function(e){this.g&&(this.response=e,Tt(this))},e.ga=function(){this.g&&Tt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(St.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Ot,J);var It=/^https?$/i,Pt=["POST","PUT"];function jt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Mt(e),Ft(e)}function Mt(e){e.A||(e.A=!0,X(e,"complete"),X(e,"error"))}function Rt(e){if(e.h&&"undefined"!=typeof o)if(e.v&&4==Lt(e))setTimeout(e.Ca.bind(e),0);else if(X(e,"readystatechange"),4==Lt(e)){e.h=!1;try{const o=e.ca();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){let t=String(e.D).match(Xe)[1]||null;!t&&i.self&&i.self.location&&(t=i.self.location.protocol.slice(0,-1)),r=!It.test(t?t.toLowerCase():"")}n=r}if(n)X(e,"complete"),X(e,"success");else{e.o=6;try{var s=Lt(e)>2?e.g.statusText:""}catch(a){s=""}e.l=s+" ["+e.ca()+"]",Mt(e)}}finally{Ft(e)}}}function Ft(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||X(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Lt(e){return e.g?e.g.readyState:0}function zt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Bt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ut(e){this.za=0,this.i=[],this.j=new ke,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bt("baseRetryDelayMs",5e3,e),this.Za=Bt("retryDelaySeedMs",1e4,e),this.Ta=Bt("forwardChannelMaxRetries",2,e),this.va=Bt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new We(e&&e.concurrentRequestLimit),this.Ba=new _t,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Vt(e){if(qt(e),3==e.I){var t=e.V++,n=et(e.J);if(ot(n,"SID",e.M),ot(n,"RID",t),ot(n,"TYPE","terminate"),Kt(e,n),(t=new Ne(e,e.j,t)).M=2,t.A=it(et(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.A,n=!0),n||(t.g=sn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Le(t)}rn(e)}function Ht(e){e.g&&(Jt(e),e.g.cancel(),e.g=null)}function qt(e){Ht(e),e.v&&(i.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&i.clearTimeout(e.m),e.m=null)}function Wt(e){if(!Ye(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||x(),b||(y(),b=!0),w.add(t,e),e.D=0}}function Yt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);ot(r,"SID",e.M),ot(r,"RID",n),ot(r,"AID",e.K),Kt(e,r),e.u&&e.o&&Nt(r,e.u,e.o),n=new Ne(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Gt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),$e(e.h,n),je(n,r,t)}function Kt(e,t){e.H&&I(e.H,function(e,n){ot(t,n,e)}),e.l&&I({},function(e,n){ot(t,n,e)})}function Gt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var o=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=o[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var i=o[c].g;const n=o[c].map;if((i-=t)<0)t=Math.max(0,o[c].g-100),l=!1;else try{i="req"+i+"_"||0;try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;s(n)&&(r=ie(n)),e.push(i+t+"="+encodeURIComponent(r))}}catch(ol){throw e.push(i+"type="+encodeURIComponent("_badmap")),ol}}catch(ol){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function $t(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||x(),b||(y(),b=!0),w.add(t,e),e.A=0}}function Qt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=xe(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function Jt(e){null!=e.B&&(i.clearTimeout(e.B),e.B=null)}function Xt(e){e.g=new Ne(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);ot(t,"RID","rpc"),ot(t,"SID",e.M),ot(t,"AID",e.K),ot(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&ot(t,"TO",e.ia),ot(t,"TYPE","xmlhttp"),Kt(e,t),e.u&&e.o&&Nt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=it(et(t)),n.u=null,n.R=!0,Me(n,e)}function Zt(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),Jt(e),e.g=null;var r=2}else{if(!Ge(e.h,t))return;n=t.G,Qe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var o=e.D;X(r=me(),new we(r,n)),Wt(e)}else $t(e);else if(3==(o=t.m)||0==o&&t.X>0||!(1==r&&function(e,t){return!(Ke(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=xe(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Qt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),o){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||tt(r,"https"),it(r),t?function(e,t){const n=new ke;if(i.Image){const r=new Image;r.onload=c(kt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(kt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(kt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(kt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ke;const n=new AbortController,r=setTimeout(()=>{n.abort(),kt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?kt(0,0,!0,t):kt(0,0,!1,t)}).catch(()=>{clearTimeout(r),kt(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),qt(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=Je(e.h);0==t.length&&0==e.i.length||(p(e.ja,t),p(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function on(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),o&&nt(e,o),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&ot(r,n,t),ot(r,"VER",e.ka),Kt(e,r),r}function sn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Ot(new Ct({ab:n})):new Ot(e.ma)).Fa(e.L),t}function an(){}function ln(){}function cn(e,t){J.call(this),this.g=new Ut(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!E(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!E(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hn(this)}function un(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){he.call(this),this.status=1}function hn(e){this.g=e}(e=Ot.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ce.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void jt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(Array.prototype.indexOf.call(Pt,t,void 0)>=0)||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){jt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,X(this,"complete"),X(this,"abort"),Ft(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ft(this,!0)),Ot.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Rt(this):this.Xa())},e.Xa=function(){Rt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Lt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),se(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Ut.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=on(this,null,this.W),Wt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const o=new Ne(this,this.j,e);let i=this.o;if(this.U&&(i?(i=P(i),M(i,this.U)):i=this.U),null!==this.u||this.R||(o.J=i,i=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Gt(this,o,t),ot(n=et(this.J),"RID",e),ot(n,"CVER",22),this.G&&ot(n,"X-HTTP-Session-Id",this.G),Kt(this,n),i&&(this.R?t="headers="+Ae(Dt(i))+"&"+t:this.u&&Nt(n,this.u,i)),$e(this.h,o),this.Ra&&ot(n,"TYPE","init"),this.S?(ot(n,"$req",t),ot(n,"SID","null"),o.U=!0,je(o,n,null)):je(o,n,t),this.I=2}}else 3==this.I&&(e?Yt(this,e):0==this.i.length||Ye(this.h)||Yt(this))},e.Da=function(){if(this.v=null,Xt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=xe(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Ht(this),Xt(this))},e.Va=function(){null!=this.C&&(this.C=null,Ht(this),Qt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=an.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,J),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Vt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ie(e),e=n);t.i.push(new qe(t.Ya++,e)),3==t.I&&Wt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,cn.Z.N.call(this)},u(un,de),u(dn,he),u(hn,an),hn.prototype.ra=function(){X(this.g,"a")},hn.prototype.qa=function(e){X(this.g,new un(e))},hn.prototype.pa=function(e){X(this.g,new dn)},hn.prototype.oa=function(){X(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,el=nl.createWebChannelTransport=function(){return new ln},Za=nl.getStatEventTarget=function(){return me()},Xa=nl.Event=pe,Ja=nl.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,Qa=nl.ErrorCode=Se,Ee.COMPLETE="complete",$a=nl.EventType=Ee,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",J.prototype.listen=J.prototype.J,Ga=nl.WebChannel=ce,nl.FetchXmlHttpFactory=Ct,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,Ka=nl.XhrIo=Ot}).apply("undefined"!==typeof tl?tl:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const rl="@firebase/firestore",ol="4.9.2";class il{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}il.UNAUTHENTICATED=new il(null),il.GOOGLE_CREDENTIALS=new il("google-credentials-uid"),il.FIRST_PARTY=new il("first-party-uid"),il.MOCK_USER=new il("mock-user");let sl="12.3.0";const al=new Vn("@firebase/firestore");function ll(){return al.logLevel}function cl(e){if(al.logLevel<=Fn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(hl);al.debug("Firestore (".concat(sl,"): ").concat(e),...o)}}function ul(e){if(al.logLevel<=Fn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(hl);al.error("Firestore (".concat(sl,"): ").concat(e),...o)}}function dl(e){if(al.logLevel<=Fn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(hl);al.warn("Firestore (".concat(sl,"): ").concat(e),...o)}}function hl(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function pl(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,fl(e,r,n)}function fl(e,t,n){let r="FIRESTORE (".concat(sl,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw ul(r),new Error(r)}function ml(e,t,n,r){let o="Unexpected state";"string"==typeof n?o=n:r=n,e||fl(t,o,r)}function gl(e,t){return e}const vl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yl extends dn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class bl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class xl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(il.UNAUTHENTICATED))}shutdown(){}}class kl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _l{constructor(e){this.t=e,this.currentUser=il.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ml(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let o=new bl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bl,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=o;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{cl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(cl("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bl)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(cl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ml("string"==typeof t.accessToken,31837,{l:t}),new wl(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ml(null===e||"string"==typeof e,2055,{h:e}),new il(e)}}class Cl{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=il.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Sl{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Cl(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(il.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class El{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tl{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ml(void 0===this.o,3512);const n=e=>{null!=e.error&&cl("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,cl("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{cl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):cl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new El(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ml("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new El(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Al(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Dl{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Al(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Nl(e,t){return e<t?-1:e>t?1:0}function Ol(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),o=t.charAt(r);if(n!==o)return jl(n)===jl(o)?Nl(n,o):jl(n)?1:-1}return Nl(e.length,t.length)}const Il=55296,Pl=57343;function jl(e){const t=e.charCodeAt(0);return t>=Il&&t<=Pl}function Ml(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Rl="__name__";class Fl{constructor(e,t,n){void 0===t?t=0:t>e.length&&pl(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&pl(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Fl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fl?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Fl.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Nl(e.length,t.length)}static compareSegments(e,t){const n=Fl.isNumericId(e),r=Fl.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Fl.extractNumericId(e).compare(Fl.extractNumericId(t)):Ol(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ha.fromString(e.substring(4,e.length-2))}}class Ll extends Fl{construct(e,t,n){return new Ll(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n){if(o.indexOf("//")>=0)throw new yl(vl.INVALID_ARGUMENT,"Invalid segment (".concat(o,"). Paths must not contain // in them."));e.push(...o.split("/").filter(e=>e.length>0))}return new Ll(e)}static emptyPath(){return new Ll([])}}const zl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bl extends Fl{construct(e,t,n){return new Bl(e,t,n)}static isValidIdentifier(e){return zl.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Rl}static keyField(){return new Bl([Rl])}static fromServerFormat(e){const t=[];let n="",r=0;const o=()=>{if(0===n.length)throw new yl(vl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new yl(vl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new yl(vl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(o(),r++)}if(o(),i)throw new yl(vl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bl(t)}static emptyPath(){return new Bl([])}}class Ul{constructor(e){this.path=e}static fromPath(e){return new Ul(Ll.fromString(e))}static fromName(e){return new Ul(Ll.fromString(e).popFirst(5))}static empty(){return new Ul(Ll.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ll.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ll.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ul(new Ll(e.slice()))}}function Vl(e,t,n){if(!n)throw new yl(vl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Hl(e){if(!Ul.isDocumentKey(e))throw new yl(vl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ql(e){if(Ul.isDocumentKey(e))throw new yl(vl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Wl(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Yl(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":pl(12329,{type:typeof e})}function Kl(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yl(vl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yl(e);throw new yl(vl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Gl(e,t){if(t<=0)throw new yl(vl.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function $l(e,t){const n={typeString:e};return t&&(n.value=t),n}function Ql(e,t){if(!Wl(e))throw new yl(vl.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(o&&typeof s!==o){n="JSON field '".concat(r,"' must be a ").concat(o,".");break}if(void 0!==i&&s!==i.value){n="Expected '".concat(r,"' field to equal '").concat(i.value,"'");break}}if(n)throw new yl(vl.INVALID_ARGUMENT,n);return!0}const Jl=-62135596800,Xl=1e6;class Zl{static now(){return Zl.fromMillis(Date.now())}static fromDate(e){return Zl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Xl);return new Zl(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yl(vl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yl(vl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Jl)throw new yl(vl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yl(vl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xl}_compareTo(e){return this.seconds===e.seconds?Nl(this.nanoseconds,e.nanoseconds):Nl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zl._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ql(e,Zl._jsonSchema))return new Zl(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jl;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zl._jsonSchemaVersion="firestore/timestamp/1.0",Zl._jsonSchema={type:$l("string",Zl._jsonSchemaVersion),seconds:$l("number"),nanoseconds:$l("number")};class ec{static fromTimestamp(e){return new ec(e)}static min(){return new ec(new Zl(0,0))}static max(){return new ec(new Zl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tc=-1;class nc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}nc.UNKNOWN_ID=-1;function rc(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,o=ec.fromTimestamp(1e9===r?new Zl(n+1,0):new Zl(n,r));return new ic(o,Ul.empty(),t)}function oc(e){return new ic(e.readTime,e.key,tc)}class ic{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ic(ec.min(),Ul.empty(),tc)}static max(){return new ic(ec.max(),Ul.empty(),tc)}}function sc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ul.comparator(e.documentKey,t.documentKey),0!==n?n:Nl(e.largestBatchId,t.largestBatchId))}const ac="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function cc(e){if(e.code!==vl.FAILED_PRECONDITION||e.message!==ac)throw e;cl("LocalStore","Unexpectedly lost primary lease")}class uc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pl(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new uc((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof uc?t:uc.resolve(t)}catch(e){return uc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):uc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):uc.reject(t)}static resolve(e){return new uc((t,n)=>{t(e)})}static reject(e){return new uc((t,n)=>{n(e)})}static waitFor(e){return new uc((t,n)=>{let r=0,o=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++o,i&&o===r&&t()},e=>n(e))}),i=!0,o===r&&t()})}static or(e){let t=uc.resolve(!1);for(const n of e)t=t.next(e=>e?uc.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new uc((n,r)=>{const o=e.length,i=new Array(o);let s=0;for(let a=0;a<o;a++){const l=a;t(e[l]).next(e=>{i[l]=e,++s,s===o&&n(i)},e=>r(e))}})}static doWhile(e,t){return new uc((n,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):n()};o()})}}function dc(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hc(e){return"IndexedDbTransactionError"===e.name}class pc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pc.ce=-1;const fc=-1;function mc(e){return null==e}function gc(e){return 0===e&&1/e==-1/0}function vc(e){return"number"==typeof e&&Number.isInteger(e)&&!gc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const yc="\x01";function bc(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=xc(t)),t=wc(e.get(n),t);return xc(t)}function wc(e,t){let n=t;const r=e.length;for(let o=0;o<r;o++){const t=e.charAt(o);switch(t){case"\0":n+="\x01\x10";break;case yc:n+="\x01\x11";break;default:n+=t}}return n}function xc(e){return e+yc+"\x01"}const kc="remoteDocuments",_c="owner",Cc="mutationQueues",Sc="mutations";const Ec="documentMutations",Tc="remoteDocumentsV14",Ac="remoteDocumentGlobal",Dc="targets",Nc="targetDocuments",Oc="targetGlobal",Ic="collectionParents",Pc="clientMetadata",jc="bundles",Mc="namedQueries",Rc="indexConfiguration",Fc="indexState",Lc="indexEntries",zc="documentOverlays",Bc="globals",Uc=[Cc,Sc,Ec,kc,Dc,_c,Oc,Nc,Pc,Ac,Ic,jc,Mc],Vc=[Cc,Sc,Ec,Tc,Dc,_c,Oc,Nc,Pc,Ac,Ic,jc,Mc,zc],Hc=Vc,qc=[...Hc,Rc,Fc,Lc];function Wc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Kc(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}function Gc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class $c{constructor(e,t){this.comparator=e,this.root=t||Jc.EMPTY}insert(e,t){return new $c(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jc.BLACK,null,null))}remove(e){return new $c(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jc{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:Jc.RED,this.left=null!=r?r:Jc.EMPTY,this.right=null!=o?o:Jc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,o){return new Jc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Jc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Jc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pl(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pl(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pl(27949);return e+(this.isRed()?0:1)}}Jc.EMPTY=null,Jc.RED=!0,Jc.BLACK=!1,Jc.EMPTY=new class{constructor(){this.size=0}get key(){throw pl(57766)}get value(){throw pl(16141)}get color(){throw pl(16727)}get left(){throw pl(29726)}get right(){throw pl(36894)}copy(e,t,n,r,o){return this}insert(e,t,n){return new Jc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xc{constructor(e){this.comparator=e,this.data=new $c(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zc(this.data.getIterator())}getIteratorFrom(e){return new Zc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Xc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xc(this.comparator);return t.data=e,t}}class Zc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class eu{constructor(e){this.fields=e,e.sort(Bl.comparator)}static empty(){return new eu([])}unionWith(e){let t=new Xc(Bl.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new eu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class tu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new tu("Invalid base64 string: "+e):e}}(e);return new nu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new nu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nu.EMPTY_BYTE_STRING=new nu("");const ru=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ou(e){if(ml(!!e,39018),"string"==typeof e){let t=0;const n=ru.exec(e);if(ml(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:iu(e.seconds),nanos:iu(e.nanos)}}function iu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function su(e){return"string"==typeof e?nu.fromBase64String(e):nu.fromUint8Array(e)}const au="server_timestamp",lu="__type__",cu="__previous_value__",uu="__local_write_time__";function du(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[lu])||void 0===t?void 0:t.stringValue)===au}function hu(e){const t=e.mapValue.fields[cu];return du(t)?hu(t):t}function pu(e){const t=ou(e.mapValue.fields[uu].timestampValue);return new Zl(t.seconds,t.nanos)}class fu{constructor(e,t,n,r,o,i,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const mu="(default)";class gu{constructor(e,t){this.projectId=e,this.database=t||mu}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===mu}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}const vu="__type__",yu="__max__",bu={mapValue:{fields:{__type__:{stringValue:yu}}}},wu="__vector__",xu="value";function ku(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?du(e)?4:zu(e)?9007199254740991:Fu(e)?10:11:pl(28295,{value:e})}function _u(e,t){if(e===t)return!0;const n=ku(e);if(n!==ku(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pu(e).isEqual(pu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ou(e.timestampValue),r=ou(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return su(e.bytesValue).isEqual(su(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return iu(e.geoPointValue.latitude)===iu(t.geoPointValue.latitude)&&iu(e.geoPointValue.longitude)===iu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return iu(e.integerValue)===iu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=iu(e.doubleValue),r=iu(t.doubleValue);return n===r?gc(n)===gc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ml(e.arrayValue.values||[],t.arrayValue.values||[],_u);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Wc(n)!==Wc(r))return!1;for(const o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!_u(n[o],r[o])))return!1;return!0}(e,t);default:return pl(52216,{left:e})}}function Cu(e,t){return void 0!==(e.values||[]).find(e=>_u(e,t))}function Su(e,t){if(e===t)return 0;const n=ku(e),r=ku(t);if(n!==r)return Nl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=iu(e.integerValue||e.doubleValue),r=iu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Eu(e.timestampValue,t.timestampValue);case 4:return Eu(pu(e),pu(t));case 5:return Ol(e.stringValue,t.stringValue);case 6:return function(e,t){const n=su(e),r=su(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let o=0;o<n.length&&o<r.length;o++){const e=Nl(n[o],r[o]);if(0!==e)return e}return Nl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Nl(iu(e.latitude),iu(t.latitude));return 0!==n?n:Nl(iu(e.longitude),iu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Tu(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,o,i;const s=e.fields||{},a=t.fields||{},l=null===(n=s[xu])||void 0===n?void 0:n.arrayValue,c=null===(r=a[xu])||void 0===r?void 0:r.arrayValue,u=Nl((null===l||void 0===l||null===(o=l.values)||void 0===o?void 0:o.length)||0,(null===c||void 0===c||null===(i=c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Tu(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===bu.mapValue&&t===bu.mapValue)return 0;if(e===bu.mapValue)return 1;if(t===bu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),o=t.fields||{},i=Object.keys(o);r.sort(),i.sort();for(let s=0;s<r.length&&s<i.length;++s){const e=Ol(r[s],i[s]);if(0!==e)return e;const t=Su(n[r[s]],o[i[s]]);if(0!==t)return t}return Nl(r.length,i.length)}(e.mapValue,t.mapValue);default:throw pl(23264,{he:n})}}function Eu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Nl(e,t);const n=ou(e),r=ou(t),o=Nl(n.seconds,r.seconds);return 0!==o?o:Nl(n.nanos,r.nanos)}function Tu(e,t){const n=e.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const e=Su(n[o],r[o]);if(e)return e}return Nl(n.length,r.length)}function Au(e){return Du(e)}function Du(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ou(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return su(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ul.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Du(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const o of t)r?r=!1:n+=",",n+="".concat(o,":").concat(Du(e.fields[o]));return n+"}"}(e.mapValue):pl(61005,{value:e})}function Nu(e){switch(ku(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hu(e);return t?16+Nu(t):16;case 5:return 2*e.stringValue.length;case 6:return su(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Nu(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Yc(e.fields,(e,n)=>{t+=e.length+Nu(n)}),t}(e.mapValue);default:throw pl(13486,{value:e})}}function Ou(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Iu(e){return!!e&&"integerValue"in e}function Pu(e){return!!e&&"arrayValue"in e}function ju(e){return!!e&&"nullValue"in e}function Mu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ru(e){return!!e&&"mapValue"in e}function Fu(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[vu])||void 0===t?void 0:t.stringValue)===wu}function Lu(e){if(e.geoPointValue)return{geoPointValue:(0,i.A)({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:(0,i.A)({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Yc(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Lu(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Lu(e.arrayValue.values[n]);return t}return(0,i.A)({},e)}function zu(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===yu}class Bu{constructor(e){this.value=e}static empty(){return new Bu({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ru(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(t)}setAll(e){let t=Bl.emptyPath(),n={},r=[];e.forEach((e,o)=>{if(!t.isImmediateParentOf(o)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=o.popLast()}e?n[o.lastSegment()]=Lu(e):r.push(o.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,r)}delete(e){const t=this.field(e.popLast());Ru(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _u(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ru(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Yc(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Bu(Lu(this.value))}}function Uu(e){const t=[];return Yc(e.fields,(e,n)=>{const r=new Bl([e]);if(Ru(n)){const e=Uu(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new eu(t)}class Vu{constructor(e,t,n,r,o,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=o,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Vu(e,0,ec.min(),ec.min(),ec.min(),Bu.empty(),0)}static newFoundDocument(e,t,n,r){return new Vu(e,1,t,ec.min(),n,r,0)}static newNoDocument(e,t){return new Vu(e,2,t,ec.min(),ec.min(),Bu.empty(),0)}static newUnknownDocument(e,t){return new Vu(e,3,t,ec.min(),ec.min(),Bu.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ec.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bu.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ec.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Hu{constructor(e,t){this.position=e,this.inclusive=t}}function qu(e,t,n){let r=0;for(let o=0;o<e.position.length;o++){const i=t[o],s=e.position[o];if(r=i.field.isKeyField()?Ul.comparator(Ul.fromName(s.referenceValue),n.key):Su(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Wu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_u(e.position[n],t.position[n]))return!1;return!0}class Yu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ku(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Gu{}class $u extends Gu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new rd(e,t,n):"array-contains"===t?new ad(e,n):"in"===t?new ld(e,n):"not-in"===t?new cd(e,n):"array-contains-any"===t?new ud(e,n):new $u(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new od(e,n):new id(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Su(t,this.value)):null!==t&&ku(this.value)===ku(t)&&this.matchesComparison(Su(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pl(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qu extends Gu{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Qu(e,t)}matches(e){return Ju(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ju(e){return"and"===e.op}function Xu(e){return Zu(e)&&Ju(e)}function Zu(e){for(const t of e.filters)if(t instanceof Qu)return!1;return!0}function ed(e){if(e instanceof $u)return e.field.canonicalString()+e.op.toString()+Au(e.value);if(Xu(e))return e.filters.map(e=>ed(e)).join(",");{const t=e.filters.map(e=>ed(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function td(e,t){return e instanceof $u?function(e,t){return t instanceof $u&&e.op===t.op&&e.field.isEqual(t.field)&&_u(e.value,t.value)}(e,t):e instanceof Qu?function(e,t){return t instanceof Qu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&td(n,t.filters[r]),!0)}(e,t):void pl(19439)}function nd(e){return e instanceof $u?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Au(e.value))}(e):e instanceof Qu?function(e){return e.op.toString()+" {"+e.getFilters().map(nd).join(" ,")+"}"}(e):"Filter"}class rd extends $u{constructor(e,t,n){super(e,t,n),this.key=Ul.fromName(n.referenceValue)}matches(e){const t=Ul.comparator(e.key,this.key);return this.matchesComparison(t)}}class od extends $u{constructor(e,t){super(e,"in",t),this.keys=sd("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class id extends $u{constructor(e,t){super(e,"not-in",t),this.keys=sd("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Ul.fromName(e.referenceValue))}class ad extends $u{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pu(t)&&Cu(t.arrayValue,this.value)}}class ld extends $u{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cu(this.value.arrayValue,t)}}class cd extends $u{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Cu(this.value.arrayValue,t)}}class ud extends $u{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Cu(this.value.arrayValue,e))}}class dd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=i,this.endAt=s,this.Te=null}}function hd(e){return new dd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function pd(e){const t=gl(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>ed(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),mc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Au(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Au(e)).join(",")),t.Te=e}return t.Te}function fd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ku(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!td(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wu(e.startAt,t.startAt)&&Wu(e.endAt,t.endAt)}function md(e){return Ul.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class gd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=i,this.startAt=s,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vd(e,t,n,r,o,i,s,a){return new gd(e,t,n,r,o,i,s,a)}function yd(e){return new gd(e)}function bd(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function wd(e){return null!==e.collectionGroup}function xd(e){const t=gl(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Xc(Bl.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Yu(r,n))}),e.has(Bl.keyField().canonicalString())||t.Ie.push(new Yu(Bl.keyField(),n))}return t.Ie}function kd(e){const t=gl(e);return t.Ee||(t.Ee=Cd(t,xd(e))),t.Ee}function _d(e){const t=gl(e);return t.de||(t.de=Cd(t,e.explicitOrderBy)),t.de}function Cd(e,t){if("F"===e.limitType)return hd(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Yu(e.field,t)});const n=e.endAt?new Hu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Hu(e.startAt.position,e.startAt.inclusive):null;return hd(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Sd(e,t){const n=e.filters.concat([t]);return new gd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ed(e,t,n){return new gd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Td(e,t){return fd(kd(e),kd(t))&&e.limitType===t.limitType}function Ad(e){return"".concat(pd(kd(e)),"|lt:").concat(e.limitType)}function Dd(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>nd(e)).join(", "),"]")),mc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Au(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Au(e)).join(",")),"Target(".concat(t,")")}(kd(e)),"; limitType=").concat(e.limitType,")")}function Nd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ul.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of xd(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=qu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xd(e),t))&&!(e.endAt&&!function(e,t,n){const r=qu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xd(e),t))}(e,t)}function Od(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Id(e){return(t,n)=>{let r=!1;for(const o of xd(e)){const e=Pd(o,t,n);if(0!==e)return e;r=r||o.field.isKeyField()}return 0}}function Pd(e,t,n){const r=e.field.isKeyField()?Ul.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),o=n.data.field(e);return null!==r&&null!==o?Su(r,o):pl(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return pl(19790,{direction:e.dir})}}class jd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,o]of n)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Yc(this.inner,(t,n)=>{for(const[r,o]of n)e(r,o)})}isEmpty(){return Gc(this.inner)}size(){return this.innerSize}}const Md=new $c(Ul.comparator);function Rd(){return Md}const Fd=new $c(Ul.comparator);function Ld(){let e=Fd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.insert(o.key,o);return e}function zd(e){let t=Fd;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Bd(){return Vd()}function Ud(){return Vd()}function Vd(){return new jd(e=>e.toString(),(e,t)=>e.isEqual(t))}const Hd=new $c(Ul.comparator),qd=new Xc(Ul.comparator);function Wd(){let e=qd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)e=e.add(o);return e}const Yd=new Xc(Nl);function Kd(){return Yd}function Gd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gc(t)?"-0":t}}function $d(e){return{integerValue:""+e}}function Qd(e,t){return vc(t)?$d(t):Gd(e,t)}class Jd{constructor(){this._=void 0}}function Xd(e,t,n){return e instanceof th?function(e,t){const n={fields:{[lu]:{stringValue:au},[uu]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&du(t)&&(t=hu(t)),t&&(n.fields[cu]=t),{mapValue:n}}(n,t):e instanceof nh?rh(e,t):e instanceof oh?ih(e,t):function(e,t){const n=eh(e,t),r=ah(n)+ah(e.Ae);return Iu(n)&&Iu(e.Ae)?$d(r):Gd(e.serializer,r)}(e,t)}function Zd(e,t,n){return e instanceof nh?rh(e,t):e instanceof oh?ih(e,t):n}function eh(e,t){return e instanceof sh?function(e){return Iu(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class th extends Jd{}class nh extends Jd{constructor(e){super(),this.elements=e}}function rh(e,t){const n=lh(t);for(const r of e.elements)n.some(e=>_u(e,r))||n.push(r);return{arrayValue:{values:n}}}class oh extends Jd{constructor(e){super(),this.elements=e}}function ih(e,t){let n=lh(t);for(const r of e.elements)n=n.filter(e=>!_u(e,r));return{arrayValue:{values:n}}}class sh extends Jd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ah(e){return iu(e.integerValue||e.doubleValue)}function lh(e){return Pu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ch{constructor(e,t){this.field=e,this.transform=t}}class uh{constructor(e,t){this.version=e,this.transformResults=t}}class dh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dh}static exists(e){return new dh(void 0,e)}static updateTime(e){return new dh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ph{}function fh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ch(e.key,dh.none()):new bh(e.key,e.data,dh.none());{const n=e.data,r=Bu.empty();let o=new Xc(Bl.comparator);for(let e of t.fields)if(!o.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),o=o.add(e)}return new wh(e.key,r,new eu(o.toArray()),dh.none())}}function mh(e,t,n){e instanceof bh?function(e,t,n){const r=e.value.clone(),o=kh(e.fieldTransforms,t,n.transformResults);r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof wh?function(e,t,n){if(!hh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=kh(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(xh(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function gh(e,t,n,r){return e instanceof bh?function(e,t,n,r){if(!hh(e.precondition,t))return n;const o=e.value.clone(),i=_h(e.fieldTransforms,r,t);return o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null}(e,t,n,r):e instanceof wh?function(e,t,n,r){if(!hh(e.precondition,t))return n;const o=_h(e.fieldTransforms,r,t),i=t.data;return i.setAll(xh(e)),i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return hh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function vh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),o=eh(r.transform,e||null);null!=o&&(null===n&&(n=Bu.empty()),n.set(r.field,o))}return n||null}function yh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ml(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof nh&&t instanceof nh||e instanceof oh&&t instanceof oh?Ml(e.elements,t.elements,_u):e instanceof sh&&t instanceof sh?_u(e.Ae,t.Ae):e instanceof th&&t instanceof th}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class bh extends ph{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class wh extends ph{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function xh(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function kh(e,t,n){const r=new Map;ml(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const i=e[o],s=i.transform,a=t.data.field(i.field);r.set(i.field,Zd(s,a,n[o]))}return r}function _h(e,t,n){const r=new Map;for(const o of e){const e=o.transform,i=n.data.field(o.field);r.set(o.field,Xd(e,i,t))}return r}class Ch extends ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sh extends ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Eh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&mh(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=gh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=gh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ud();return this.mutations.forEach(r=>{const o=e.get(r.key),i=o.overlayedDocument;let s=this.applyToLocalView(i,o.mutatedFields);s=t.has(r.key)?null:s;const a=fh(i,s);null!==a&&n.set(r.key,a),i.isValidDocument()||i.convertToNoDocument(ec.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Wd())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,(e,t)=>yh(e,t))&&Ml(this.baseMutations,e.baseMutations,(e,t)=>yh(e,t))}}class Th{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ml(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Hd;const o=e.mutations;for(let i=0;i<o.length;i++)r=r.insert(o[i].key,n[i].version);return new Th(e,t,n,r)}}class Ah{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Dh{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class Nh{constructor(e,t){this.count=e,this.unchangedNames=t}}var Oh,Ih;function Ph(e){switch(e){case vl.OK:return pl(64938);case vl.CANCELLED:case vl.UNKNOWN:case vl.DEADLINE_EXCEEDED:case vl.RESOURCE_EXHAUSTED:case vl.INTERNAL:case vl.UNAVAILABLE:case vl.UNAUTHENTICATED:return!1;case vl.INVALID_ARGUMENT:case vl.NOT_FOUND:case vl.ALREADY_EXISTS:case vl.PERMISSION_DENIED:case vl.FAILED_PRECONDITION:case vl.ABORTED:case vl.OUT_OF_RANGE:case vl.UNIMPLEMENTED:case vl.DATA_LOSS:return!0;default:return pl(15467,{code:e})}}function jh(e){if(void 0===e)return ul("GRPC error has no .code"),vl.UNKNOWN;switch(e){case Oh.OK:return vl.OK;case Oh.CANCELLED:return vl.CANCELLED;case Oh.UNKNOWN:return vl.UNKNOWN;case Oh.DEADLINE_EXCEEDED:return vl.DEADLINE_EXCEEDED;case Oh.RESOURCE_EXHAUSTED:return vl.RESOURCE_EXHAUSTED;case Oh.INTERNAL:return vl.INTERNAL;case Oh.UNAVAILABLE:return vl.UNAVAILABLE;case Oh.UNAUTHENTICATED:return vl.UNAUTHENTICATED;case Oh.INVALID_ARGUMENT:return vl.INVALID_ARGUMENT;case Oh.NOT_FOUND:return vl.NOT_FOUND;case Oh.ALREADY_EXISTS:return vl.ALREADY_EXISTS;case Oh.PERMISSION_DENIED:return vl.PERMISSION_DENIED;case Oh.FAILED_PRECONDITION:return vl.FAILED_PRECONDITION;case Oh.ABORTED:return vl.ABORTED;case Oh.OUT_OF_RANGE:return vl.OUT_OF_RANGE;case Oh.UNIMPLEMENTED:return vl.UNIMPLEMENTED;case Oh.DATA_LOSS:return vl.DATA_LOSS;default:return pl(39323,{code:e})}}(Ih=Oh||(Oh={}))[Ih.OK=0]="OK",Ih[Ih.CANCELLED=1]="CANCELLED",Ih[Ih.UNKNOWN=2]="UNKNOWN",Ih[Ih.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ih[Ih.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ih[Ih.NOT_FOUND=5]="NOT_FOUND",Ih[Ih.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ih[Ih.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ih[Ih.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ih[Ih.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ih[Ih.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ih[Ih.ABORTED=10]="ABORTED",Ih[Ih.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ih[Ih.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ih[Ih.INTERNAL=13]="INTERNAL",Ih[Ih.UNAVAILABLE=14]="UNAVAILABLE",Ih[Ih.DATA_LOSS=15]="DATA_LOSS";let Mh=null;function Rh(){return new TextEncoder}const Fh=new Ha([4294967295,4294967295],0);function Lh(e){const t=Rh().encode(e),n=new qa;return n.update(t),new Uint8Array(n.digest())}function zh(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Ha([n,r],0),new Ha([o,i],0)]}class Bh{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Uh("Invalid padding: ".concat(t));if(n<0)throw new Uh("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Uh("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Uh("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Ha.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Ha.fromNumber(n)));return 1===r.compare(Fh)&&(r=new Ha([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Lh(e),[n,r]=zh(t);for(let o=0;o<this.hashCount;o++){const e=this.ye(n,r,o);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new Bh(o,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=Lh(e),[n,r]=zh(t);for(let o=0;o<this.hashCount;o++){const e=this.ye(n,r,o);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Uh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Hh.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Vh(ec.min(),r,new $c(Nl),Rd(),Wd())}}class Hh{constructor(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Hh(n,t,Wd(),Wd(),Wd())}}class qh{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Wh{constructor(e,t){this.targetId=e,this.Ce=t}}class Yh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nu.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Kh{constructor(){this.ve=0,this.Fe=Qh(),this.Me=nu.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Wd(),t=Wd(),n=Wd();return this.Fe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:pl(38017,{changeType:o})}}),new Hh(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Qh()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ml(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Gh{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rd(),this.Je=$h(),this.He=$h(),this.Ye=new $c(Nl)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:pl(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(md(i))if(0===n){const e=new Ul(i.path);this.et(t,e,Vu.newNoDocument(e,ec.min()))}else ml(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var o;const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(o=Mh)||void 0===o||o.lt(function(e,t,n,r,o){var i,s,a,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===o,hashCount:null!==(i=null===d||void 0===d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(s=null===d||void 0===d||null===(a=d.bits)||void 0===a||null===(a=a.bitmap)||void 0===a?void 0:a.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=t;let i,s;try{i=su(n).toUint8Array()}catch(e){if(e instanceof tu)return dl("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Bh(i,r,o)}catch(e){return dl(e instanceof Uh?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const o=this.Ge.ht(),i="projects/".concat(o.projectId,"/databases/").concat(o.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const o=this.ot(r);if(o){if(n.current&&md(o.target)){const t=new Ul(o.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Vu.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=Wd();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Vh(e,t,this.Ye,this.je,n);return this.je=Rd(),this.Je=$h(),this.He=$h(),this.Ye=new $c(Nl),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Kh,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Xc(Nl),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Xc(Nl),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||cl("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Kh),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function $h(){return new $c(Ul.comparator)}function Qh(){return new $c(Ul.comparator)}const Jh={asc:"ASCENDING",desc:"DESCENDING"},Xh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zh={and:"AND",or:"OR"};class ep{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tp(e,t){return e.useProto3Json||mc(t)?t:{value:t}}function np(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function rp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function op(e,t){return np(e,t.toTimestamp())}function ip(e){return ml(!!e,49232),ec.fromTimestamp(function(e){const t=ou(e);return new Zl(t.seconds,t.nanos)}(e))}function sp(e,t){return ap(e,t).canonicalString()}function ap(e,t){const n=function(e){return new Ll(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function lp(e){const t=Ll.fromString(e);return ml(Dp(t),10190,{key:t.toString()}),t}function cp(e,t){return sp(e.databaseId,t.path)}function up(e,t){const n=lp(t);if(n.get(1)!==e.databaseId.projectId)throw new yl(vl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yl(vl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ul(fp(n))}function dp(e,t){return sp(e.databaseId,t)}function hp(e){const t=lp(e);return 4===t.length?Ll.emptyPath():fp(t)}function pp(e){return new Ll(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fp(e){return ml(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function mp(e,t,n){return{name:cp(e,t),fields:n.value.mapValue.fields}}function gp(e,t){let n;if(t instanceof bh)n={update:mp(e,t.key,t.value)};else if(t instanceof Ch)n={delete:cp(e,t.key)};else if(t instanceof wh)n={update:mp(e,t.key,t.data),updateMask:Ap(t.fieldMask)};else{if(!(t instanceof Sh))return pl(16599,{Vt:t.type});n={verify:cp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof th)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof nh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof oh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sh)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw pl(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:op(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:pl(27497)}(e,t.precondition)),n}function vp(e,t){return{documents:[dp(e,t.path)]}}function yp(e,t){const n={structuredQuery:{}},r=t.path;let o;null!==t.collectionGroup?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dp(e,o);const i=function(e){if(0!==e.length)return Tp(Qu.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Sp(e.field),direction:kp(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=tp(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:o}}function bp(e,t,n,r){const{ft:o,parent:i}=yp(e,t),s={},a=[];let l=0;return n.forEach(e=>{const t=r?e.alias:"aggregate_"+l++;s[t]=e.alias,"count"===e.aggregateType?a.push({alias:t,count:{}}):"avg"===e.aggregateType?a.push({alias:t,avg:{field:Sp(e.fieldPath)}}):"sum"===e.aggregateType&&a.push({alias:t,sum:{field:Sp(e.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:o.structuredQuery},parent:o.parent},gt:s,parent:i}}function wp(e){let t=hp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){ml(1===r,65062);const e=n.from[0];e.allDescendants?o=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=xp(e);return t instanceof Qu&&Xu(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new Yu(Ep(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,mc(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Hu(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Hu(n,t)}(n.endAt)),vd(t,o,s,i,a,"F",l,c)}function xp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ep(e.unaryFilter.field);return $u.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ep(e.unaryFilter.field);return $u.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ep(e.unaryFilter.field);return $u.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ep(e.unaryFilter.field);return $u.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pl(61313);default:return pl(60726)}}(e):void 0!==e.fieldFilter?function(e){return $u.create(Ep(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pl(58110);default:return pl(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Qu.create(e.compositeFilter.filters.map(e=>xp(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return pl(1026)}}(e.compositeFilter.op))}(e):pl(30097,{filter:e})}function kp(e){return Jh[e]}function _p(e){return Xh[e]}function Cp(e){return Zh[e]}function Sp(e){return{fieldPath:e.canonicalString()}}function Ep(e){return Bl.fromServerFormat(e.fieldPath)}function Tp(e){return e instanceof $u?function(e){if("=="===e.op){if(Mu(e.value))return{unaryFilter:{field:Sp(e.field),op:"IS_NAN"}};if(ju(e.value))return{unaryFilter:{field:Sp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Mu(e.value))return{unaryFilter:{field:Sp(e.field),op:"IS_NOT_NAN"}};if(ju(e.value))return{unaryFilter:{field:Sp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sp(e.field),op:_p(e.op),value:e.value}}}(e):e instanceof Qu?function(e){const t=e.getFilters().map(e=>Tp(e));return 1===t.length?t[0]:{compositeFilter:{op:Cp(e.op),filters:t}}}(e):pl(54877,{filter:e})}function Ap(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Dp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Np{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ec.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ec.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:nu.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Np(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Np(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Np(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Np(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Op{constructor(e){this.yt=e}}function Ip(e){const t=wp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ed(t,t.limit,"L"):t}class Pp{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(iu(e.integerValue));else if("doubleValue"in e){const n=iu(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),gc(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=ou(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(su(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?zu(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Fu(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):pl(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const o=xu,i=(null===(n=r[o].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(iu(i)),this.Ot(o,t),this.Ct(r[o],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Ul.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Pp.Kt=new Pp;class jp{constructor(){this.Cn=new Mp}addToCollectionParentIndex(e,t){return this.Cn.add(t),uc.resolve()}getCollectionParents(e,t){return uc.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return uc.resolve()}deleteFieldIndex(e,t){return uc.resolve()}deleteAllFieldIndexes(e){return uc.resolve()}createTargetIndexes(e,t){return uc.resolve()}getDocumentsMatchingTarget(e,t){return uc.resolve(null)}getIndexType(e,t){return uc.resolve(0)}getFieldIndexes(e,t){return uc.resolve([])}getNextCollectionGroupToUpdate(e){return uc.resolve(null)}getMinOffset(e,t){return uc.resolve(ic.min())}getMinOffsetFromCollectionGroup(e,t){return uc.resolve(ic.min())}updateCollectionGroup(e,t,n){return uc.resolve()}updateIndexEntries(e,t){return uc.resolve()}}class Mp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Xc(Ll.comparator),o=!r.has(n);return this.index[t]=r.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Xc(Ll.comparator)).toArray()}}new Uint8Array(0);const Rp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fp=41943040;class Lp{static withCacheSize(e){return new Lp(e,Lp.DEFAULT_COLLECTION_PERCENTILE,Lp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Lp.DEFAULT_COLLECTION_PERCENTILE=10,Lp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lp.DEFAULT=new Lp(Fp,Lp.DEFAULT_COLLECTION_PERCENTILE,Lp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lp.DISABLED=new Lp(-1,0,0);class zp{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zp(0)}static cr(){return new zp(-1)}}const Bp="LruGarbageCollector",Up=1048576;function Vp(e,t){let[n,r]=e,[o,i]=t;const s=Nl(n,o);return 0===s?Nl(r,i):s}class Hp{constructor(e){this.Ir=e,this.buffer=new Xc(Vp),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Vp(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qp{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){cl(Bp,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){hc(e)?cl(Bp,"Ignoring IndexedDB error during garbage collection: ",e):await cc(e)}await this.Vr(3e5)})}}class Wp{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return uc.resolve(pc.ce);const n=new Hp(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(cl("LruGarbageCollector","Garbage collection skipped; disabled"),uc.resolve(Rp)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(cl("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Rp):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,o,i,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(cl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(o=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),ll()<=Fn.DEBUG&&cl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-i)+"ms\n"+"\tRemoved ".concat(o," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),uc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})))}}function Yp(e,t){return new Wp(e,t)}class Kp{constructor(){this.changes=new jd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?uc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class $p{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&gh(n.mutation,e,eu.empty(),Zl.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Wd()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wd();const r=Bd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ld();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Bd();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Wd()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let o=Rd();const i=Vd(),s=Vd();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof wh)?o=o.insert(t.key,t):void 0!==s?(i.set(t.key,s.mutation.getFieldMask()),gh(s.mutation,t,s.mutation.getFieldMask(),Zl.now())):i.set(t.key,eu.empty())}),this.recalculateAndSaveOverlays(e,o).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new Gp(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=Vd();let r=new $c((e,t)=>e-t),o=Wd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const o of e)o.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let s=n.get(e)||eu.empty();s=o.applyToLocalView(i,s),n.set(e,s);const a=(r.get(o.batchId)||Wd()).add(e);r=r.insert(o.batchId,a)})}).next(()=>{const i=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=Ud();l.forEach(e=>{if(!o.has(e)){const r=fh(t.get(e),n.get(e));null!==r&&c.set(e,r),o=o.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,a,c))}return uc.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ul.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(o=>{const i=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):uc.resolve(Bd());let s=tc,a=o;return i.next(t=>uc.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),o.get(t)?uc.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,o)).next(()=>this.computeViews(e,a,t,Wd())).next(e=>({batchId:s,changes:zd(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ul(t)).next(e=>{let t=Ld();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const o=t.collectionGroup;let i=Ld();return this.indexManager.getCollectionParents(e,o).next(s=>uc.forEach(s,s=>{const a=function(e,t){return new gd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(o));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,r))).next(e=>{o.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Vu.newInvalidDocument(r)))});let n=Ld();return e.forEach((e,r)=>{const i=o.get(e);void 0!==i&&gh(i.mutation,r,eu.empty(),Zl.now()),Nd(t,r)&&(n=n.insert(e,r))}),n})}}class Qp{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return uc.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ip(e.createTime)}}(t)),uc.resolve()}getNamedQuery(e,t){return uc.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Ip(e.bundledQuery),readTime:ip(e.readTime)}}(t)),uc.resolve()}}class Jp{constructor(){this.overlays=new $c(Ul.comparator),this.qr=new Map}getOverlay(e,t){return uc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Bd();return uc.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),uc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),uc.resolve()}getOverlaysForCollection(e,t,n){const r=Bd(),o=t.length+1,i=new Ul(t.child("")),s=this.overlays.getIteratorFrom(i);for(;s.hasNext();){const e=s.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===o&&e.largestBatchId>n&&r.set(e.getKey(),e)}return uc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let o=new $c((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=o.get(e.largestBatchId);null===t&&(t=Bd(),o=o.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Bd(),a=o.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return uc.resolve(s)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ah(t,n));let o=this.qr.get(t);void 0===o&&(o=Wd(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}class Xp{constructor(){this.sessionToken=nu.EMPTY_BYTE_STRING}getSessionToken(e){return uc.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,uc.resolve()}}class Zp{constructor(){this.Qr=new Xc(ef.$r),this.Ur=new Xc(ef.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new ef(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new ef(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Ul(new Ll([])),n=new ef(t,e),r=new ef(t,e+1),o=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),o.push(e.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ul(new Ll([])),n=new ef(t,e),r=new ef(t,e+1);let o=Wd();return this.Ur.forEachInRange([n,r],e=>{o=o.add(e.key)}),o}containsKey(e){const t=new ef(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ef{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ul.comparator(e.key,t.key)||Nl(e.Yr,t.Yr)}static Kr(e,t){return Nl(e.Yr,t.Yr)||Ul.comparator(e.key,t.key)}}class tf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Xc(ef.$r)}checkEmpty(e){return uc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Eh(o,t,n,r);this.mutationQueue.push(i);for(const s of r)this.Zr=this.Zr.add(new ef(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return uc.resolve(i)}lookupMutationBatch(e,t){return uc.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),o=r<0?0:r;return uc.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return uc.resolve(0===this.mutationQueue.length?fc:this.tr-1)}getAllMutationBatches(e){return uc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ef(t,0),r=new ef(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);o.push(t)}),uc.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Xc(Nl);return t.forEach(e=>{const t=new ef(e,0),r=new ef(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),uc.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let o=n;Ul.isDocumentKey(o)||(o=o.child(""));const i=new ef(new Ul(o),0);let s=new Xc(Nl);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Yr)),!0)},i),uc.resolve(this.ti(s))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){ml(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return uc.forEach(t.mutations,r=>{const o=new ef(r.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new ef(t,0),r=this.Zr.firstAfterOrEqual(n);return uc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,uc.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nf{constructor(e){this.ri=e,this.docs=new $c(Ul.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),o=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return uc.resolve(n?n.document.mutableCopy():Vu.newInvalidDocument(t))}getEntries(e,t){let n=Rd();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Vu.newInvalidDocument(e))}),uc.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let o=Rd();const i=t.path,s=new Ul(i.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||sc(oc(s),n)<=0||(r.has(s.key)||Nd(t,s))&&(o=o.insert(s.key,s.mutableCopy()))}return uc.resolve(o)}getAllFromCollectionGroup(e,t,n,r){pl(9500)}ii(e,t){return uc.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new rf(this)}getSize(e){return uc.resolve(this.size)}}class rf extends Kp{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),uc.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class of{constructor(e){this.persistence=e,this.si=new jd(e=>pd(e),fd),this.lastRemoteSnapshotVersion=ec.min(),this.highestTargetId=0,this.oi=0,this._i=new Zp,this.targetCount=0,this.ai=zp.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),uc.resolve()}getLastRemoteSnapshotVersion(e){return uc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return uc.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),uc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),uc.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new zp(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,uc.resolve()}updateTargetData(e,t){return this.Pr(t),uc.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,uc.resolve()}removeTargets(e,t,n){let r=0;const o=[];return this.si.forEach((i,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),uc.waitFor(o).next(()=>r)}getTargetCount(e){return uc.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return uc.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),uc.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(t=>{o.push(r.markPotentiallyOrphaned(e,t))}),uc.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),uc.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return uc.resolve(n)}containsKey(e,t){return uc.resolve(this._i.containsKey(t))}}class sf{constructor(e,t){this.ui={},this.overlays={},this.ci=new pc(0),this.li=!1,this.li=!0,this.hi=new Xp,this.referenceDelegate=e(this),this.Pi=new of(this),this.indexManager=new jp,this.remoteDocumentCache=function(e){return new nf(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Op(t),this.Ii=new Qp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Jp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new tf(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){cl("MemoryPersistence","Starting transaction:",e);const r=new af(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return uc.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class af extends lc{constructor(e){super(),this.currentSequenceNumber=e}}class lf{constructor(e){this.persistence=e,this.Ri=new Zp,this.Vi=null}static mi(e){return new lf(e)}get fi(){if(this.Vi)return this.Vi;throw pl(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),uc.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),uc.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),uc.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return uc.forEach(this.fi,n=>{const r=Ul.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,ec.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return uc.or([()=>uc.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class cf{constructor(e,t){this.persistence=e,this.pi=new jd(e=>bc(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Yp(this,t)}static mi(e,t){return new cf(e,t)}Ei(){}di(e){return uc.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return uc.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?uc.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,o.removeEntry(r,ec.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),uc.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),uc.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),uc.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),uc.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nu(e.data.value)),t}br(e,t,n){return uc.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return uc.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class uf{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=Wd(),r=Wd();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new uf(e,t.fromCache,n,r)}}class df{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hf{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=cn()?8:dc(rn())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const o={result:null};return this.ys(e,t).next(e=>{o.result=e}).next(()=>{if(!o.result)return this.ws(e,t,r,n).next(e=>{o.result=e})}).next(()=>{if(o.result)return;const n=new df;return this.Ss(e,t,n).next(r=>{if(o.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>o.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(ll()<=Fn.DEBUG&&cl("QueryEngine","SDK will not create cache indexes for query:",Dd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),uc.resolve()):(ll()<=Fn.DEBUG&&cl("QueryEngine","Query:",Dd(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(ll()<=Fn.DEBUG&&cl("QueryEngine","The SDK decides to create cache indexes for query:",Dd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kd(t))):uc.resolve())}ys(e,t){if(bd(t))return uc.resolve(null);let n=kd(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Ed(t,null,"F"),n=kd(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const o=Wd(...r);return this.ps.getDocuments(e,o).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,o,n.readTime)?this.ys(e,Ed(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return bd(t)||r.isEqual(ec.min())?uc.resolve(null):this.ps.getDocuments(e,n).next(o=>{const i=this.Ds(t,o);return this.Cs(t,i,n,r)?uc.resolve(null):(ll()<=Fn.DEBUG&&cl("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dd(t)),this.vs(e,i,t,rc(r,tc)).next(e=>e))})}Ds(e,t){let n=new Xc(Id(e));return t.forEach((t,r)=>{Nd(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,t,n){return ll()<=Fn.DEBUG&&cl("QueryEngine","Using full collection scan to execute query:",Dd(t)),this.ps.getDocumentsMatchingQuery(e,t,ic.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const pf="LocalStore";class ff{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new $c(Nl),this.xs=new jd(e=>pd(e),fd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $p(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function mf(e,t,n,r){return new ff(e,t,n,r)}async function gf(e,t){const n=gl(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(o=>(r=o,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const o=[],i=[];let s=Wd();for(const e of r){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ls:e,removedBatchIds:o,addedBatchIds:i}))})})}function vf(e){const t=gl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function yf(e,t,n){let r=Wd(),o=Wd();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Rd();return n.forEach((n,i)=>{const s=e.get(n);i.isFoundDocument()!==s.isFoundDocument()&&(o=o.add(n)),i.isNoDocument()&&i.version.isEqual(ec.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):cl(pf,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)}),{ks:r,qs:o}})}function bf(e,t){const n=gl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=fc),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function wf(e,t){const n=gl(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(o=>o?(r=o,uc.resolve(r)):n.Pi.allocateTargetId(e).next(o=>(r=new Np(t,o,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function xf(e,t,n){const r=gl(e),o=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,o))}catch(e){if(!hc(e))throw e;cl(pf,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function kf(e,t,n){const r=gl(e);let o=ec.min(),i=Wd();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=gl(e),o=r.xs.get(n);return void 0!==o?uc.resolve(r.Ms.get(o)):r.Pi.getTargetData(t,n)}(r,e,kd(t)).next(t=>{if(t)return o=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?o:ec.min(),n?i:Wd())).next(e=>(_f(r,Od(t),e),{documents:e,Qs:i})))}function _f(e,t,n){let r=e.Os.get(t)||ec.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Cf{constructor(){this.activeTargetIds=Kd()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sf{constructor(){this.Mo=new Cf,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Cf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ef{Oo(e){}shutdown(){}}const Tf="ConnectivityMonitor";class Af{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){cl(Tf,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){cl(Tf,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Df=null;function Nf(){return null===Df?Df=268435456+Math.round(2147483648*Math.random()):Df++,"0x"+Df.toString(16)}const Of="RestConnection",If={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pf{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===mu?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,o){const i=Nf(),s=this.zo(e,t.toUriEncodedString());cl(Of,"Sending RPC '".concat(e,"' ").concat(i,":"),s,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,o);const{host:l}=new URL(s),c=Jt(l);return this.Jo(e,s,a,n,c).then(t=>(cl(Of,"Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw dl(Of,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",s,"request:",n),t})}Ho(e,t,n,r,o,i){return this.Go(e,t,n,r,o)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+sl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=If[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class jf{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Mf="WebChannelConnection";class Rf extends Pf{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,o){const i=Nf();return new Promise((o,s)=>{const a=new Ka;a.setWithCredentials(!0),a.listenOnce($a.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Qa.NO_ERROR:const n=a.getResponseJson();cl(Mf,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(n)),o(n);break;case Qa.TIMEOUT:cl(Mf,"RPC '".concat(e,"' ").concat(i," timed out")),s(new yl(vl.DEADLINE_EXCEEDED,"Request time out"));break;case Qa.HTTP_ERROR:const r=a.getStatus();if(cl(Mf,"RPC '".concat(e,"' ").concat(i," failed with status:"),r,"response text:",a.getResponseText()),r>0){var t;let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(vl).indexOf(t)>=0?t:vl.UNKNOWN}(n.status);s(new yl(e,n.message))}else s(new yl(vl.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new yl(vl.UNAVAILABLE,"Connection failed."));break;default:pl(9055,{l_:e,streamId:i,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{cl(Mf,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);cl(Mf,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Nf(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=el(),s=Za(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=o.join("");cl(Mf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=i.createWebChannel(c,a);this.I_(u);let d=!1,h=!1;const p=new jf({Yo:t=>{h?cl(Mf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(cl(Mf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),cl(Mf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(u,Ga.EventType.OPEN,()=>{h||(cl(Mf,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.o_())}),f(u,Ga.EventType.CLOSE,()=>{h||(h=!0,cl(Mf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.a_(),this.E_(u))}),f(u,Ga.EventType.ERROR,t=>{h||(h=!0,dl(Mf,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),p.a_(new yl(vl.UNAVAILABLE,"The operation could not be completed")))}),f(u,Ga.EventType.MESSAGE,t=>{if(!h){var n;const o=t.data[0];ml(!!o,16349);const i=o,s=(null===i||void 0===i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){cl(Mf,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Oh[e];if(void 0!==t)return jh(t)}(t),o=s.message;void 0===n&&(n=vl.INTERNAL,o="Unknown error status: "+t+" with message "+s.message),h=!0,p.a_(new yl(n,o)),u.close()}else cl(Mf,"RPC '".concat(e,"' stream ").concat(r," received:"),o),p.u_(o)}}),f(s,Xa.STAT_EVENT,t=>{t.stat===Ja.PROXY?cl(Mf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ja.NOPROXY&&cl(Mf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Ff(){return"undefined"!=typeof document?document:null}function Lf(e){return new ep(e,!0)}class zf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&cl("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Bf="PersistentStream";class Uf{constructor(e,t,n,r,o,i,s,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zf(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===vl.RESOURCE_EXHAUSTED?(ul(t.toString()),ul("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===vl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new yl(vl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return cl(Bf,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(cl(Bf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vf extends Uf{constructor(e,t,n,r,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:pl(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(ml(void 0===t||"string"==typeof t,58123),nu.fromBase64String(t||"")):(ml(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),nu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?vl.UNKNOWN:jh(e.code);return new yl(t,e.message||"")}(s);n=new Yh(r,o,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=up(e,r.document.name),i=ip(r.document.updateTime),s=r.document.createTime?ip(r.document.createTime):ec.min(),a=new Bu({mapValue:{fields:r.document.fields}}),l=Vu.newFoundDocument(o,i,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new qh(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=up(e,r.document),i=r.readTime?ip(r.readTime):ec.min(),s=Vu.newNoDocument(o,i),a=r.removedTargetIds||[];n=new qh([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=up(e,r.document),i=r.removedTargetIds||[];n=new qh([],i,o,null)}else{if(!("filter"in t))return pl(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:o}=e,i=new Nh(r,o),s=e.targetId;n=new Wh(s,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ec.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ec.min():t.readTime?ip(t.readTime):ec.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=pp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=md(r)?{documents:vp(e,r)}:{query:yp(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=rp(e,t.resumeToken);const r=tp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ec.min())>0){n.readTime=np(e,t.snapshotVersion.toTimestamp());const r=tp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pl(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=pp(this.serializer),t.removeTarget=e,this.q_(t)}}class Hf extends Uf{constructor(e,t,n,r,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ml(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ml(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){ml(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(ml(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?ip(e.updateTime):ip(t);return n.isEqual(ec.min())&&(n=ip(t)),new uh(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=ip(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=pp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>gp(this.serializer,e))};this.q_(t)}}class qf{}class Wf extends qf{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new yl(vl.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[i,s]=o;return this.connection.Go(e,ap(t,n),r,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===vl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yl(vl.UNKNOWN,e.toString())})}Ho(e,t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Ho(e,ap(t,n),r,s,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===vl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yl(vl.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Yf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(ul(t),this.aa=!1):cl("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Kf="RemoteStore";class Gf{constructor(e,t,n,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{rm(this)&&(cl(Kf,"Restarting streams for network reachability change."),await async function(e){const t=gl(e);t.Ea.add(4),await Qf(t),t.Ra.set("Unknown"),t.Ea.delete(4),await $f(t)}(this))})}),this.Ra=new Yf(n,r)}}async function $f(e){if(rm(e))for(const t of e.da)await t(!0)}async function Qf(e){for(const t of e.da)await t(!1)}function Jf(e,t){const n=gl(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),nm(n)?tm(n):km(n).O_()&&Zf(n,t))}function Xf(e,t){const n=gl(e),r=km(n);n.Ia.delete(t),r.O_()&&em(n,t),0===n.Ia.size&&(r.O_()?r.L_():rm(n)&&n.Ra.set("Unknown"))}function Zf(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ec.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}km(e).Y_(t)}function em(e,t){e.Va.Ue(t),km(e).Z_(t)}function tm(e){e.Va=new Gh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),km(e).start(),e.Ra.ua()}function nm(e){return rm(e)&&!km(e).x_()&&e.Ia.size>0}function rm(e){return 0===gl(e).Ea.size}function om(e){e.Va=void 0}async function im(e){e.Ra.set("Online")}async function sm(e){e.Ia.forEach((t,n)=>{Zf(e,t)})}async function am(e,t){om(e),nm(e)?(e.Ra.ha(t),tm(e)):e.Ra.set("Unknown")}async function lm(e,t,n){if(e.Ra.set("Online"),t instanceof Yh&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){cl(Kf,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await cm(e,n)}else if(t instanceof qh?e.Va.Ze(t):t instanceof Wh?e.Va.st(t):e.Va.tt(t),!n.isEqual(ec.min()))try{const t=await vf(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const o=e.Ia.get(r);o&&e.Ia.set(r,o.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(nu.EMPTY_BYTE_STRING,r.snapshotVersion)),em(e,t);const o=new Np(r.target,t,n,r.sequenceNumber);Zf(e,o)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){cl(Kf,"Failed to raise snapshot:",t),await cm(e,t)}}async function cm(e,t,n){if(!hc(t))throw t;e.Ea.add(1),await Qf(e),e.Ra.set("Offline"),n||(n=()=>vf(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{cl(Kf,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await $f(e)})}function um(e,t){return t().catch(n=>cm(e,n,t))}async function dm(e){const t=gl(e),n=_m(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:fc;for(;hm(t);)try{const e=await bf(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,pm(t,e)}catch(e){await cm(t,e)}fm(t)&&mm(t)}function hm(e){return rm(e)&&e.Ta.length<10}function pm(e,t){e.Ta.push(t);const n=_m(e);n.O_()&&n.X_&&n.ea(t.mutations)}function fm(e){return rm(e)&&!_m(e).x_()&&e.Ta.length>0}function mm(e){_m(e).start()}async function gm(e){_m(e).ra()}async function vm(e){const t=_m(e);for(const n of e.Ta)t.ea(n.mutations)}async function ym(e,t,n){const r=e.Ta.shift(),o=Th.from(r,t,n);await um(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await dm(e)}async function bm(e,t){t&&_m(e).X_&&await async function(e,t){if(function(e){return Ph(e)&&e!==vl.ABORTED}(t.code)){const n=e.Ta.shift();_m(e).B_(),await um(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await dm(e)}}(e,t),fm(e)&&mm(e)}async function wm(e,t){const n=gl(e);n.asyncQueue.verifyOperationInProgress(),cl(Kf,"RemoteStore received new credentials");const r=rm(n);n.Ea.add(3),await Qf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await $f(n)}async function xm(e,t){const n=gl(e);t?(n.Ea.delete(2),await $f(n)):t||(n.Ea.add(2),await Qf(n),n.Ra.set("Unknown"))}function km(e){return e.ma||(e.ma=function(e,t,n){const r=gl(e);return r.sa(),new Vf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:im.bind(null,e),t_:sm.bind(null,e),r_:am.bind(null,e),H_:lm.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),nm(e)?tm(e):e.Ra.set("Unknown")):(await e.ma.stop(),om(e))})),e.ma}function _m(e){return e.fa||(e.fa=function(e,t,n){const r=gl(e);return r.sa(),new Hf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:gm.bind(null,e),r_:bm.bind(null,e),ta:vm.bind(null,e),na:ym.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await dm(e)):(await e.fa.stop(),e.Ta.length>0&&(cl(Kf,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Cm{constructor(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new bl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,o){const i=Date.now()+n,s=new Cm(e,t,i,r,o);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yl(vl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sm(e,t){if(ul("AsyncQueue","".concat(t,": ").concat(e)),hc(e))return new yl(vl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Em{static emptySet(e){return new Em(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ul.comparator(t.key,n.key):(e,t)=>Ul.comparator(e.key,t.key),this.keyedMap=Ld(),this.sortedSet=new $c(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Em))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Em;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Tm{constructor(){this.ga=new $c(Ul.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):pl(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Am{constructor(e,t,n,r,o,i,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,o){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Am(e,t,Em.emptySet(t),i,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Dm{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Nm{constructor(){this.queries=Om(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=gl(e),r=n.queries;n.queries=Om(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new yl(vl.ABORTED,"Firestore shutting down"))}}function Om(){return new jd(e=>Ad(e),Td)}async function Im(e,t){const n=gl(e);let r=3;const o=t.query;let i=n.queries.get(o);i?!i.ba()&&t.Da()&&(r=2):(i=new Dm,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(o,!0);break;case 1:i.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(e){const n=Sm(e,"Initialization of query '".concat(Dd(t.query),"' failed"));return void t.onError(n)}n.queries.set(o,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&Rm(n)}async function Pm(e,t){const n=gl(e),r=t.query;let o=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?o=t.Da()?0:1:!i.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jm(e,t){const n=gl(e);let r=!1;for(const o of t){const e=o.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(o)&&(r=!0);t.wa=o}}r&&Rm(n)}function Mm(e,t,n){const r=gl(e),o=r.queries.get(t);if(o)for(const i of o.Sa)i.onError(n);r.queries.delete(t)}function Rm(e){e.Ca.forEach(e=>{e.next()})}var Fm,Lm;(Lm=Fm||(Fm={})).Ma="default",Lm.Cache="cache";class zm{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Am(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Am.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fm.Cache}}class Bm{constructor(e){this.key=e}}class Um{constructor(e){this.key=e}}class Vm{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Wd(),this.mutatedKeys=Wd(),this.eu=Id(e),this.tu=new Em(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Tm,r=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,i=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Nd(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.su(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(u?(i=i.add(u),o=h?o.add(e):o.delete(e)):(i=i.delete(e),o=o.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),o=o.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:s,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pl(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==i.length||l?{snapshot:new Am(this.query,e.tu,o,i,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Tm,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Wd(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Um(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Bm(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Wd();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Am.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Hm="SyncEngine";class qm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Wm{constructor(e){this.key=e,this.hu=!1}}class Ym{constructor(e,t,n,r,o,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new jd(e=>Ad(e),Td),this.Iu=new Map,this.Eu=new Set,this.du=new $c(Ul.comparator),this.Au=new Map,this.Ru=new Zp,this.Vu={},this.mu=new Map,this.fu=zp.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Km(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=fg(e);let o;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.lu()):o=await $m(r,t,n,!0),o}async function Gm(e,t){const n=fg(e);await $m(n,t,!0,!1)}async function $m(e,t,n,r){const o=await wf(e.localStore,kd(t)),i=o.targetId,s=e.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Qm(e,t,i,"current"===s,o.resumeToken)),e.isPrimaryClient&&n&&Jf(e.remoteStore,o),a}async function Qm(e,t,n,r,o){e.pu=(t,n,r)=>async function(e,t,n,r){let o=t.view.ru(n);o.Cs&&(o=await kf(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,o)}));const i=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(o,e.isPrimaryClient,i,s);return lg(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const i=await kf(e.localStore,t,!0),s=new Vm(t,i.Qs),a=s.ru(i.documents),l=Hh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,o),c=s.applyChanges(a,e.isPrimaryClient,l);lg(e,n,c.au);const u=new qm(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Jm(e,t,n){const r=gl(e),o=r.Tu.get(t),i=r.Iu.get(o.targetId);if(i.length>1)return r.Iu.set(o.targetId,i.filter(e=>!Td(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await xf(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Xf(r.remoteStore,o.targetId),sg(r,o.targetId)}).catch(cc)):(sg(r,o.targetId),await xf(r.localStore,o.targetId,!0))}async function Xm(e,t){const n=gl(e),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&1===o.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xf(n.remoteStore,r.targetId))}async function Zm(e,t){const n=gl(e);try{const e=await function(e,t){const n=gl(e),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const s=[];t.targetChanges.forEach((i,a)=>{const l=o.get(a);if(!l)return;s.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(nu.EMPTY_BYTE_STRING,ec.min()).withLastLimboFreeSnapshotVersion(ec.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),o=o.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&s.push(n.Pi.updateTargetData(e,c))});let a=Rd(),l=Wd();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(yf(e,i,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(ec.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return uc.waitFor(s).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=o,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(ml(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?ml(r.hu,14607):e.removedDocuments.size>0&&(ml(r.hu,42227),r.hu=!1))}),await dg(n,e,t)}catch(e){await cc(e)}}function eg(e,t,n){const r=gl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const o=r.view.va(t);o.snapshot&&e.push(o.snapshot)}),function(e,t){const n=gl(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const o of n.Sa)o.va(t)&&(r=!0)}),r&&Rm(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function tg(e,t,n){const r=gl(e);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),i=o&&o.key;if(i){let e=new $c(Ul.comparator);e=e.insert(i,Vu.newNoDocument(i,ec.min()));const n=Wd().add(i),o=new Vh(ec.min(),new Map,new $c(Nl),e,n);await Zm(r,o),r.du=r.du.remove(i),r.Au.delete(t),ug(r)}else await xf(r.localStore,t,!1).then(()=>sg(r,t,n)).catch(cc)}async function ng(e,t){const n=gl(e),r=t.batch.batchId;try{const e=await function(e,t){const n=gl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const o=n.batch,i=o.keys();let s=uc.resolve();return i.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);ml(null!==i,48541),t.version.compareTo(i)<0&&(o.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,o))}(n,e,t,o).next(()=>o.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Wd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);ig(n,r,null),og(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dg(n,e)}catch(e){await cc(e)}}async function rg(e,t,n){const r=gl(e);try{const e=await function(e,t){const n=gl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(ml(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);ig(r,t,n),og(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await dg(r,e)}catch(n){await cc(n)}}function og(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function ig(e,t,n){const r=gl(e);let o=r.Vu[r.currentUser.toKey()];if(o){const e=o.get(t);e&&(n?e.reject(n):e.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function sg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||ag(e,t)})}function ag(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Xf(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),ug(e))}function lg(e,t,n){for(const r of n)r instanceof Bm?(e.Ru.addReference(r.key,t),cg(e,r)):r instanceof Um?(cl(Hm,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||ag(e,r.key)):pl(19791,{wu:r})}function cg(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(cl(Hm,"New document in limbo: "+n),e.Eu.add(r),ug(e))}function ug(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Ul(Ll.fromString(t)),r=e.fu.next();e.Au.set(r,new Wm(n)),e.du=e.du.insert(n,r),Jf(e.remoteStore,new Np(kd(yd(n.path)),r,"TargetPurposeLimboResolution",pc.ce))}}async function dg(e,t,n){const r=gl(e),o=[],i=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{s.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const o=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,o?"current":"not-current")}if(e){o.push(e);const t=uf.As(a.targetId,e);i.push(t)}}))}),await Promise.all(s),r.Pu.H_(o),await async function(e,t){const n=gl(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>uc.forEach(t,t=>uc.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>uc.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!hc(e))throw e;cl(pf,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,o=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,o)}}}(r.localStore,i))}async function hg(e,t){const n=gl(e);if(!n.currentUser.isEqual(t)){cl(Hm,"User change. New user:",t.toKey());const e=await gf(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new yl(vl.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await dg(n,e.Ls)}}function pg(e,t){const n=gl(e),r=n.Au.get(t);if(r&&r.hu)return Wd().add(r.key);{let e=Wd();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function fg(e){const t=gl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Zm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=tg.bind(null,t),t.Pu.H_=jm.bind(null,t.eventManager),t.Pu.yu=Mm.bind(null,t.eventManager),t}function mg(e){const t=gl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ng.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rg.bind(null,t),t}class gg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return mf(this.persistence,new hf,e.initialUser,this.serializer)}Cu(e){return new sf(lf.mi,this.serializer)}Du(e){return new Sf}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gg.provider={build:()=>new gg};class vg extends gg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ml(this.persistence.referenceDelegate instanceof cf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new qp(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Lp.withCacheSize(this.cacheSizeBytes):Lp.DEFAULT;return new sf(e=>cf.mi(e,t),this.serializer)}}class yg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>eg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=hg.bind(null,this.syncEngine),await xm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Nm}createDatastore(e){const t=Lf(e.databaseInfo.databaseId),n=function(e){return new Rf(e)}(e.databaseInfo);return function(e,t,n,r){return new Wf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,o){return new Gf(e,t,n,r,o)}(this.localStore,this.datastore,e.asyncQueue,e=>eg(this.syncEngine,e,0),Af.v()?new Af:new Ef)}createSyncEngine(e,t){return function(e,t,n,r,o,i,s){const a=new Ym(e,t,n,r,o,i);return s&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=gl(e);cl(Kf,"RemoteStore shutting down."),t.Ea.add(5),await Qf(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}yg.provider={build:()=>new yg};class bg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ul("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const wg="FirestoreClient";class xg{constructor(e,t,n,r,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=il.UNAUTHENTICATED,this.clientId=Dl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async e=>{cl(wg,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(cl(wg,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Sm(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function kg(e,t){e.asyncQueue.verifyOperationInProgress(),cl(wg,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await gf(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function _g(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Cg(e);cl(wg,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>wm(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>wm(t.remoteStore,n)),e._onlineComponents=t}async function Cg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){cl(wg,"Using user provided OfflineComponentProvider");try{await kg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===vl.FAILED_PRECONDITION||e.code===vl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;dl("Error using user provided cache. Falling back to memory cache: "+n),await kg(e,new gg)}}else cl(wg,"Using default OfflineComponentProvider"),await kg(e,new vg(void 0));return e._offlineComponents}async function Sg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(cl(wg,"Using user provided OnlineComponentProvider"),await _g(e,e._uninitializedComponentsProvider._online)):(cl(wg,"Using default OnlineComponentProvider"),await _g(e,new yg))),e._onlineComponents}function Eg(e){return Sg(e).then(e=>e.syncEngine)}function Tg(e){return Sg(e).then(e=>e.datastore)}async function Ag(e){const t=await Sg(e),n=t.eventManager;return n.onListen=Km.bind(null,t.syncEngine),n.onUnlisten=Jm.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Gm.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Xm.bind(null,t.syncEngine),n}function Dg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new bl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,o){const i=new bg({next:a=>{i.Nu(),t.enqueueAndForget(()=>Pm(e,s));const l=a.docs.has(n);!l&&a.fromCache?o.reject(new yl(vl.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?o.reject(new yl(vl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(a)},error:e=>o.reject(e)}),s=new zm(yd(n.path),i,{includeMetadataChanges:!0,qa:!0});return Im(e,s)}(await Ag(e),e.asyncQueue,t,n,r)),r.promise}function Ng(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new bl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,o){const i=new bg({next:n=>{i.Nu(),t.enqueueAndForget(()=>Pm(e,s)),n.fromCache&&"server"===r.source?o.reject(new yl(vl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:e=>o.reject(e)}),s=new zm(n,i,{includeMetadataChanges:!0,qa:!0});return Im(e,s)}(await Ag(e),e.asyncQueue,t,n,r)),r.promise}function Og(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ig=new Map,Pg="firestore.googleapis.com",jg=!0;class Mg{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new yl(vl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pg,this.ssl=jg}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:jg;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Fp;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Up)throw new yl(vl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new yl(vl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Og(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new yl(vl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new yl(vl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new yl(vl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rg{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yl(vl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yl(vl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mg(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xl;switch(e.type){case"firstParty":return new Sl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new yl(vl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ig.get(e);t&&(cl("ComponentProvider","Removing Datastore"),Ig.delete(e),t.terminate())}(this),Promise.resolve()}}class Fg{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Fg(this.firestore,e,this._query)}}class Lg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zg(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lg(this.firestore,e,this._key)}toJSON(){return{type:Lg._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Ql(t,Lg._jsonSchema))return new Lg(e,n||null,new Ul(Ll.fromString(t.referencePath)))}}Lg._jsonSchemaVersion="firestore/documentReference/1.0",Lg._jsonSchema={type:$l("string",Lg._jsonSchemaVersion),referencePath:$l("string")};class zg extends Fg{constructor(e,t,n){super(e,t,yd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lg(this.firestore,null,new Ul(e))}withConverter(e){return new zg(this.firestore,e,this._path)}}function Bg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=On(e),Vl("collection","path",t),e instanceof Rg){const n=Ll.fromString(t,...r);return ql(n),new zg(e,null,n)}{if(!(e instanceof Lg||e instanceof zg))throw new yl(vl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ll.fromString(t,...r));return ql(n),new zg(e.firestore,null,n)}}function Ug(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if(e=On(e),1===arguments.length&&(t=Dl.newId()),Vl("doc","path",t),e instanceof Rg){const n=Ll.fromString(t,...r);return Hl(n),new Lg(e,null,new Ul(n))}{if(!(e instanceof Lg||e instanceof zg))throw new yl(vl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ll.fromString(t,...r));return Hl(n),new Lg(e.firestore,e instanceof zg?e.converter:null,new Ul(n))}}const Vg="AsyncQueue";class Hg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zf(this,"async_queue_retry"),this._c=()=>{const e=Ff();e&&cl(Vg,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Ff();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ff();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new bl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(G1){if(!hc(G1))throw G1;cl(Vg,"Operation failed with retryable error: "+G1)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,ul("INTERNAL UNHANDLED ERROR: ",qg(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Cm.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&pl(47125,{Pc:qg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function qg(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Wg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Yg extends Rg{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Hg,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hg(e),this._firestoreClient=void 0,await e}}}function Kg(e){if(e._terminated)throw new yl(vl.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Gg(e),e._firestoreClient}function Gg(e){var t,n,r;const o=e._freezeSettings(),i=function(e,t,n,r){return new fu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Og(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,o);e._componentsProvider||null!==(n=o.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=o.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new xg(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class $g{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"count",t=arguments.length>1?arguments[1]:void 0;this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class Qg{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Jg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jg(nu.fromBase64String(e))}catch(e){throw new yl(vl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Jg(nu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jg._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ql(e,Jg._jsonSchema))return Jg.fromBase64String(e.bytes)}}Jg._jsonSchemaVersion="firestore/bytes/1.0",Jg._jsonSchema={type:$l("string",Jg._jsonSchemaVersion),bytes:$l("string")};class Xg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new yl(vl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bl(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zg{constructor(e){this._methodName=e}}class ev{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yl(vl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yl(vl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nl(this._lat,e._lat)||Nl(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ev._jsonSchemaVersion}}static fromJSON(e){if(Ql(e,ev._jsonSchema))return new ev(e.latitude,e.longitude)}}ev._jsonSchemaVersion="firestore/geoPoint/1.0",ev._jsonSchema={type:$l("string",ev._jsonSchemaVersion),latitude:$l("number"),longitude:$l("number")};class tv{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:tv._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ql(e,tv._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new tv(e.vectorValues);throw new yl(vl.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}tv._jsonSchemaVersion="firestore/vectorValue/1.0",tv._jsonSchema={type:$l("string",tv._jsonSchemaVersion),vectorValues:$l("object")};const nv=/^__.*__$/;class rv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new wh(e,this.data,this.fieldMask,t,this.fieldTransforms):new bh(e,this.data,t,this.fieldTransforms)}}class ov{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new wh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pl(40011,{Ac:e})}}class sv{constructor(e,t,n,r,o,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sv((0,i.A)((0,i.A)({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return kv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(iv(this.Ac)&&nv.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class av{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Lf(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new sv({Ac:e,methodName:t,Dc:n,path:Bl.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lv(e){const t=e._freezeSettings(),n=Lf(e._databaseId);return new av(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cv(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Cc(i.merge||i.mergeFields?2:0,t,n,o);yv("Data must be an object, but it was:",s,r);const a=gv(r,s);let l,c;if(i.merge)l=new eu(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const o=bv(t,r,n);if(!s.contains(o))throw new yl(vl.INVALID_ARGUMENT,"Field '".concat(o,"' is specified in your field mask but missing from your input data."));_v(e,o)||e.push(o)}l=new eu(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new rv(new Bu(a),l,c)}class uv extends Zg{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uv}}class dv extends Zg{_toFieldTransform(e){return new ch(e.path,new th)}isEqual(e){return e instanceof dv}}function hv(e,t,n,r){const o=e.Cc(1,t,n);yv("Data must be an object, but it was:",o,r);const i=[],s=Bu.empty();Yc(r,(e,r)=>{const a=xv(t,e,n);r=On(r);const l=o.yc(a);if(r instanceof uv)i.push(a);else{const e=mv(r,l);null!=e&&(i.push(a),s.set(a,e))}});const a=new eu(i);return new ov(s,a,o.fieldTransforms)}function pv(e,t,n,r,o,i){const s=e.Cc(1,t,n),a=[bv(t,r,n)],l=[o];if(i.length%2!=0)throw new yl(vl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)a.push(bv(t,i[h])),l.push(i[h+1]);const c=[],u=Bu.empty();for(let h=a.length-1;h>=0;--h)if(!_v(c,a[h])){const e=a[h];let t=l[h];t=On(t);const n=s.yc(e);if(t instanceof uv)c.push(e);else{const r=mv(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new eu(c);return new ov(u,d,s.fieldTransforms)}function fv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return mv(n,e.Cc(r?4:3,t))}function mv(e,t){if(vv(e=On(e)))return yv("Unsupported field value:",t,e),gv(e,t);if(e instanceof Zg)return function(e,t){if(!iv(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const o of e){let e=mv(o,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=On(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Zl.fromDate(e);return{timestampValue:np(t.serializer,n)}}if(e instanceof Zl){const n=new Zl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:np(t.serializer,n)}}if(e instanceof ev)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Jg)return{bytesValue:rp(t.serializer,e._byteString)};if(e instanceof Lg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:sp(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof tv)return function(e,t){return{mapValue:{fields:{[vu]:{stringValue:wu},[xu]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Gd(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Yl(e)))}(e,t)}function gv(e,t){const n={};return Gc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yc(e,(e,r)=>{const o=mv(r,t.mc(e));null!=o&&(n[e]=o)}),{mapValue:{fields:n}}}function vv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Zl||e instanceof ev||e instanceof Jg||e instanceof Lg||e instanceof Zg||e instanceof tv)}function yv(e,t,n){if(!vv(n)||!Wl(n)){const r=Yl(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function bv(e,t,n){if((t=On(t))instanceof Xg)return t._internalPath;if("string"==typeof t)return xv(e,t);throw kv("Field path arguments must be of type string or ",e,!1,void 0,n)}const wv=new RegExp("[~\\*/\\[\\]]");function xv(e,t,n){if(t.search(wv)>=0)throw kv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Xg(...t.split("."))._internalPath}catch(gG){throw kv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function kv(e,t,n,r,o){const i=r&&!r.isEmpty(),s=void 0!==o;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(o)),l+=")"),new yl(vl.INVALID_ARGUMENT,a+e+l)}function _v(e,t){return e.some(e=>e.isEqual(t))}class Cv{constructor(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Lg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ev("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sv extends Cv{data(){return super.data()}}function Ev(e,t){return"string"==typeof t?xv(e,t):t instanceof Xg?t._internalPath:t._delegate._internalPath}function Tv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new yl(vl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Av{}class Dv extends Av{}function Nv(e,t){let n=[];for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t instanceof Av&&n.push(t),n=n.concat(o),function(e){const t=e.filter(e=>e instanceof Pv).length,n=e.filter(e=>e instanceof Ov).length;if(t>1||t>0&&n>0)throw new yl(vl.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Ov extends Dv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ov(e,t,n)}_apply(e){const t=this._parse(e);return Uv(e._query,t),new Fg(e.firestore,e.converter,Sd(e._query,t))}_parse(e){const t=lv(e.firestore),n=function(e,t,n,r,o,i,s){let a;if(o.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new yl(vl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){Bv(s,i);const t=[];for(const n of s)t.push(zv(r,e,n));a={arrayValue:{values:t}}}else a=zv(r,e,s)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Bv(s,i),a=fv(n,t,s,"in"===i||"not-in"===i);return $u.create(o,i,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Iv(e,t,n){const r=t,o=Ev("where",e);return Ov._create(o,r,n)}class Pv extends Av{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pv(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Qu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const o of r)Uv(n,o),n=Sd(n,o)}(e._query,t),new Fg(e.firestore,e.converter,Sd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class jv extends Dv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jv(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new yl(vl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new yl(vl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yu(t,n)}(e._query,this._field,this._direction);return new Fg(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new gd(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Mv(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Ev("orderBy",e);return jv._create(n,t)}class Rv extends Dv{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Rv(e,t,n)}_apply(e){return new Fg(e.firestore,e.converter,Ed(e._query,this._limit,this._limitType))}}class Fv extends Dv{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Fv(e,t,n)}_apply(e){const t=Lv(e,this.type,this._docOrFields,this._inclusive);return new Fg(e.firestore,e.converter,function(e,t){return new gd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function Lv(e,t,n,r){if(n[0]=On(n[0]),n[0]instanceof Cv)return function(e,t,n,r,o){if(!r)throw new yl(vl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const i=[];for(const s of xd(e))if(s.field.isKeyField())i.push(Ou(t,r.key));else{const e=r.data.field(s.field);if(du(e))throw new yl(vl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new yl(vl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}i.push(e)}return new Hu(i,o)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const o=lv(e.firestore);return function(e,t,n,r,o,i){const s=e.explicitOrderBy;if(o.length>s.length)throw new yl(vl.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<o.length;l++){const i=o[l];if(s[l].field.isKeyField()){if("string"!=typeof i)throw new yl(vl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof i));if(!wd(e)&&-1!==i.indexOf("/"))throw new yl(vl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(i,"' contains a slash."));const n=e.path.child(Ll.fromString(i));if(!Ul.isDocumentKey(n))throw new yl(vl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const o=new Ul(n);a.push(Ou(t,o))}else{const e=fv(n,r,i);a.push(e)}}return new Hu(a,i)}(e._query,e.firestore._databaseId,o,t,n,r)}}function zv(e,t,n){if("string"==typeof(n=On(n))){if(""===n)throw new yl(vl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wd(t)&&-1!==n.indexOf("/"))throw new yl(vl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Ll.fromString(n));if(!Ul.isDocumentKey(r))throw new yl(vl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ou(e,new Ul(r))}if(n instanceof Lg)return Ou(e,n._key);throw new yl(vl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Yl(n),"."))}function Bv(e,t){if(!Array.isArray(e)||0===e.length)throw new yl(vl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Uv(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new yl(vl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new yl(vl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Vv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ku(e)){case 0:return null;case 1:return e.booleanValue;case 2:return iu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(su(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw pl(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Yc(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[xu].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>iu(e.doubleValue));return new tv(n)}convertGeoPoint(e){return new ev(iu(e.latitude),iu(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=hu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const t=ou(e);return new Zl(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ll.fromString(e);ml(Dp(n),9688,{name:e});const r=new gu(n.get(1),n.get(3)),o=new Ul(n.popFirst(5));return r.isEqual(t)||ul("Document ".concat(o," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),o}}function Hv(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}function qv(e){return new $g("sum",bv("sum",e))}function Wv(){return new $g("count")}class Yv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kv extends Cv{constructor(e,t,n,r,o,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Gv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Ev("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yl(vl.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Kv._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Kv._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kv._jsonSchema={type:$l("string",Kv._jsonSchemaVersion),bundleSource:$l("string","DocumentSnapshot"),bundleName:$l("string"),bundle:$l("string")};class Gv extends Kv{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class $v{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yv(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Gv(this._firestore,this._userDataWriter,n.key,n,new Yv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yl(vl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Gv(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Yv(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Gv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let o=-1,i=-1;return 0!==t.type&&(o=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Qv(t.type),doc:r,oldIndex:o,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yl(vl.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$v._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Qv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pl(61501,{type:e})}}function Jv(e){e=Kl(e,Lg);const t=Kl(e.firestore,Yg);return Dg(Kg(t),e._key).then(n=>iy(t,e,n))}$v._jsonSchemaVersion="firestore/querySnapshot/1.0",$v._jsonSchema={type:$l("string",$v._jsonSchemaVersion),bundleSource:$l("string","QuerySnapshot"),bundleName:$l("string"),bundle:$l("string")};class Xv extends Vv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lg(this.firestore,null,t)}}function Zv(e){e=Kl(e,Fg);const t=Kl(e.firestore,Yg),n=Kg(t),r=new Xv(t);return Tv(e._query),Ng(n,e._query).then(n=>new $v(t,r,e,n))}function ey(e,t,n){e=Kl(e,Lg);const r=Kl(e.firestore,Yg),o=Hv(e.converter,t,n);return oy(r,[cv(lv(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,dh.none())])}function ty(e,t,n){e=Kl(e,Lg);const r=Kl(e.firestore,Yg),o=lv(r);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return i="string"==typeof(t=On(t))||t instanceof Xg?pv(o,"updateDoc",e._key,t,n,a):hv(o,"updateDoc",e._key,t),oy(r,[i.toMutation(e._key,dh.exists(!0))])}function ny(e){return oy(Kl(e.firestore,Yg),[new Ch(e._key,dh.none())])}function ry(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=On(e);let o={includeMetadataChanges:!1,source:"default"},i=0;"object"!=typeof n[i]||Wg(n[i])||(o=n[i++]);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Wg(n[i])){var a,l,c;const e=n[i];n[i]=null===(a=e.next)||void 0===a?void 0:a.bind(e),n[i+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[i+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,d,h;if(e instanceof Lg)d=Kl(e.firestore,Yg),h=yd(e._key.path),u={next:t=>{n[i]&&n[i](iy(d,e,t))},error:n[i+1],complete:n[i+2]};else{const t=Kl(e,Fg);d=Kl(t.firestore,Yg),h=t._query;const r=new Xv(d);u={next:e=>{n[i]&&n[i](new $v(d,r,t,e))},error:n[i+1],complete:n[i+2]},Tv(e._query)}return function(e,t,n,r){const o=new bg(r),i=new zm(t,o,n);return e.asyncQueue.enqueueAndForget(async()=>Im(await Ag(e),i)),()=>{o.Nu(),e.asyncQueue.enqueueAndForget(async()=>Pm(await Ag(e),i))}}(Kg(d),h,s,u)}function oy(e,t){return function(e,t){const n=new bl;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=mg(e);try{const e=await function(e,t){const n=gl(e),r=Zl.now(),o=t.reduce((e,t)=>e.add(t.key),Wd());let i,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Rd(),l=Wd();return n.Ns.getEntries(e,o).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(o=>{i=o;const s=[];for(const e of t){const t=vh(e,i.get(e.key).overlayedDocument);null!=t&&s.push(new wh(e.key,t,Uu(t.value.mapValue),dh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:zd(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new $c(Nl)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await dg(r,e.changes),await dm(r.remoteStore)}catch(e){const t=Sm(e,"Failed to persist write");n.reject(t)}}(await Eg(e),t,n)),n.promise}(Kg(e),t)}function iy(e,t,n){const r=n.docs.get(t._key),o=new Xv(e);return new Kv(e,o,t._key,r,new Yv(n.hasPendingWrites,n.fromCache),t.converter)}function sy(e,t){const n=Kl(e.firestore,Yg),r=Kg(n),o=Kc(t,(e,t)=>new Dh(t,e.aggregateType,e._internalFieldPath));return function(e,t,n){const r=new bl;return e.asyncQueue.enqueueAndForget(async()=>{try{const o=await Tg(e);r.resolve(async function(e,t,n){var r;const o=gl(e),{request:i,gt:s,parent:a}=bp(o.serializer,_d(t),n);o.connection.$o||delete i.parent;const l=(await o.Ho("RunAggregationQuery",o.serializer.databaseId,a,i,1)).filter(e=>!!e.result);ml(1===l.length,64727);const c=null===(r=l[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(c).reduce((e,t)=>(e[s[t]]=c[t],e),{})}(o,t,n))}catch(e){r.reject(e)}}),r.promise}(r,e._query,o).then(t=>function(e,t,n){const r=new Xv(e);return new Qg(t,r,n)}(n,e,t))}function ay(){return new dv("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){sl=e}(Yr),Ur(new In("firestore",(e,n)=>{let{instanceIdentifier:r,options:o}=n;const s=e.getProvider("app").getImmediate(),a=new Yg(new _l(e.getProvider("auth-internal")),new Tl(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yl(vl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(e.options.projectId,t)}(s,r),s);return o=(0,i.A)({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Qr(rl,ol,e),Qr(rl,ol,"esm2020")}();const ly=$r().length?$r()[0]:Kr({apiKey:"AIzaSyAQO8xXX2hfzeEwqXZu2KanqTXhU0hvzsM",authDomain:"sqwad-rebate-app.firebaseapp.com",projectId:"sqwad-rebate-app",storageBucket:"sqwad-rebate-app.firebasestorage.app",appId:"1:827574824663:web:b32ac87da74b6a81270a92"}),cy=Ma(ly),uy=function(e,t){const n="object"==typeof e?e:Gr(),r="string"==typeof e?e:t||mu,o=Vr(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const e=Kt("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Kl(e,Rg);const o=Jt(t),s=e._getSettings(),a=(0,i.A)((0,i.A)({},s),{},{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);o&&(Xt("https://".concat(l)),nn("Firestore",!0)),s.host!==Pg&&s.host!==l&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=(0,i.A)((0,i.A)({},s),{},{host:l,ssl:o,emulatorOptions:r});if(!xn(c,a)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=il.MOCK_USER;else{var u;t=Zt(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new yl(vl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new il(o)}e._authCredentials=new kl(new wl(t,n))}}(o,...e)}return o}(ly);const dy=function(){const[t,n]=(0,e.useState)(0),[r,o]=(0,e.useState)(!0),i=((0,e.useCallback)(e=>{const{name:t,type:n,checked:r,value:o}=e.target;console.debug("handleChange:",t,"checkbox"===n?r:o)},[]),(0,e.useCallback)(async()=>{try{const t=Nv(Bg(uy,"shops")),r=await(e=t,sy(e,{count:Wv()}));console.log(r.data()),n(r.data().count||0)}catch(t){console.error("Failed to load shops count:",t),n(0)}finally{o(!1)}var e},[]));(0,e.useEffect)(()=>{i()},[i]);const s=t||0;return(0,Et.jsxs)("div",{className:"admin-wrapper",children:[(0,Et.jsx)("div",{className:"loading-screen",style:{display:r?"block":"none"}}),(0,Et.jsx)(za,{}),(0,Et.jsx)(Va,{}),(0,Et.jsxs)("div",{className:"admin-main-panel",children:[(0,Et.jsx)("div",{className:"row",style:{width:"100%"},children:(0,Et.jsx)("div",{className:"col-md-1",children:(0,Et.jsxs)("p",{style:{color:"black",marginLeft:20},children:["v","1.0.0"]})})}),(0,Et.jsx)("div",{className:"admin-grid-container four-columns",children:(0,Et.jsx)("div",{className:"card card-styles text-xs-center",style:{backgroundColor:"black"},children:(0,Et.jsx)("div",{className:"card-body",children:(0,Et.jsx)("blockquote",{className:"card-bodyquote",style:{margin:0},children:(0,Et.jsx)("div",{className:"row",children:(0,Et.jsxs)("div",{className:"col-md-8",children:[(0,Et.jsx)("p",{style:{color:"white",fontSize:50,margin:0},children:s}),(0,Et.jsx)("span",{style:{color:"#f8f8ff",fontSize:20},children:"Shops Open"})]})})})})})})]})]})},hy=n.p+"static/media/new_sqwad_logo.db55e6f6f787cfb331c4.png";var py=n(64),fy=n.n(py);function my(t){let{setCurrentUser:n,user:r}=t;const o=(0,e.useRef)(null),i=(0,e.useRef)(null),[s,a]=(0,e.useState)(!0),[l,c]=(0,e.useState)(!1),u=(0,e.useCallback)(async e=>{var t,r;e.preventDefault();const s=(null===(t=o.current)||void 0===t?void 0:t.value)||"",l=(null===(r=i.current)||void 0===r?void 0:r.value)||"";a(!0);try{await ps(cy,s);const t=await function(e,t,n){return Hr(e.app)?Promise.reject(bo(e)):ds(On(e),Qi.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&hs(e),t})}(cy,s,l),r=t.user;var u,d;if(r)null===(u=(d=e.target).reset)||void 0===u||u.call(d),await(null===n||void 0===n?void 0:n(r)),c(!0);else fy().fire({title:"Wrong credentials",text:"Check your email and password and try again!",icon:"warning",confirmButtonText:"Ok"})}catch(pw){if("auth/user-not-found"===(null===pw||void 0===pw?void 0:pw.code))fy().fire({title:"Uh oh!",text:"User not found, is the email correct?",icon:"error",confirmButtonText:"Ok"});else if("auth/wrong-password"===(null===pw||void 0===pw?void 0:pw.code))fy().fire({title:"Uh oh!",text:"Password incorrect!",icon:"error",confirmButtonText:"Ok"});else{var h;fy().fire({title:"Uh oh!",text:null!==(h=null===pw||void 0===pw?void 0:pw.message)&&void 0!==h?h:"Login failed.",icon:"error",confirmButtonText:"Ok"})}}finally{a(!1)}},[n]);return(0,e.useEffect)(()=>{const e=fs(cy,e=>{e&&c(!0),a(!1)});return()=>e()},[]),l||r?(0,Et.jsx)(Ae,{to:"/admin",replace:!0}):(0,Et.jsxs)("div",{className:"auth-fluid",children:[(0,Et.jsx)("div",{className:"loading-screen",style:{display:s?"block":"none"}}),(0,Et.jsx)("div",{className:"auth-fluid-form-box",children:(0,Et.jsx)("div",{className:"align-items-center d-flex h-100",children:(0,Et.jsxs)("div",{className:"card-body",children:[(0,Et.jsx)("div",{className:"auth-brand text-center text-lg-left",style:{marginBottom:"50px"},children:(0,Et.jsx)("img",{src:hy,alt:"",height:"auto",width:"200px"})}),(0,Et.jsx)("h4",{className:"mt-0",style:{fontWeight:"bolder",fontFamily:"Roboto"},children:"Welcome"}),(0,Et.jsx)("p",{className:"text-muted2 mb-4",style:{fontWeight:"bold",fontFamily:"Roboto"},children:"Enter your email address and password to access account."}),(0,Et.jsxs)("form",{onSubmit:u,style:{fontWeight:"bold",fontFamily:"Roboto"},children:[(0,Et.jsxs)("div",{className:"mb-3",children:[(0,Et.jsx)("label",{htmlFor:"emailaddress",children:"Email address"}),(0,Et.jsx)("input",{id:"emailaddress",className:"form-control",type:"email",name:"email",ref:o,placeholder:"Enter your email",autoComplete:"username"})]}),(0,Et.jsxs)("div",{className:"mb-3",children:[(0,Et.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Et.jsx)("input",{id:"password",className:"form-control",name:"password",type:"password",ref:i,placeholder:"Enter your password",autoComplete:"current-password"})]}),(0,Et.jsx)("div",{className:"input-group",children:(0,Et.jsx)("button",{className:"btn btn-primary btn-block",type:"submit",disabled:s,style:{backgroundColor:"#ff1f3e",borderColor:"#ff1f3e",fontWeight:"bold",fontFamily:"Roboto"},children:s?"Logging in\u2026":"Log In"})})]})]})})}),(0,Et.jsx)("div",{className:"auth-fluid-right text-center",children:(0,Et.jsx)("div",{className:"auth-user-testimonial",children:(0,Et.jsx)("img",{src:Ba,width:"200px",alt:""})})})]})}var gy,vy=n(5173),yy=n.n(vy),by=n(8139),wy=n.n(by),xy=n(7950);function ky(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cy(e){return Cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(e)}function Sy(e){document.body.style.paddingRight=e>0?"".concat(e,"px"):null}function Ey(){var e=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}(),t=document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")[0],n=t?parseInt(t.style.paddingRight||0,10):0;document.body.clientWidth<window.innerWidth&&Sy(n+e)}function Ty(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gy;return t?e.split(" ").map(function(e){return t[e]||e}).join(" "):e}function Ay(e,t){var n={};return Object.keys(e).forEach(function(r){-1===t.indexOf(r)&&(n[r]=e[r])}),n}var Dy="object"===("undefined"===typeof window?"undefined":Cy(window))&&window.Element||function(){};var Ny=yy().oneOfType([yy().string,yy().func,function(e,t,n){if(!(e[t]instanceof Dy))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")},yy().shape({current:yy().any})]),Oy=yy().oneOfType([yy().func,yy().string,yy().shape({$$typeof:yy().symbol,render:yy().func}),yy().arrayOf(yy().oneOfType([yy().func,yy().string,yy().shape({$$typeof:yy().symbol,render:yy().func})]))]),Iy=150,Py=300,jy=["in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],My=27,Ry=!("undefined"===typeof window||!window.document||!window.document.createElement);function Fy(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function Ly(e){var t=Cy(e);return null!=e&&("object"===t||"function"===t)}function zy(e){if(function(e){return!(!e||"object"!==Cy(e))&&"current"in e}(e))return e.current;if(function(e){if(!Ly(e))return!1;var t=Fy(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object Proxy]"===t}(e))return e();if("string"===typeof e&&Ry){var t=document.querySelectorAll(e);if(t.length||(t=document.querySelectorAll("#".concat(e))),!t.length)throw new Error("The target '".concat(e,"' could not be identified in the dom, tip: check spelling"));return t}return e}function By(e){return null!==e&&(Array.isArray(e)||Ry&&"number"===typeof e.length)}var Uy=["a[href]","area[href]","input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","object","embed","[tabindex]:not(.modal):not(.offcanvas)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'];function Vy(e,t){if(!e||!t)return t;var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ky(Object(n),!0).forEach(function(t){_y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ky(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t);return Object.keys(e).forEach(function(t){void 0===n[t]&&(n[t]=e[t]),Object.keys(e[t]||{}).length>0&&"object"===Cy(e[t])&&Vy(e[t],n)}),n}function Hy(e){return Hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(e)}function qy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wy(e,t){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wy(e,t)}function Yy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(G1){return!1}}();return function(){var n,r=Ky(e);if(t){var o=Ky(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Hy(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Ky(e){return Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ky(e)}var Gy={children:yy().node.isRequired,node:yy().any},$y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wy(e,t)}(i,e);var t,n,r,o=Yy(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return Ry?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),xy.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}])&&qy(t.prototype,n),r&&qy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(e.Component);$y.propTypes=Gy;const Qy=$y;var Jy=n(8587);function Xy(e,t){return Xy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xy(e,t)}const Zy=!1,eb=e.createContext(null);var tb="unmounted",nb="exited",rb="entering",ob="entered",ib="exiting",sb=function(t){var n,r;function o(e,n){var r;r=t.call(this,e,n)||this;var o,i=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?i?(o=nb,r.appearStatus=rb):o=ob:o=e.unmountOnExit||e.mountOnEnter?tb:nb,r.state={status:o},r.nextCallback=null,r}r=t,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,Xy(n,r),o.getDerivedStateFromProps=function(e,t){return e.in&&t.status===tb?{status:nb}:null};var i=o.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==rb&&n!==ob&&(t=rb):n!==rb&&n!==ob||(t=ib)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===rb){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:xy.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===nb&&this.setState({status:tb})},i.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[xy.findDOMNode(this),r],i=o[0],s=o[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||Zy?this.safeSetState({status:ob},function(){t.props.onEntered(i)}):(this.props.onEnter(i,s),this.safeSetState({status:rb},function(){t.props.onEntering(i,s),t.onTransitionEnd(l,function(){t.safeSetState({status:ob},function(){t.props.onEntered(i,s)})})}))},i.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:xy.findDOMNode(this);t&&!Zy?(this.props.onExit(r),this.safeSetState({status:ib},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:nb},function(){e.props.onExited(r)})})})):this.safeSetState({status:nb},function(){e.props.onExited(r)})},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:xy.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===tb)return null;var n=this.props,r=n.children,o=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,Jy.A)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(eb.Provider,{value:null},"function"===typeof r?r(t,o):e.cloneElement(e.Children.only(r),o))},o}(e.Component);function ab(){}sb.contextType=eb,sb.propTypes={},sb.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ab,onEntering:ab,onEntered:ab,onExit:ab,onExiting:ab,onExited:ab},sb.UNMOUNTED=tb,sb.EXITED=nb,sb.ENTERING=rb,sb.ENTERED=ob,sb.EXITING=ib;const lb=sb;var cb=["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"];function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(this,arguments)}function db(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function hb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hb(Object(n),!0).forEach(function(t){fb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mb=pb(pb({},lb.propTypes),{},{children:yy().oneOfType([yy().arrayOf(yy().node),yy().node]),tag:Oy,baseClass:yy().string,baseClassActive:yy().string,className:yy().string,cssModule:yy().object,innerRef:yy().oneOfType([yy().object,yy().string,yy().func])}),gb=pb(pb({},lb.defaultProps),{},{timeout:Iy,appear:!0,enter:!0,exit:!0,in:!0});function vb(t){var n=(0,e.useRef)(null),r=Vy(gb,t),o=r.tag,i=void 0===o?"div":o,s=r.baseClass,a=void 0===s?"fade":s,l=r.baseClassActive,c=void 0===l?"show":l,u=r.className,d=r.cssModule,h=r.children,p=r.innerRef,f=void 0===p?n:p,m=db(r,cb),g=function(e,t){for(var n,r=Array.isArray(t)?t:[t],o=r.length,i={};o>0;)i[n=r[o-=1]]=e[n];return i}(pb({defaultProps:gb},m),jy),v=Ay(m,jy);return e.createElement(lb,ub({nodeRef:f},g),function(t){var n="entered"===t,r=Ty(wy()(u,a,n&&c),d);return e.createElement(i,ub({className:r},v,{ref:f}),h)})}vb.propTypes=mb;const yb=vb;function bb(e){return bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bb(e)}function wb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wb(Object(n),!0).forEach(function(t){_b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kb.apply(this,arguments)}function _b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sb(e,t){return Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sb(e,t)}function Eb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(G1){return!1}}();return function(){var n,r=Ab(e);if(t){var o=Ab(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===bb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tb(e)}(this,n)}}function Tb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ab(e){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ab(e)}function Db(){}var Nb=yy().shape(yb.propTypes),Ob={autoFocus:yy().bool,backdrop:yy().oneOfType([yy().bool,yy().oneOf(["static"])]),backdropClassName:yy().string,backdropTransition:Nb,centered:yy().bool,children:yy().node,contentClassName:yy().string,className:yy().string,container:Ny,cssModule:yy().object,external:yy().node,fade:yy().bool,fullscreen:yy().oneOfType([yy().bool,yy().oneOf(["sm","md","lg","xl"])]),innerRef:yy().oneOfType([yy().object,yy().string,yy().func]),isOpen:yy().bool,keyboard:yy().bool,labelledBy:yy().string,modalClassName:yy().string,modalTransition:Nb,onClosed:yy().func,onEnter:yy().func,onExit:yy().func,onOpened:yy().func,returnFocusAfterClose:yy().bool,role:yy().string,scrollable:yy().bool,size:yy().string,toggle:yy().func,trapFocus:yy().bool,unmountOnClose:yy().bool,wrapClassName:yy().string,zIndex:yy().oneOfType([yy().number,yy().string])},Ib=Object.keys(Ob),Pb={isOpen:!1,autoFocus:!0,centered:!1,scrollable:!1,role:"dialog",backdrop:!0,keyboard:!0,zIndex:1050,fade:!0,onOpened:Db,onClosed:Db,modalTransition:{timeout:Py},backdropTransition:{mountOnEnter:!0,timeout:Iy},unmountOnClose:!0,returnFocusAfterClose:!0,container:"body",trapFocus:!1},jb=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sb(e,t)}(s,t);var n,r,o,i=Eb(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e))._element=null,t._originalBodyPadding=null,t.getFocusableChildren=t.getFocusableChildren.bind(Tb(t)),t.handleBackdropClick=t.handleBackdropClick.bind(Tb(t)),t.handleBackdropMouseDown=t.handleBackdropMouseDown.bind(Tb(t)),t.handleEscape=t.handleEscape.bind(Tb(t)),t.handleStaticBackdropAnimation=t.handleStaticBackdropAnimation.bind(Tb(t)),t.handleTab=t.handleTab.bind(Tb(t)),t.onOpened=t.onOpened.bind(Tb(t)),t.onClosed=t.onClosed.bind(Tb(t)),t.manageFocusAfterClose=t.manageFocusAfterClose.bind(Tb(t)),t.clearBackdropAnimationTimeout=t.clearBackdropAnimationTimeout.bind(Tb(t)),t.trapFocus=t.trapFocus.bind(Tb(t)),t.state={isOpen:!1,showStaticBackdropAnimation:!1},t}return n=s,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isOpen,n=e.autoFocus,r=e.onEnter;t&&(this.init(),this.setState({isOpen:!0}),n&&this.setFocus()),r&&r(),document.addEventListener("focus",this.trapFocus,!0),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,t){if(this.props.isOpen&&!e.isOpen)return this.init(),void this.setState({isOpen:!0});this.props.autoFocus&&this.state.isOpen&&!t.isOpen&&this.setFocus(),this._element&&e.zIndex!==this.props.zIndex&&(this._element.style.zIndex=this.props.zIndex)}},{key:"componentWillUnmount",value:function(){this.clearBackdropAnimationTimeout(),this.props.onExit&&this.props.onExit(),this._element&&(this.destroy(),(this.props.isOpen||this.state.isOpen)&&this.close()),document.removeEventListener("focus",this.trapFocus,!0),this._isMounted=!1}},{key:"handleBackdropClick",value:function(e){if(e.target===this._mouseDownElement){e.stopPropagation();var t=this._dialog?this._dialog.parentNode:null;if(t&&e.target===t&&"static"===this.props.backdrop&&this.handleStaticBackdropAnimation(),!this.props.isOpen||!0!==this.props.backdrop)return;t&&e.target===t&&this.props.toggle&&this.props.toggle(e)}}},{key:"handleTab",value:function(e){if(9===e.which&&!(this.modalIndex<s.openCount-1)){var t=this.getFocusableChildren(),n=t.length;if(0!==n){for(var r=this.getFocusedChild(),o=0,i=0;i<n;i+=1)if(t[i]===r){o=i;break}e.shiftKey&&0===o?(e.preventDefault(),t[n-1].focus()):e.shiftKey||o!==n-1||(e.preventDefault(),t[0].focus())}}}},{key:"handleBackdropMouseDown",value:function(e){this._mouseDownElement=e.target}},{key:"handleEscape",value:function(e){this.props.isOpen&&e.keyCode===My&&this.props.toggle&&(this.props.keyboard?(e.preventDefault(),e.stopPropagation(),this.props.toggle(e)):"static"===this.props.backdrop&&(e.preventDefault(),e.stopPropagation(),this.handleStaticBackdropAnimation()))}},{key:"handleStaticBackdropAnimation",value:function(){var e=this;this.clearBackdropAnimationTimeout(),this.setState({showStaticBackdropAnimation:!0}),this._backdropAnimationTimeout=setTimeout(function(){e.setState({showStaticBackdropAnimation:!1})},100)}},{key:"onOpened",value:function(e,t){this.props.onOpened(),(this.props.modalTransition.onEntered||Db)(e,t)}},{key:"onClosed",value:function(e){var t=this.props.unmountOnClose;this.props.onClosed(),(this.props.modalTransition.onExited||Db)(e),t&&this.destroy(),this.close(),this._isMounted&&this.setState({isOpen:!1})}},{key:"setFocus",value:function(){this._dialog&&this._dialog.parentNode&&"function"===typeof this._dialog.parentNode.focus&&this._dialog.parentNode.focus()}},{key:"getFocusableChildren",value:function(){return this._element.querySelectorAll(Uy.join(", "))}},{key:"getFocusedChild",value:function(){var e,t=this.getFocusableChildren();try{e=document.activeElement}catch(n){e=t[0]}return e}},{key:"trapFocus",value:function(e){if(this.props.trapFocus&&this._element&&(!this._dialog||this._dialog.parentNode!==e.target)&&!(this.modalIndex<s.openCount-1)){for(var t=this.getFocusableChildren(),n=0;n<t.length;n+=1)if(t[n]===e.target)return;t.length>0&&(e.preventDefault(),e.stopPropagation(),t[0].focus())}}},{key:"init",value:function(){try{this._triggeringElement=document.activeElement}catch(e){this._triggeringElement=null}this._element||(this._element=document.createElement("div"),this._element.setAttribute("tabindex","-1"),this._element.style.position="relative",this._element.style.zIndex=this.props.zIndex,this._mountContainer=function(e,t){var n=zy(e);return t?By(n)?n:null===n?[]:[n]:By(n)?n[0]:n}(this.props.container),this._mountContainer.appendChild(this._element)),this._originalBodyPadding=function(){var e=window.getComputedStyle(document.body,null);return parseInt(e&&e.getPropertyValue("padding-right")||0,10)}(),s.openCount<1&&(s.originalBodyOverflow=window.getComputedStyle(document.body).overflow),Ey(),0===s.openCount&&(document.body.className=wy()(document.body.className,Ty("modal-open",this.props.cssModule)),document.body.style.overflow="hidden"),this.modalIndex=s.openCount,s.openCount+=1}},{key:"destroy",value:function(){this._element&&(this._mountContainer.removeChild(this._element),this._element=null),this.manageFocusAfterClose()}},{key:"manageFocusAfterClose",value:function(){if(this._triggeringElement){var e=this.props.returnFocusAfterClose;this._triggeringElement.focus&&e&&this._triggeringElement.focus(),this._triggeringElement=null}}},{key:"close",value:function(){if(s.openCount<=1){var e=Ty("modal-open",this.props.cssModule),t=new RegExp("(^| )".concat(e,"( |$)"));document.body.className=document.body.className.replace(t," ").trim(),document.body.style.overflow=s.originalBodyOverflow}this.manageFocusAfterClose(),s.openCount=Math.max(0,s.openCount-1),Sy(this._originalBodyPadding)}},{key:"clearBackdropAnimationTimeout",value:function(){this._backdropAnimationTimeout&&(clearTimeout(this._backdropAnimationTimeout),this._backdropAnimationTimeout=void 0)}},{key:"renderModalDialog",value:function(){var t,n=this,r=Ay(this.props,Ib),o="modal-dialog";return e.createElement("div",kb({},r,{className:Ty(wy()(o,this.props.className,(t={},_b(t,"modal-".concat(this.props.size),this.props.size),_b(t,"".concat(o,"-centered"),this.props.centered),_b(t,"".concat(o,"-scrollable"),this.props.scrollable),_b(t,"modal-fullscreen",!0===this.props.fullscreen),_b(t,"modal-fullscreen-".concat(this.props.fullscreen,"-down"),"string"===typeof this.props.fullscreen),t)),this.props.cssModule),role:"document",ref:function(e){n._dialog=e}}),e.createElement("div",{className:Ty(wy()("modal-content",this.props.contentClassName),this.props.cssModule)},this.props.children))}},{key:"render",value:function(){var t=this.props.unmountOnClose;if(this._element&&(this.state.isOpen||!t)){var n=!!this._element&&!this.state.isOpen&&!t;this._element.style.display=n?"none":"block";var r=this.props,o=r.wrapClassName,i=r.modalClassName,s=r.backdropClassName,a=r.cssModule,l=r.isOpen,c=r.backdrop,u=r.role,d=r.labelledBy,h=r.external,p=r.innerRef,f={onClick:this.handleBackdropClick,onMouseDown:this.handleBackdropMouseDown,onKeyUp:this.handleEscape,onKeyDown:this.handleTab,style:{display:"block"},"aria-labelledby":d,"aria-modal":!0,role:u,tabIndex:"-1"},m=this.props.fade,g=xb(xb(xb({},yb.defaultProps),this.props.modalTransition),{},{baseClass:m?this.props.modalTransition.baseClass:"",timeout:m?this.props.modalTransition.timeout:0}),v=xb(xb(xb({},yb.defaultProps),this.props.backdropTransition),{},{baseClass:m?this.props.backdropTransition.baseClass:"",timeout:m?this.props.backdropTransition.timeout:0}),y=c&&(m?e.createElement(yb,kb({},v,{in:l&&!!c,cssModule:a,className:Ty(wy()("modal-backdrop",s),a)})):e.createElement("div",{className:Ty(wy()("modal-backdrop","show",s),a)}));return e.createElement(Qy,{node:this._element},e.createElement("div",{className:Ty(o)},e.createElement(yb,kb({},f,g,{in:l,onEntered:this.onOpened,onExited:this.onClosed,cssModule:a,className:Ty(wy()("modal",i,this.state.showStaticBackdropAnimation&&"modal-static"),a),innerRef:p}),h,this.renderModalDialog()),y))}return null}}],r&&Cb(n.prototype,r),o&&Cb(n,o),Object.defineProperty(n,"prototype",{writable:!1}),s}(e.Component);jb.propTypes=Ob,jb.defaultProps=Pb,jb.openCount=0,jb.originalBodyOverflow=null;const Mb=jb;var Rb=["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","close"];function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fb.apply(this,arguments)}function Lb(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var zb={children:yy().node,className:yy().string,close:yy().object,closeAriaLabel:yy().string,cssModule:yy().object,tag:Oy,toggle:yy().func,wrapTag:Oy};function Bb(t){var n,r=t.className,o=t.cssModule,i=t.children,s=t.toggle,a=t.tag,l=void 0===a?"h5":a,c=t.wrapTag,u=void 0===c?"div":c,d=t.closeAriaLabel,h=void 0===d?"Close":d,p=t.close,f=Lb(t,Rb),m=Ty(wy()(r,"modal-header"),o);return!p&&s&&(n=e.createElement("button",{type:"button",onClick:s,className:Ty("btn-close",o),"aria-label":h})),e.createElement(u,Fb({},f,{className:m}),e.createElement(l,{className:Ty("modal-title",o)},i),p||n)}Bb.propTypes=zb;const Ub=Bb;var Vb=["className","cssModule","tag"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hb.apply(this,arguments)}function qb(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Wb={className:yy().string,cssModule:yy().object,tag:Oy};function Yb(t){var n=t.className,r=t.cssModule,o=t.tag,i=void 0===o?"div":o,s=qb(t,Vb),a=Ty(wy()(n,"modal-body"),r);return e.createElement(i,Hb({},s,{className:a}))}Yb.propTypes=Wb;const Kb=Yb;class Gb{async upload_file(e){const t=new FormData;if(t.append("file",e),!e||"image/png"!==e.type&&"image/jpeg"!==e.type&&"image/jpg"!==e.type&&"image/webp"!==e.type){if(!e||"video/mp4"!==e.type)return{error:"Wrong file type"};if(e.size>22e6)return{error:"File too big: max size is 20 MB"}}else if(e.size>22e5)return{error:"File too big: max size is 2 MB"};try{const e=await fetch("https://nodeimageuploader.herokuapp.com/image_upload",{method:"POST",body:t});if(!e.ok)throw new Error("Network response was not ok");const n=await e.text();return console.log(n),n?{imageUrl:n}:{}}catch(pw){return{error:pw.message}}}}const $b="@firebase/database",Qb="1.1.0";let Jb="";function Xb(e){Jb=e}class Zb{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),mn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:fn(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class ew{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return vn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const tw=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Zb(t)}}catch(G1){}return new ew},nw=tw("localStorage"),rw=tw("sessionStorage"),ow=new Vn("@firebase/database"),iw=function(){let e=1;return function(){return e++}}(),sw=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o>=55296&&o<=56319){const t=o-55296;r++,Pt(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(t<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}(e),n=new En;n.update(t);const r=n.digest();return Rt.encodeByteArray(r)},aw=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=aw.apply(null,n):e+="object"===typeof n?mn(n):n,e+=" "}return e};let lw=null,cw=!0;const uw=function(e,t){Pt(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(ow.logLevel=Fn.VERBOSE,lw=ow.log.bind(ow),t&&rw.set("logging_enabled",!0)):"function"===typeof e?lw=e:(lw=null,rw.remove("logging_enabled"))},dw=function(){if(!0===cw&&(cw=!1,null===lw&&!0===rw.get("logging_enabled")&&uw(!0)),lw){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=aw.apply(null,t);lw(r)}},hw=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];dw(e,...n)}},pw=function(){const e="FIREBASE INTERNAL ERROR: "+aw(...arguments);ow.error(e)},fw=function(){const e="FIREBASE FATAL ERROR: ".concat(aw(...arguments));throw ow.error(e),new Error(e)},mw=function(){const e="FIREBASE WARNING: "+aw(...arguments);ow.warn(e)},gw=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},vw="[MIN_NAME]",yw="[MAX_NAME]",bw=function(e,t){if(e===t)return 0;if(e===vw||t===yw)return-1;if(t===vw||e===yw)return 1;{const n=Tw(e),r=Tw(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},ww=function(e,t){return e===t?0:e<t?-1:1},xw=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+mn(t))},kw=function(e){if("object"!==typeof e||null===e)return mn(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=mn(t[r]),n+=":",n+=kw(e[t[r]]);return n+="}",n},_w=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let o=0;o<n;o+=t)o+t>n?r.push(e.substring(o,n)):r.push(e.substring(o,o+t));return r};function Cw(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Sw=function(e){Pt(!gw(e),"Invalid JSON number");const t=1023;let n,r,o,i,s;0===e?(r=0,o=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=i+t,o=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(r=0,o=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(o%2?1:0),o=Math.floor(o/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Ew=new RegExp("^-?(0*)\\d{1,10}$"),Tw=function(e){if(Ew.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Aw=function(e){try{e()}catch(G1){setTimeout(()=>{const t=G1.stack||"";throw mw("Exception was thrown by user callback.",t),G1},Math.floor(0))}},Dw=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Nw{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Hr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){mw('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Ow{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(dw("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mw(e)}}class Iw{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Iw.OWNER="owner";const Pw="5",jw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Mw="ac",Rw="websocket",Fw="long_polling";class Lw{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=i,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=nw.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&nw.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function zw(e,t,n){let r;if(Pt("string"===typeof t,"typeof type must == string"),Pt("object"===typeof n,"typeof params must == object"),t===Rw)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Fw)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const o=[];return Cw(n,(e,t)=>{o.push(e+"="+t)}),r+o.join("&")}class Bw{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;vn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Ut(this.counters_)}}const Uw={},Vw={};function Hw(e){const t=e.toString();return Uw[t]||(Uw[t]=new Bw),Uw[t]}class qw{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Aw(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Ww="start";class Yw{constructor(e,t,n,r,o,i,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.transportSessionId=i,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hw(e),this.stats_=Hw(t),this.urlFn=e=>(this.appCheckToken&&(e[Mw]=this.appCheckToken),zw(t,Fw,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new qw(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(ln()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Kw(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,i,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===Ww)n.id=i,n.password=s;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,i]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,i)},()=>{this.onClosed_()},this.urlFn);const e={};e[Ww]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Pw,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Mw]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&jw.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yw.forceAllow_=!0}static forceDisallow(){Yw.forceDisallow_=!0}static isAvailable(){return!ln()&&(!!Yw.forceAllow_||!Yw.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=mn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Lt(t),r=_w(n,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(ln())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=mn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Kw{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,ln())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=iw(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Kw.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(G1){dw("frame writing exception"),G1.stack&&dw(G1.stack),dw(G1)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||dw("No IE domain setting required")}catch(G1){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){ln()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{dw("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(G1){}},Math.floor(1))}}let Gw=null;"undefined"!==typeof MozWebSocket?Gw=MozWebSocket:"undefined"!==typeof WebSocket&&(Gw=WebSocket);class $w{constructor(e,t,n,r,o,i,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hw(this.connId),this.stats_=Hw(t),this.connURL=$w.connectionURL_(t,i,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,o){const i={};return i.v=Pw,!ln()&&"undefined"!==typeof location&&location.hostname&&jw.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i[Mw]=r),o&&(i.p=o),zw(e,Rw,i)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nw.set("previous_websocket_failure",!0);try{let e;if(ln()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Pw,"/").concat(Jb,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_FIREBASE_DATABASE:"https://sqwad-rebate-app.firebaseio.com",REACT_APP_FIREBASE_SENDER_ID:"827574824663",REACT_APP_FIREBASE_DOMAIN:"sqwad-rebate-app.firebaseapp.com",REACT_APP_SHOPIFY_SERVICE_URL:"https://ent-guns-supporters-corrections.trycloudflare.com",REACT_APP_FIREBASE_STORAGE_BUCKET:"sqwad-rebate-app.firebasestorage.app",REACT_APP_FIREBASE_KEY:"AIzaSyAQO8xXX2hfzeEwqXZu2KanqTXhU0hvzsM",REACT_APP_ID:"1:827574824663:web:b32ac87da74b6a81270a92",REACT_APP_FIREBASE_PROJECT_ID:"sqwad-rebate-app"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Gw(this.connURL,[],e)}catch(G1){this.log_("Error instantiating WebSocket.");const t=G1.message||G1.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){$w.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Gw&&!$w.forceDisallow_}static previouslyFailed(){return nw.isInMemoryStorage||!0===nw.get("previous_websocket_failure")}markConnectionHealthy(){nw.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=fn(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Pt(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=mn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=_w(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(G1){this.log_("Exception thrown from WebSocket.send():",G1.message||G1.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}$w.responsesRequiredToBeHealthy=2,$w.healthyTimeout=3e4;class Qw{static get ALL_TRANSPORTS(){return[Yw,$w]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=$w&&$w.isAvailable();let n=t&&!$w.previouslyFailed();if(e.webSocketOnly&&(t||mw("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[$w];else{const e=this.transports_=[];for(const t of Qw.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Qw.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qw.globalTransportInitialized_=!1;class Jw{constructor(e,t,n,r,o,i,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=i,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hw("c:"+this.id+":"),this.transportManager_=new Qw(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Dw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=xw("t",e),n=xw("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=xw("t",e),n=xw("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=xw("t",e);if("d"in e){const n=e.d;if("h"===t){const e=(0,i.A)({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?pw("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pw("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Pw!==n&&mw("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Dw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Dw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nw.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Xw{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Zw{constructor(e){this.allowedEvents_=e,this.listeners_={},Pt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const o=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<o.length;e++)o[e].callback.apply(o[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!n||n===r[o].context))return void r.splice(o,1)}validateEventType_(e){Pt(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class ex extends Zw{static getInstance(){return new ex}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||on()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Pt("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class tx{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function nx(){return new tx("")}function rx(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ox(e){return e.pieces_.length-e.pieceNum_}function ix(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new tx(e.pieces_,t)}function sx(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ax(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function lx(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new tx(t,0)}function cx(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof tx)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new tx(n,0)}function ux(e){return e.pieceNum_>=e.pieces_.length}function dx(e,t){const n=rx(e),r=rx(t);if(null===n)return t;if(n===r)return dx(ix(e),ix(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function hx(e,t){const n=ax(e,0),r=ax(t,0);for(let o=0;o<n.length&&o<r.length;o++){const e=bw(n[o],r[o]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function px(e,t){if(ox(e)!==ox(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function fx(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ox(e)>ox(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class mx{constructor(e,t){this.errorPrefix_=t,this.parts_=ax(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Nn(this.parts_[n]);gx(this)}}function gx(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+vx(e))}function vx(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class yx extends Zw{static getInstance(){return new yx}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return Pt("visible"===e,"Unknown event type: "+e),[this.visible_]}}const bx=1e3;class wx extends Xw{constructor(e,t,n,r,o,i,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=wx.nextPersistentConnectionId_++,this.log_=hw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bx,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!ln())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yx.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ex.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(mn(o)),Pt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Qt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const o=e._queryIdentifier,i=e._path.toString();this.log_("Listen called for "+i+" "+o),this.listens.has(i)||this.listens.set(i,new Map),Pt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Pt(!this.listens.get(i).has(o),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(i).set(o,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const o={p:n};e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,o=>{const i=o.d,s=o.s;wx.warnOnListenWarnings_(i,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",o),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,i))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&vn(e,"w")){const n=yn(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();mw("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=gn(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=gn(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Pt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const o={p:e};r&&(o.q=n,o.t=r),this.sendRequest("n",o)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const o={p:t,d:n};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,o){this.initConnection_();const i={p:t,d:n};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:e,request:i,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+mn(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):pw("Unrecognized action received from server: "+mn(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Pt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bx,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bx,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=bx),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+wx.nextConnectionId_++,o=this.lastSessionId;let i=!1,s=null;const a=function(){s?s.close():(i=!0,n())},l=function(e){Pt(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);i?dw("getToken() completed but was canceled"):(dw("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new Jw(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{mw(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},o))}catch(pw){this.log_("Failed to get token: "+pw),i||(this.repoInfo_.nodeAdmin&&mw(pw),a())}}}interrupt(e){dw("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dw("Resuming connection for reason: "+e),delete this.interruptReasons_[e],bn(this.interruptReasons_)&&(this.reconnectDelay_=bx,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>kw(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new tx(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){dw("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){dw("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";ln()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Jb.replace(/\./g,"-")]=1,on()?e["framework.cordova"]=1:an()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ex.getInstance().currentlyOnline();return bn(this.interruptReasons_)&&e}}wx.nextPersistentConnectionId_=0,wx.nextConnectionId_=0;class xx{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new xx(e,t)}}class kx{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new xx(vw,e),r=new xx(vw,t);return 0!==this.compare(n,r)}minPost(){return xx.MIN}}let _x;class Cx extends kx{static get __EMPTY_NODE(){return _x}static set __EMPTY_NODE(e){_x=e}compare(e,t){return bw(e.name,t.name)}isDefinedOn(e){throw jt("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return xx.MIN}maxPost(){return new xx(yw,_x)}makePost(e,t){return Pt("string"===typeof e,"KeyIndex indexValue must always be a string."),new xx(e,_x)}toString(){return".key"}}const Sx=new Cx;class Ex{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Tx{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:Tx.RED,this.left=null!=r?r:Ax.EMPTY_NODE,this.right=null!=o?o:Ax.EMPTY_NODE}copy(e,t,n,r,o){return new Tx(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ax.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ax.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Tx.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Tx.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Tx.RED=!0,Tx.BLACK=!1;class Ax{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ax.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Ax(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Tx.BLACK,null,null))}remove(e){return new Ax(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Tx.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ex(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Ex(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Ex(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Ex(this.root_,null,this.comparator_,!0,e)}}function Dx(e,t){return bw(e.name,t.name)}function Nx(e,t){return bw(e,t)}let Ox;Ax.EMPTY_NODE=new class{copy(e,t,n,r,o){return this}insert(e,t,n){return new Tx(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ix=function(e){return"number"===typeof e?"number:"+Sw(e):"string:"+e},Px=function(e){if(e.isLeafNode()){const t=e.val();Pt("string"===typeof t||"number"===typeof t||"object"===typeof t&&vn(t,".sv"),"Priority must be a string or number.")}else Pt(e===Ox||e.isEmpty(),"priority of unexpected type.");Pt(e===Ox||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let jx,Mx,Rx;class Fx{static set __childrenNodeConstructor(e){jx=e}static get __childrenNodeConstructor(){return jx}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fx.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Pt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Px(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Fx(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Fx.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ux(e)?this:".priority"===rx(e)?this.priorityNode_:Fx.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Fx.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=rx(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Pt(".priority"!==n||1===ox(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Fx.__childrenNodeConstructor.EMPTY_NODE.updateChild(ix(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ix(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Sw(this.value_):this.value_,this.lazyHash_=sw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Fx.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Fx.__childrenNodeConstructor?-1:(Pt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Fx.VALUE_TYPE_ORDER.indexOf(t),o=Fx.VALUE_TYPE_ORDER.indexOf(n);return Pt(r>=0,"Unknown leaf type: "+t),Pt(o>=0,"Unknown leaf type: "+n),r===o?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Fx.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Lx=new class extends kx{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),o=n.compareTo(r);return 0===o?bw(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return xx.MIN}maxPost(){return new xx(yw,new Fx("[PRIORITY-POST]",Rx))}makePost(e,t){const n=Mx(e);return new xx(t,new Fx("[PRIORITY-POST]",n))}toString(){return".priority"}},zx=Math.log(2);class Bx{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/zx,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ux=function(e,t,n,r){e.sort(t);const o=function(t,r){const i=r-t;let s,a;if(0===i)return null;if(1===i)return s=e[t],a=n?n(s):s,new Tx(a,s.node,Tx.BLACK,null,null);{const l=parseInt(i/2,10)+t,c=o(t,l),u=o(l+1,r);return s=e[l],a=n?n(s):s,new Tx(a,s.node,Tx.BLACK,c,u)}},i=function(t){let r=null,i=null,s=e.length;const a=function(t,r){const i=s-t,a=s;s-=t;const c=o(i+1,a),u=e[i],d=n?n(u):u;l(new Tx(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(i=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Tx.BLACK):(a(r,Tx.BLACK),a(r,Tx.RED))}return i}(new Bx(e.length));return new Ax(r||t,i)};let Vx;const Hx={};class qx{static get Default(){return Pt(Hx&&Lx,"ChildrenNode.ts has not been loaded"),Vx=Vx||new qx({".priority":Hx},{".priority":Lx}),Vx}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=yn(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ax?t:null}hasIndex(e){return vn(this.indexSet_,e.toString())}addIndex(e,t){Pt(e!==Sx,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const o=t.getIterator(xx.Wrap);let s,a=o.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=o.getNext();s=r?Ux(n,e.getCompare()):Hx;const l=e.toString(),c=(0,i.A)({},this.indexSet_);c[l]=e;const u=(0,i.A)({},this.indexes_);return u[l]=s,new qx(u,c)}addToIndexes(e,t){const n=wn(this.indexes_,(n,r)=>{const o=yn(this.indexSet_,r);if(Pt(o,"Missing index implementation for "+r),n===Hx){if(o.isDefinedOn(e.node)){const n=[],r=t.getIterator(xx.Wrap);let i=r.getNext();for(;i;)i.name!==e.name&&n.push(i),i=r.getNext();return n.push(e),Ux(n,o.getCompare())}return Hx}{const r=t.get(e.name);let o=n;return r&&(o=o.remove(new xx(e.name,r))),o.insert(e,e.node)}});return new qx(n,this.indexSet_)}removeFromIndexes(e,t){const n=wn(this.indexes_,n=>{if(n===Hx)return n;{const r=t.get(e.name);return r?n.remove(new xx(e.name,r)):n}});return new qx(n,this.indexSet_)}}let Wx;class Yx{static get EMPTY_NODE(){return Wx||(Wx=new Yx(new Ax(Nx),null,qx.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Px(this.priorityNode_),this.children_.isEmpty()&&Pt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wx}updatePriority(e){return this.children_.isEmpty()?this:new Yx(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Wx:t}}getChild(e){const t=rx(e);return null===t?this:this.getImmediateChild(t).getChild(ix(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Pt(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new xx(e,t);let r,o;t.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(n,this.children_));const i=r.isEmpty()?Wx:this.priorityNode_;return new Yx(r,i,o)}}updateChild(e,t){const n=rx(e);if(null===n)return t;{Pt(".priority"!==rx(e)||1===ox(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(ix(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,o=!0;if(this.forEachChild(Lx,(i,s)=>{t[i]=s.val(e),n++,o&&Yx.INTEGER_REGEXP_.test(i)?r=Math.max(r,Number(i)):o=!1}),!e&&o&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ix(this.getPriority().val())+":"),this.forEachChild(Lx,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":sw(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new xx(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new xx(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new xx(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,xx.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,xx.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Kx?-1:0}withIndex(e){if(e===Sx||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Yx(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Sx||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Lx),n=t.getIterator(Lx);let r=e.getNext(),o=n.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=e.getNext(),o=n.getNext()}return null===r&&null===o}return!1}return!1}}resolveIndex_(e){return e===Sx?null:this.indexMap_.get(e.toString())}}Yx.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Kx=new class extends Yx{constructor(){super(new Ax(Nx),Yx.EMPTY_NODE,qx.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Yx.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(xx,{MIN:{value:new xx(vw,Yx.EMPTY_NODE)},MAX:{value:new xx(yw,Kx)}}),Cx.__EMPTY_NODE=Yx.EMPTY_NODE,Fx.__childrenNodeConstructor=Yx,Ox=Kx,function(e){Rx=e}(Kx);function Gx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Yx.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Pt(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Fx(e,Gx(t))}if(e instanceof Array){let n=Yx.EMPTY_NODE;return Cw(e,(t,r)=>{if(vn(e,t)&&"."!==t.substring(0,1)){const e=Gx(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(Gx(t))}{const n=[];let r=!1;if(Cw(e,(e,t)=>{if("."!==e.substring(0,1)){const o=Gx(t);o.isEmpty()||(r=r||!o.getPriority().isEmpty(),n.push(new xx(e,o)))}}),0===n.length)return Yx.EMPTY_NODE;const o=Ux(n,Dx,e=>e.name,Nx);if(r){const e=Ux(n,Lx.getCompare());return new Yx(o,Gx(t),new qx({".priority":e},{".priority":Lx}))}return new Yx(o,Gx(t),qx.Default)}}!function(e){Mx=e}(Gx);class $x extends kx{constructor(e){super(),this.indexPath_=e,Pt(!ux(e)&&".priority"!==rx(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),o=n.compareTo(r);return 0===o?bw(e.name,t.name):o}makePost(e,t){const n=Gx(e),r=Yx.EMPTY_NODE.updateChild(this.indexPath_,n);return new xx(t,r)}maxPost(){const e=Yx.EMPTY_NODE.updateChild(this.indexPath_,Kx);return new xx(yw,e)}toString(){return ax(this.indexPath_,0).join("/")}}const Qx=new class extends kx{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?bw(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return xx.MIN}maxPost(){return xx.MAX}makePost(e,t){const n=Gx(e);return new xx(t,n)}toString(){return".value"}};function Jx(e){return{type:"value",snapshotNode:e}}function Xx(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Zx(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ek(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class tk{constructor(e){this.index_=e}updateChild(e,t,n,r,o,i){Pt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=i&&(n.isEmpty()?e.hasChild(t)?i.trackChildChange(Zx(t,s)):Pt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?i.trackChildChange(Xx(t,n)):i.trackChildChange(ek(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Lx,(e,r)=>{t.hasChild(e)||n.trackChildChange(Zx(e,r))}),t.isLeafNode()||t.forEachChild(Lx,(t,r)=>{if(e.hasChild(t)){const o=e.getImmediateChild(t);o.equals(r)||n.trackChildChange(ek(t,r,o))}else n.trackChildChange(Xx(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Yx.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class nk{constructor(e){this.indexedFilter_=new tk(e.getIndex()),this.index_=e.getIndex(),this.startPost_=nk.getStartPost_(e),this.endPost_=nk.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,o,i){return this.matches(new xx(t,n))||(n=Yx.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,o,i)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Yx.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Yx.EMPTY_NODE);const o=this;return t.forEachChild(Lx,(e,t)=>{o.matches(new xx(e,t))||(r=r.updateImmediateChild(e,Yx.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class rk{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new nk(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,o,i){return this.rangedFilter_.matches(new xx(t,n))||(n=Yx.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,o,i):this.fullLimitUpdateChild_(e,t,n,o,i)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Yx.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Yx.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Yx.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Yx.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,o){let i;if(this.reverse_){const e=this.index_.getCompare();i=(t,n)=>e(n,t)}else i=this.index_.getCompare();const s=e;Pt(s.numChildren()===this.limit_,"");const a=new xx(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:i(u,a);if(c&&!n.isEmpty()&&d>=0)return null!=o&&o.trackChildChange(ek(t,n,e)),s.updateImmediateChild(t,n);{null!=o&&o.trackChildChange(Zx(t,e));const n=s.updateImmediateChild(t,Yx.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=o&&o.trackChildChange(Xx(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&i(l,a)>=0?(null!=o&&(o.trackChildChange(Zx(l.name,l.node)),o.trackChildChange(Xx(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,Yx.EMPTY_NODE)):e}}class ok{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Lx}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Pt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Pt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vw}hasEnd(){return this.endSet_}getIndexEndValue(){return Pt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Pt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yw}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Pt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Lx}copy(){const e=new ok;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ik(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function sk(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function ak(e,t){const n=e.copy();return n.index_=t,n}function lk(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Lx?n="$priority":e.index_===Qx?n="$value":e.index_===Sx?n="$key":(Pt(e.index_ instanceof $x,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=mn(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=mn(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+mn(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=mn(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+mn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ck(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Lx&&(t.i=e.index_.toString()),t}class uk extends Xw{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Pt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=hw("p:rest:"),this.listens_={}}listen(e,t,n,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const i=uk.getListenId_(e,n),s={};this.listens_[i]=s;const a=lk(e._queryParams);this.restRequest_(o+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(o,a,!1,n),yn(this.listens_,i)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=uk.getListenId_(e,t);delete this.listens_[n]}get(e){const t=lk(e._queryParams),n=e._path.toString(),r=new Qt;return this.restRequest_(n+".json",t,(e,t)=>{let o=t;404===e&&(o=null,e=null),null===e?(this.onDataUpdate_(n,o,!1,null),r.resolve(o)):r.reject(new Error(o))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[o,i]=r;o&&o.accessToken&&(t.auth=o.accessToken),i&&i.token&&(t.ac=i.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_n(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=fn(a.responseText)}catch(G1){mw("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&mw("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}class dk{constructor(){this.rootNode_=Yx.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function hk(){return{value:null,children:new Map}}function pk(e,t,n){if(ux(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=rx(t);e.children.has(r)||e.children.set(r,hk());pk(e.children.get(r),t=ix(t),n)}}function fk(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{fk(r,new tx(t.toString()+"/"+e),n)})}class mk{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=(0,i.A)({},e);return this.last_&&Cw(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class gk{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new mk(e);const n=1e4+2e4*Math.random();Dw(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Cw(e,(e,r)=>{r>0&&vn(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),Dw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var vk;function yk(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(vk||(vk={}));class bk{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=vk.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ux(this.path)){if(null!=this.affectedTree.value)return Pt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new tx(e));return new bk(nx(),t,this.revert)}}return Pt(rx(this.path)===e,"operationForChild called for unrelated child."),new bk(ix(this.path),this.affectedTree,this.revert)}}class wk{constructor(e,t){this.source=e,this.path=t,this.type=vk.LISTEN_COMPLETE}operationForChild(e){return ux(this.path)?new wk(this.source,nx()):new wk(this.source,ix(this.path))}}class xk{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=vk.OVERWRITE}operationForChild(e){return ux(this.path)?new xk(this.source,nx(),this.snap.getImmediateChild(e)):new xk(this.source,ix(this.path),this.snap)}}class kk{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=vk.MERGE}operationForChild(e){if(ux(this.path)){const t=this.children.subtree(new tx(e));return t.isEmpty()?null:t.value?new xk(this.source,nx(),t.value):new kk(this.source,nx(),t)}return Pt(rx(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new kk(this.source,ix(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class _k{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ux(e))return this.isFullyInitialized()&&!this.filtered_;const t=rx(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Ck{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Sk(e,t,n,r,o,i){const s=r.filter(e=>e.type===n);s.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw jt("Should only compare child_ events.");const r=new xx(t.childName,t.snapshotNode),o=new xx(n.childName,n.snapshotNode);return e.index_.compare(r,o)}(e,t,n)),s.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,i);o.forEach(o=>{o.respondsTo(n.type)&&t.push(o.createEvent(r,e.query_))})})}function Ek(e,t){return{eventCache:e,serverCache:t}}function Tk(e,t,n,r){return Ek(new _k(t,n,r),e.serverCache)}function Ak(e,t,n,r){return Ek(e.eventCache,new _k(t,n,r))}function Dk(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Nk(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Ok;class Ik{static fromObject(e){let t=new Ik(null);return Cw(e,(e,n)=>{t=t.set(new tx(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Ok||(Ok=new Ax(ww)),Ok);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:nx(),value:this.value};if(ux(e))return null;{const n=rx(e),r=this.children.get(n);if(null!==r){const o=r.findRootMostMatchingPathAndValue(ix(e),t);if(null!=o){return{path:cx(new tx(n),o.path),value:o.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ux(e))return this;{const t=rx(e),n=this.children.get(t);return null!==n?n.subtree(ix(e)):new Ik(null)}}set(e,t){if(ux(e))return new Ik(t,this.children);{const n=rx(e),r=(this.children.get(n)||new Ik(null)).set(ix(e),t),o=this.children.insert(n,r);return new Ik(this.value,o)}}remove(e){if(ux(e))return this.children.isEmpty()?new Ik(null):new Ik(null,this.children);{const t=rx(e),n=this.children.get(t);if(n){const r=n.remove(ix(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new Ik(null):new Ik(this.value,o)}return this}}get(e){if(ux(e))return this.value;{const t=rx(e),n=this.children.get(t);return n?n.get(ix(e)):null}}setTree(e,t){if(ux(e))return t;{const n=rx(e),r=(this.children.get(n)||new Ik(null)).setTree(ix(e),t);let o;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Ik(this.value,o)}}fold(e){return this.fold_(nx(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,o)=>{n[r]=o.fold_(cx(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,nx(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(ux(e))return null;{const r=rx(e),o=this.children.get(r);return o?o.findOnPath_(ix(e),cx(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,nx(),t)}foreachOnPath_(e,t,n){if(ux(e))return this;{this.value&&n(t,this.value);const r=rx(e),o=this.children.get(r);return o?o.foreachOnPath_(ix(e),cx(t,r),n):new Ik(null)}}foreach(e){this.foreach_(nx(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(cx(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Pk{constructor(e){this.writeTree_=e}static empty(){return new Pk(new Ik(null))}}function jk(e,t,n){if(ux(t))return new Pk(new Ik(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const o=r.path;let i=r.value;const s=dx(o,t);return i=i.updateChild(s,n),new Pk(e.writeTree_.set(o,i))}{const r=new Ik(n),o=e.writeTree_.setTree(t,r);return new Pk(o)}}}function Mk(e,t,n){let r=e;return Cw(n,(e,n)=>{r=jk(r,cx(t,e),n)}),r}function Rk(e,t){if(ux(t))return Pk.empty();{const n=e.writeTree_.setTree(t,new Ik(null));return new Pk(n)}}function Fk(e,t){return null!=Lk(e,t)}function Lk(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(dx(n.path,t)):null}function zk(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Lx,(e,n)=>{t.push(new xx(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new xx(e,n.value))}),t}function Bk(e,t){if(ux(t))return e;{const n=Lk(e,t);return new Pk(null!=n?new Ik(n):e.writeTree_.subtree(t))}}function Uk(e){return e.writeTree_.isEmpty()}function Vk(e,t){return Hk(nx(),e.writeTree_,t)}function Hk(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,o)=>{".priority"===t?(Pt(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=Hk(cx(e,t),o,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(cx(e,".priority"),r)),n}}function qk(e,t){return r_(t,e)}function Wk(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);Pt(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let o=r.visible,i=!1,s=e.allWrites.length-1;for(;o&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&Yk(t,r.path)?o=!1:fx(r.path,t.path)&&(i=!0)),s--}if(o){if(i)return function(e){e.visibleWrites=Gk(e.allWrites,Kk,nx()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Rk(e.visibleWrites,r.path);else{Cw(r.children,t=>{e.visibleWrites=Rk(e.visibleWrites,cx(r.path,t))})}return!0}return!1}function Yk(e,t){if(e.snap)return fx(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&fx(cx(e.path,n),t))return!0;return!1}function Kk(e){return e.visible}function Gk(e,t,n){let r=Pk.empty();for(let o=0;o<e.length;++o){const i=e[o];if(t(i)){const e=i.path;let t;if(i.snap)fx(n,e)?(t=dx(n,e),r=jk(r,t,i.snap)):fx(e,n)&&(t=dx(e,n),r=jk(r,nx(),i.snap.getChild(t)));else{if(!i.children)throw jt("WriteRecord should have .snap or .children");if(fx(n,e))t=dx(n,e),r=Mk(r,t,i.children);else if(fx(e,n))if(t=dx(e,n),ux(t))r=Mk(r,nx(),i.children);else{const e=yn(i.children,rx(t));if(e){const n=e.getChild(ix(t));r=jk(r,nx(),n)}}}}}return r}function $k(e,t,n,r,o){if(r||o){const i=Bk(e.visibleWrites,t);if(!o&&Uk(i))return n;if(o||null!=n||Fk(i,nx())){const i=function(e){return(e.visible||o)&&(!r||!~r.indexOf(e.writeId))&&(fx(e.path,t)||fx(t,e.path))};return Vk(Gk(e.allWrites,i,t),n||Yx.EMPTY_NODE)}return null}{const r=Lk(e.visibleWrites,t);if(null!=r)return r;{const r=Bk(e.visibleWrites,t);if(Uk(r))return n;if(null!=n||Fk(r,nx())){return Vk(r,n||Yx.EMPTY_NODE)}return null}}}function Qk(e,t,n,r){return $k(e.writeTree,e.treePath,t,n,r)}function Jk(e,t){return function(e,t,n){let r=Yx.EMPTY_NODE;const o=Lk(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Lx,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const o=Bk(e.visibleWrites,t);return n.forEachChild(Lx,(e,t)=>{const n=Vk(Bk(o,new tx(e)),t);r=r.updateImmediateChild(e,n)}),zk(o).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return zk(Bk(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function Xk(e,t,n,r){return function(e,t,n,r,o){Pt(r||o,"Either existingEventSnap or existingServerSnap must exist");const i=cx(t,n);if(Fk(e.visibleWrites,i))return null;{const t=Bk(e.visibleWrites,i);return Uk(t)?o.getChild(n):Vk(t,o.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Zk(e,t){return function(e,t){return Lk(e.visibleWrites,t)}(e.writeTree,cx(e.treePath,t))}function e_(e,t,n,r,o,i){return function(e,t,n,r,o,i,s){let a;const l=Bk(e.visibleWrites,t),c=Lk(l,nx());if(null!=c)a=c;else{if(null==n)return[];a=Vk(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=i?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<o;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,o,i)}function t_(e,t,n){return function(e,t,n,r){const o=cx(t,n),i=Lk(e.visibleWrites,o);if(null!=i)return i;if(r.isCompleteForChild(n))return Vk(Bk(e.visibleWrites,o),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function n_(e,t){return r_(cx(e.treePath,t),e.writeTree)}function r_(e,t){return{treePath:e,writeTree:t}}class o_{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Pt("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Pt(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(n,ek(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(n,Zx(n,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(n,Xx(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw jt("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ek(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const i_=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class s_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new _k(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return t_(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Nk(this.viewCache_),o=e_(this.writes_,r,t,1,n,e);return 0===o.length?null:o[0]}}function a_(e,t,n,r,o){const i=new o_;let s,a;if(n.type===vk.OVERWRITE){const l=n;l.source.fromUser?s=u_(e,t,l.path,l.snap,r,o,i):(Pt(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!ux(l.path),s=c_(e,t,l.path,l.snap,r,o,a,i))}else if(n.type===vk.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,o,i,s){let a=t;return r.foreach((r,l)=>{const c=cx(n,r);d_(t,rx(c))&&(a=u_(e,a,c,l,o,i,s))}),r.foreach((r,l)=>{const c=cx(n,r);d_(t,rx(c))||(a=u_(e,a,c,l,o,i,s))}),a}(e,t,l.path,l.children,r,o,i):(Pt(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=p_(e,t,l.path,l.children,r,o,a,i))}else if(n.type===vk.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,o,i){let s;if(null!=Zk(r,n))return t;{const a=new s_(r,t,o),l=t.eventCache.getNode();let c;if(ux(n)||".priority"===rx(n)){let n;if(t.serverCache.isFullyInitialized())n=Qk(r,Nk(t));else{const e=t.serverCache.getNode();Pt(e instanceof Yx,"serverChildren would be complete if leaf node"),n=Jk(r,e)}c=e.filter.updateFullNode(l,n,i)}else{const o=rx(n);let u=t_(r,o,t.serverCache);null==u&&t.serverCache.isCompleteForChild(o)&&(u=l.getImmediateChild(o)),c=null!=u?e.filter.updateChild(l,o,u,ix(n),a,i):t.eventCache.getNode().hasChild(o)?e.filter.updateChild(l,o,Yx.EMPTY_NODE,ix(n),a,i):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Qk(r,Nk(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,i)))}return s=t.serverCache.isFullyInitialized()||null!=Zk(r,nx()),Tk(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,o,i):function(e,t,n,r,o,i,s){if(null!=Zk(o,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(ux(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return c_(e,t,n,l.getNode().getChild(n),o,i,a,s);if(ux(n)){let r=new Ik(null);return l.getNode().forEachChild(Sx,(e,t)=>{r=r.set(new tx(e),t)}),p_(e,t,n,r,o,i,a,s)}return t}{let c=new Ik(null);return r.foreach((e,t)=>{const r=cx(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),p_(e,t,n,c,o,i,a,s)}}(e,t,a.path,a.affectedTree,r,o,i)}else{if(n.type!==vk.LISTEN_COMPLETE)throw jt("Unknown operation type: "+n.type);s=function(e,t,n,r,o){const i=t.serverCache,s=Ak(t,i.getNode(),i.isFullyInitialized()||ux(n),i.isFiltered());return l_(e,s,n,r,i_,o)}(e,t,n.path,r,i)}const l=i.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Dk(e);(n.length>0||!e.eventCache.isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(Jx(Dk(t)))}}(t,s,l),{viewCache:s,changes:l}}function l_(e,t,n,r,o,i){const s=t.eventCache;if(null!=Zk(r,n))return t;{let a,l;if(ux(n))if(Pt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Nk(t),o=Jk(r,n instanceof Yx?n:Yx.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),o,i)}else{const n=Qk(r,Nk(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,i)}else{const c=rx(n);if(".priority"===c){Pt(1===ox(n),"Can't have a priority with additional path components");const o=s.getNode();l=t.serverCache.getNode();const i=Xk(r,n,o,l);a=null!=i?e.filter.updatePriority(o,i):s.getNode()}else{const u=ix(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Xk(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=t_(r,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,o,i):s.getNode()}}return Tk(t,a,s.isFullyInitialized()||ux(n),e.filter.filtersNodes())}}function c_(e,t,n,r,o,i,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(ux(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=rx(n);if(!l.isCompleteForPath(n)&&ox(n)>1)return t;const o=ix(n),i=l.getNode().getImmediateChild(e).updateChild(o,r);c=".priority"===e?u.updatePriority(l.getNode(),i):u.updateChild(l.getNode(),e,i,o,i_,null)}const d=Ak(t,c,l.isFullyInitialized()||ux(n),u.filtersNodes());return l_(e,d,n,o,new s_(o,d,i),a)}function u_(e,t,n,r,o,i,s){const a=t.eventCache;let l,c;const u=new s_(o,t,i);if(ux(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Tk(t,c,!0,e.filter.filtersNodes());else{const o=rx(n);if(".priority"===o)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Tk(t,c,a.isFullyInitialized(),a.isFiltered());else{const i=ix(n),c=a.getNode().getImmediateChild(o);let d;if(ux(i))d=r;else{const e=u.getCompleteChild(o);d=null!=e?".priority"===sx(i)&&e.getChild(lx(i)).isEmpty()?e:e.updateChild(i,r):Yx.EMPTY_NODE}if(c.equals(d))l=t;else{l=Tk(t,e.filter.updateChild(a.getNode(),o,d,i,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function d_(e,t){return e.eventCache.isCompleteForChild(t)}function h_(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function p_(e,t,n,r,o,i,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=ux(n)?r:new Ik(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=h_(0,t.serverCache.getNode().getImmediateChild(n),r);c=c_(e,c,new tx(n),l,o,i,s,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=h_(0,t.serverCache.getNode().getImmediateChild(n),r);c=c_(e,c,new tx(n),l,o,i,s,a)}}),c}class f_{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new tk(n.getIndex()),o=(i=n).loadsAllData()?new tk(i.getIndex()):i.hasLimit()?new rk(i):new nk(i);var i;this.processor_=function(e){return{filter:e}}(o);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(Yx.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Yx.EMPTY_NODE,a.getNode(),null),u=new _k(l,s.isFullyInitialized(),r.filtersNodes()),d=new _k(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ek(d,u),this.eventGenerator_=new Ck(this.query_)}get query(){return this.query_}}function m_(e,t){const n=Nk(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ux(t)&&!n.getImmediateChild(rx(t)).isEmpty())?n.getChild(t):null}function g_(e){return 0===e.eventRegistrations_.length}function v_(e,t,n){const r=[];if(n){Pt(null==t,"A cancel should cancel all event registrations.");const o=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,o);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const o=e.eventRegistrations_[r];if(o.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(o)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function y_(e,t,n,r){t.type===vk.MERGE&&null!==t.source.queryId&&(Pt(Nk(e.viewCache_),"We should always have a full cache before handling merges"),Pt(Dk(e.viewCache_),"Missing event cache, even though we have a server cache"));const o=e.viewCache_,i=a_(e.processor_,o,t,n,r);var s,a;return s=e.processor_,a=i.viewCache,Pt(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Pt(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),Pt(i.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=i.viewCache,b_(e,i.changes,i.viewCache.eventCache.getNode(),null)}function b_(e,t,n,r){const o=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const o=[],i=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),Sk(e,o,"child_removed",t,r,n),Sk(e,o,"child_added",t,r,n),Sk(e,o,"child_moved",i,r,n),Sk(e,o,"child_changed",t,r,n),Sk(e,o,"value",t,r,n),o}(e.eventGenerator_,t,n,o)}let w_,x_;class k_{constructor(){this.views=new Map}}function __(e,t,n,r){const o=t.source.queryId;if(null!==o){const i=e.views.get(o);return Pt(null!=i,"SyncTree gave us an op for an invalid query."),y_(i,t,n,r)}{let o=[];for(const i of e.views.values())o=o.concat(y_(i,t,n,r));return o}}function C_(e,t,n,r,o){const i=t._queryIdentifier,s=e.views.get(i);if(!s){let e=Qk(n,o?r:null),i=!1;e?i=!0:r instanceof Yx?(e=Jk(n,r),i=!1):(e=Yx.EMPTY_NODE,i=!1);const s=Ek(new _k(e,i,!1),new _k(r,o,!1));return new f_(t,s)}return s}function S_(e,t,n,r,o,i){const s=C_(e,t,r,o,i);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Lx,(e,t)=>{r.push(Xx(e,t))});return n.isFullyInitialized()&&r.push(Jx(n.getNode())),b_(e,r,n.getNode(),t)}(s,n)}function E_(e,t,n,r){const o=t._queryIdentifier,i=[];let s=[];const a=O_(e);if("default"===o)for(const[l,c]of e.views.entries())s=s.concat(v_(c,n,r)),g_(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const t=e.views.get(o);t&&(s=s.concat(v_(t,n,r)),g_(t)&&(e.views.delete(o),t.query._queryParams.loadsAllData()||i.push(t.query)))}return a&&!O_(e)&&i.push(new(Pt(w_,"Reference.ts has not been loaded"),w_)(t._repo,t._path)),{removed:i,events:s}}function T_(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function A_(e,t){let n=null;for(const r of e.views.values())n=n||m_(r,t);return n}function D_(e,t){if(t._queryParams.loadsAllData())return I_(e);{const n=t._queryIdentifier;return e.views.get(n)}}function N_(e,t){return null!=D_(e,t)}function O_(e){return null!=I_(e)}function I_(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let P_=1;class j_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ik(null),this.pendingWriteTree_={visibleWrites:Pk.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function M_(e,t,n,r,o){return function(e,t,n,r,o){Pt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=jk(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,o),o?q_(e,new xk({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function R_(e,t,n,r){!function(e,t,n,r){Pt(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Mk(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const o=Ik.fromObject(n);return q_(e,new kk({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}function F_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Wk(e.pendingWriteTree_,t)){let t=new Ik(null);return null!=r.snap?t=t.set(nx(),!0):Cw(r.children,e=>{t=t.set(new tx(e),!0)}),q_(e,new bk(r.path,t,n))}return[]}function L_(e,t,n){return q_(e,new xk({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function z_(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=t._path,s=e.syncPointTree_.get(i);let a=[];if(s&&("default"===t._queryIdentifier||N_(s,t))){const l=E_(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!o){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),o=e.syncPointTree_.findOnPath(i,(e,t)=>O_(t));if(n&&!o){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&O_(t)){return[I_(t)]}{let e=[];return t&&(e=T_(t)),Cw(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],o=r.query,i=K_(e,r);e.listenProvider_.startListening(Z_(o),G_(e,o),i.hashFn,i.onComplete)}}}if(!o&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Z_(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get($_(t));e.listenProvider_.stopListening(Z_(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=$_(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function B_(e,t,n,r){const o=Q_(e,r);if(null!=o){const r=J_(o),i=r.path,s=r.queryId,a=dx(i,t);return X_(e,i,new xk(yk(s),a,n))}return[]}function U_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=t._path;let i=null,s=!1;e.syncPointTree_.foreachOnPath(o,(e,t)=>{const n=dx(e,o);i=i||A_(t,n),s=s||O_(t)});let a,l=e.syncPointTree_.get(o);if(l?(s=s||O_(l),i=i||A_(l,nx())):(l=new k_,e.syncPointTree_=e.syncPointTree_.set(o,l)),null!=i)a=!0;else{a=!1,i=Yx.EMPTY_NODE;e.syncPointTree_.subtree(o).foreachChild((e,t)=>{const n=A_(t,nx());n&&(i=i.updateImmediateChild(e,n))})}const c=N_(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=$_(t);Pt(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=P_++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=S_(l,t,n,qk(e.pendingWriteTree_,o),i,a);if(!c&&!s&&!r){const n=D_(l,t);u=u.concat(function(e,t,n){const r=t._path,o=G_(e,t),i=K_(e,n),s=e.listenProvider_.startListening(Z_(t),o,i.hashFn,i.onComplete),a=e.syncPointTree_.subtree(r);if(o)Pt(!O_(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!ux(e)&&t&&O_(t))return[I_(t).query];{let e=[];return t&&(e=e.concat(T_(t).map(e=>e.query))),Cw(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Z_(r),G_(e,r))}}return s}(e,t,n))}return u}function V_(e,t,n){const r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=A_(n,dx(e,t));if(r)return r});return $k(r,t,o,n,!0)}function H_(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const o=dx(e,n);r=r||A_(t,o)});let o=e.syncPointTree_.get(n);o?r=r||A_(o,nx()):(o=new k_,e.syncPointTree_=e.syncPointTree_.set(n,o));const i=null!=r,s=i?new _k(r,!0,!1):null;return function(e){return Dk(e.viewCache_)}(C_(o,t,qk(e.pendingWriteTree_,t._path),i?s.getNode():Yx.EMPTY_NODE,i))}function q_(e,t){return W_(t,e.syncPointTree_,null,qk(e.pendingWriteTree_,nx()))}function W_(e,t,n,r){if(ux(e.path))return Y_(e,t,n,r);{const o=t.get(nx());null==n&&null!=o&&(n=A_(o,nx()));let i=[];const s=rx(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=n_(r,s);i=i.concat(W_(a,l,e,t))}return o&&(i=i.concat(__(o,e,r,n))),i}}function Y_(e,t,n,r){const o=t.get(nx());null==n&&null!=o&&(n=A_(o,nx()));let i=[];return t.children.inorderTraversal((t,o)=>{const s=n?n.getImmediateChild(t):null,a=n_(r,t),l=e.operationForChild(t);l&&(i=i.concat(Y_(l,o,s,a)))}),o&&(i=i.concat(__(o,e,r,n))),i}function K_(e,t){const n=t.query,r=G_(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Yx.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Q_(e,n);if(r){const n=J_(r),o=n.path,i=n.queryId,s=dx(o,t);return X_(e,o,new wk(yk(i),s))}return[]}(e,n._path,r):function(e,t){return q_(e,new wk({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return z_(e,n,null,r)}}}}function G_(e,t){const n=$_(t);return e.queryToTagMap.get(n)}function $_(e){return e._path.toString()+"$"+e._queryIdentifier}function Q_(e,t){return e.tagToQueryMap.get(t)}function J_(e){const t=e.indexOf("$");return Pt(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new tx(e.substr(0,t))}}function X_(e,t,n){const r=e.syncPointTree_.get(t);Pt(r,"Missing sync point for query tag that we're tracking");return __(r,n,qk(e.pendingWriteTree_,t),null)}function Z_(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Pt(x_,"Reference.ts has not been loaded"),x_)(e._repo,e._path):e}class eC{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new eC(t)}node(){return this.node_}}class tC{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=cx(this.path_,e);return new tC(this.syncTree_,t)}node(){return V_(this.syncTree_,this.path_)}}const nC=function(e,t,n){return e&&"object"===typeof e?(Pt(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?rC(e[".sv"],t,n):"object"===typeof e[".sv"]?oC(e[".sv"],t):void Pt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},rC=function(e,t,n){if("timestamp"===e)return n.timestamp;Pt(!1,"Unexpected server value: "+e)},oC=function(e,t,n){e.hasOwnProperty("increment")||Pt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Pt(!1,"Unexpected increment value: "+r);const o=t.node();if(Pt(null!==o&&"undefined"!==typeof o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const i=o.getValue();return"number"!==typeof i?r:i+r},iC=function(e,t,n,r){return aC(t,new tC(n,e),r)},sC=function(e,t,n){return aC(e,new eC(t),n)};function aC(e,t,n){const r=e.getPriority().val(),o=nC(r,t.getImmediateChild(".priority"),n);let i;if(e.isLeafNode()){const r=e,i=nC(r.getValue(),t,n);return i!==r.getValue()||o!==r.getPriority().val()?new Fx(i,Gx(o)):e}{const r=e;return i=r,o!==r.getPriority().val()&&(i=i.updatePriority(new Fx(o))),r.forEachChild(Lx,(e,r)=>{const o=aC(r,t.getImmediateChild(e),n);o!==r&&(i=i.updateImmediateChild(e,o))}),i}}class lC{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function cC(e,t){let n=t instanceof tx?t:new tx(t),r=e,o=rx(n);for(;null!==o;){const e=yn(r.node.children,o)||{children:{},childCount:0};r=new lC(o,r,e),n=ix(n),o=rx(n)}return r}function uC(e){return e.node.value}function dC(e,t){e.node.value=t,gC(e)}function hC(e){return e.node.childCount>0}function pC(e,t){Cw(e.node.children,(n,r)=>{t(new lC(n,e,r))})}function fC(e,t,n,r){n&&!r&&t(e),pC(e,e=>{fC(e,t,!0,r)}),n&&r&&t(e)}function mC(e){return new tx(null===e.parent?e.name:mC(e.parent)+"/"+e.name)}function gC(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===uC(e)&&!hC(e)}(n),o=vn(e.node.children,t);r&&o?(delete e.node.children[t],e.node.childCount--,gC(e)):r||o||(e.node.children[t]=n.node,e.node.childCount++,gC(e))}(e.parent,e.name,e)}const vC=/[\[\].#$\/\u0000-\u001F\u007F]/,yC=/[\[\].#$\u0000-\u001F\u007F]/,bC=10485760,wC=function(e){return"string"===typeof e&&0!==e.length&&!vC.test(e)},xC=function(e){return"string"===typeof e&&0!==e.length&&!yC.test(e)},kC=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!gw(e)||e&&"object"===typeof e&&vn(e,".sv")},_C=function(e,t,n,r){r&&void 0===t||CC(Dn(e,"value"),t,n)},CC=function(e,t,n){const r=n instanceof tx?new mx(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+vx(r));if("function"===typeof t)throw new Error(e+"contains a function "+vx(r)+" with contents = "+t.toString());if(gw(t))throw new Error(e+"contains "+t.toString()+" "+vx(r));if("string"===typeof t&&t.length>bC/3&&Nn(t)>bC)throw new Error(e+"contains a string greater than "+bC+" utf8 bytes "+vx(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,o=!1;if(Cw(t,(t,i)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!wC(t)))throw new Error(e+" contains an invalid key ("+t+") "+vx(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Nn(t),gx(e)}(r,t),CC(e,i,r),function(e){const t=e.parts_.pop();e.byteLength_-=Nn(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&o)throw new Error(e+' contains ".value" child '+vx(r)+" in addition to actual children.")}},SC=function(e,t,n,r){if(r&&void 0===t)return;const o=Dn(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const i=[];Cw(t,(e,t)=>{const r=new tx(e);if(CC(o,t,cx(n,r)),".priority"===sx(r)&&!kC(t))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const o=ax(r);for(let t=0;t<o.length;t++)if(".priority"===o[t]&&t===o.length-1);else if(!wC(o[t]))throw new Error(e+"contains an invalid key ("+o[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(hx);let o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&fx(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,i)},EC=function(e,t,n,r){if((!r||void 0!==n)&&!wC(n))throw new Error(Dn(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},TC=function(e,t,n,r){if((!r||void 0!==n)&&!xC(n))throw new Error(Dn(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},AC=function(e,t){if(".info"===rx(t))throw new Error(e+" failed = Can't modify data under /.info/")},DC=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!wC(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),xC(e)}(n))throw new Error(Dn(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class NC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function OC(e,t){let n=null;for(let r=0;r<t.length;r++){const o=t[r],i=o.getPath();null===n||px(i,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:i}),n.events.push(o)}n&&e.eventLists_.push(n)}function IC(e,t,n){OC(e,n),jC(e,e=>px(e,t))}function PC(e,t,n){OC(e,n),jC(e,e=>fx(e,t)||fx(t,e))}function jC(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const o=e.eventLists_[r];if(o){t(o.path)?(MC(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function MC(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();lw&&dw("event: "+n.toString()),Aw(r)}}}const RC="repo_interrupt";class FC{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new NC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=hk(),this.transactionQueueTree_=new lC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function LC(e,t,n){if(e.stats_=Hw(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new uk(e.repoInfo_,(t,n,r,o)=>{UC(e,t,n,r,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>VC(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{mn(n)}catch(G1){throw new Error("Invalid authOverride provided: "+G1)}}e.persistentConnection_=new wx(e.repoInfo_,t,(t,n,r,o)=>{UC(e,t,n,r,o)},t=>{VC(e,t)},t=>{!function(e,t){Cw(t,(t,n)=>{HC(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return Vw[n]||(Vw[n]=t()),Vw[n]}(e.repoInfo_,()=>new gk(e.stats_,e.server_)),e.infoData_=new dk,e.infoSyncTree_=new j_({startListening:(t,n,r,o)=>{let i=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(i=L_(e.infoSyncTree_,t._path,s),setTimeout(()=>{o("ok")},0)),i},stopListening:()=>{}}),HC(e,"connected",!1),e.serverSyncTree_=new j_({startListening:(t,n,r,o)=>(e.server_.listen(t,r,n,(n,r)=>{const i=o(n,r);PC(e.eventQueue_,t._path,i)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function zC(e){const t=e.infoData_.getNode(new tx(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function BC(e){return(t=(t={timestamp:zC(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function UC(e,t,n,r,o){e.dataUpdateCount++;const i=new tx(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(o)if(r){const t=wn(n,e=>Gx(e));s=function(e,t,n,r){const o=Q_(e,r);if(o){const r=J_(o),i=r.path,s=r.queryId,a=dx(i,t),l=Ik.fromObject(n);return X_(e,i,new kk(yk(s),a,l))}return[]}(e.serverSyncTree_,i,t,o)}else{const t=Gx(n);s=B_(e.serverSyncTree_,i,t,o)}else if(r){const t=wn(n,e=>Gx(e));s=function(e,t,n){const r=Ik.fromObject(n);return q_(e,new kk({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,i,t)}else{const t=Gx(n);s=L_(e.serverSyncTree_,i,t)}let a=i;s.length>0&&(a=XC(e,i)),PC(e.eventQueue_,a,s)}function VC(e,t){HC(e,"connected",t),!1===t&&function(e){GC(e,"onDisconnectEvents");const t=BC(e),n=hk();fk(e.onDisconnect_,nx(),(r,o)=>{const i=iC(r,o,e.serverSyncTree_,t);pk(n,r,i)});let r=[];fk(n,nx(),(t,n)=>{r=r.concat(L_(e.serverSyncTree_,t,n));const o=rS(e,t);XC(e,o)}),e.onDisconnect_=hk(),PC(e.eventQueue_,nx(),r)}(e)}function HC(e,t,n){const r=new tx("/.info/"+t),o=Gx(n);e.infoData_.updateSnapshot(r,o);const i=L_(e.infoSyncTree_,r,o);PC(e.eventQueue_,r,i)}function qC(e){return e.nextWriteId_++}function WC(e,t,n,r,o){GC(e,"set",{path:t.toString(),value:n,priority:r});const i=BC(e),s=Gx(n,r),a=V_(e.serverSyncTree_,t),l=sC(s,a,i),c=qC(e),u=M_(e.serverSyncTree_,t,l,c,!0);OC(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(n,r)=>{const i="ok"===n;i||mw("set at "+t+" failed: "+n);const s=F_(e.serverSyncTree_,c,!i);PC(e.eventQueue_,t,s),$C(e,o,n,r)});const d=rS(e,t);XC(e,d),PC(e.eventQueue_,d,[])}function YC(e,t,n){let r;r=".info"===rx(t._path)?z_(e.infoSyncTree_,t,n):z_(e.serverSyncTree_,t,n),IC(e.eventQueue_,t._path,r)}function KC(e){e.persistentConnection_&&e.persistentConnection_.interrupt(RC)}function GC(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];dw(t,...r)}function $C(e,t,n,r){t&&Aw(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let o=e;r&&(o+=": "+r);const i=new Error(o);i.code=e,t(i)}})}function QC(e,t,n){return V_(e.serverSyncTree_,t,n)||Yx.EMPTY_NODE}function JC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||nS(e,t),uC(t)){const n=eS(e,t);Pt(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),o=QC(e,t,r);let i=o;const s=o.hash();for(let c=0;c<n.length;c++){const e=n[c];Pt(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=dx(t,e.path);i=i.updateChild(r,e.currentOutputSnapshotRaw)}const a=i.val(!0),l=t;e.server_.put(l.toString(),a,r=>{GC(e,"transaction put response",{path:l.toString(),status:r});let o=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,o=o.concat(F_(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();nS(e,cC(e.transactionQueueTree_,t)),JC(e,e.transactionQueueTree_),PC(e.eventQueue_,t,o);for(let e=0;e<r.length;e++)Aw(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{mw("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}XC(e,t)}},s)}(e,mC(t),n)}else hC(t)&&pC(t,t=>{JC(e,t)})}function XC(e,t){const n=ZC(e,t),r=mC(n);return function(e,t,n){if(0===t.length)return;const r=[];let o=[];const i=t.filter(e=>0===e.status),s=i.map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){const i=t[a],l=dx(n,i.path);let c,u=!1;if(Pt(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===i.status)u=!0,c=i.abortReason,o=o.concat(F_(e.serverSyncTree_,i.currentWriteId,!0));else if(0===i.status)if(i.retryCount>=25)u=!0,c="maxretry",o=o.concat(F_(e.serverSyncTree_,i.currentWriteId,!0));else{const n=QC(e,i.path,s);i.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){CC("transaction failed: Data returned ",r,i.path);let t=Gx(r);"object"===typeof r&&null!=r&&vn(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=i.currentWriteId,l=BC(e),c=sC(t,n,l);i.currentOutputSnapshotRaw=t,i.currentOutputSnapshotResolved=c,i.currentWriteId=qC(e),s.splice(s.indexOf(a),1),o=o.concat(M_(e.serverSyncTree_,i.path,c,i.currentWriteId,i.applyLocally)),o=o.concat(F_(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",o=o.concat(F_(e.serverSyncTree_,i.currentWriteId,!0))}PC(e.eventQueue_,n,o),o=[],u&&(t[a].status=2,function(e){setTimeout(e,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&("nodata"===c?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(c),!1,null))))}nS(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Aw(r[a]);JC(e,e.transactionQueueTree_)}(e,eS(e,n),r),r}function ZC(e,t){let n,r=e.transactionQueueTree_;for(n=rx(t);null!==n&&void 0===uC(r);)r=cC(r,n),n=rx(t=ix(t));return r}function eS(e,t){const n=[];return tS(e,t,n),n.sort((e,t)=>e.order-t.order),n}function tS(e,t,n){const r=uC(t);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);pC(t,t=>{tS(e,t,n)})}function nS(e,t){const n=uC(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,dC(t,n.length>0?n:void 0)}pC(t,t=>{nS(e,t)})}function rS(e,t){const n=mC(ZC(e,t)),r=cC(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{oS(e,t)}),oS(e,r),fC(r,t=>{oS(e,t)}),n}function oS(e,t){const n=uC(t);if(n){const r=[];let o=[],i=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Pt(i===t-1,"All SENT items should be at beginning of queue."),i=t,n[t].status=3,n[t].abortReason="set"):(Pt(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),o=o.concat(F_(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===i?dC(t,void 0):n.length=i+1,PC(e.eventQueue_,mC(t),o);for(let e=0;e<r.length;e++)Aw(r[e])}}const iS=function(e,t){const n=sS(e),r=n.namespace;"firebase.com"===n.domain&&fw(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||fw("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&mw("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const o="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Lw(n.host,n.secure,r,o,t,"",r!==n.subdomain),path:new tx(n.pathString)}},sS=function(e){let t="",n="",r="",o="",i="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(o=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(G1){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):mw("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),i=r}"ns"in h&&(i=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:o,namespace:i}},aS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",lS=function(){let e=0;const t=[];return function(n){const r=n===e;let o;e=n;const i=new Array(8);for(o=7;o>=0;o--)i[o]=aS.charAt(n%64),n=Math.floor(n/64);Pt(0===n,"Cannot push at time == 0");let s=i.join("");if(r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)s+=aS.charAt(t[o]);return Pt(20===s.length,"nextPushId: Length should be 20."),s}}();class cS{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+mn(this.snapshot.exportVal())}}class uS{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class dS{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Pt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class hS{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return ux(this._path)?null:sx(this._path)}get ref(){return new gS(this._repo,this._path)}get _queryIdentifier(){const e=ck(this._queryParams),t=kw(e);return"{}"===t?"default":t}get _queryObject(){return ck(this._queryParams)}isEqual(e){if(!((e=On(e))instanceof hS))return!1;const t=this._repo===e._repo,n=px(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function pS(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function fS(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Sx){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==vw)throw new Error(r);if("string"!==typeof t)throw new Error(o)}if(e.hasEnd()){if(e.getIndexEndName()!==yw)throw new Error(r);if("string"!==typeof n)throw new Error(o)}}else if(e.getIndex()===Lx){if(null!=t&&!kC(t)||null!=n&&!kC(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Pt(e.getIndex()instanceof $x||e.getIndex()===Qx,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function mS(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class gS extends hS{constructor(e,t){super(e,t,new ok,!1)}get parent(){const e=lx(this._path);return null===e?null:new gS(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class vS{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new tx(e),n=bS(this.ref,e);return new vS(this._node.getChild(t),n,Lx)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new vS(n,bS(this.ref,t),Lx)))}hasChild(e){const t=new tx(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function yS(e,t){return(e=On(e))._checkNotDeleted("ref"),void 0!==t?bS(e._root,t):e._root}function bS(e,t){var n,r,o,i;return null===rx((e=On(e))._path)?(n="child",r="path",i=!1,(o=t)&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),TC(n,r,o,i)):TC("child","path",t,!1),new gS(e._repo,cx(e._path,t))}function wS(e,t){e=On(e),AC("push",e._path),_C("push",t,e._path,!0);const n=zC(e._repo),r=lS(n),o=bS(e,r),i=bS(e,r);let s;return s=null!=t?kS(i,t).then(()=>i):Promise.resolve(i),o.then=s.then.bind(s),o.catch=s.then.bind(s,void 0),o}function xS(e){return AC("remove",e._path),kS(e,null)}function kS(e,t){e=On(e),AC("set",e._path),_C("set",t,e._path,!1);const n=new Qt;return WC(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function _S(e,t){SC("update",t,e._path,!1);const n=new Qt;return function(e,t,n,r){GC(e,"update",{path:t.toString(),value:n});let o=!0;const i=BC(e),s={};if(Cw(n,(n,r)=>{o=!1,s[n]=iC(cx(t,n),Gx(r),e.serverSyncTree_,i)}),o)dw("update() called with empty data.  Don't do anything."),$C(0,r,"ok",void 0);else{const o=qC(e),i=R_(e.serverSyncTree_,t,s,o);OC(e.eventQueue_,i),e.server_.merge(t.toString(),n,(n,i)=>{const s="ok"===n;s||mw("update at "+t+" failed: "+n);const a=F_(e.serverSyncTree_,o,!s),l=a.length>0?XC(e,t):t;PC(e.eventQueue_,l,a),$C(0,r,n,i)}),Cw(n,n=>{const r=rS(e,cx(t,n));XC(e,r)}),PC(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function CS(e){e=On(e);const t=new dS(()=>{}),n=new SS(t);return function(e,t,n){const r=H_(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(r=>{const o=Gx(r).withIndex(t._queryParams.getIndex());let i;if(U_(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=L_(e.serverSyncTree_,t._path,o);else{const n=G_(e.serverSyncTree_,t);i=B_(e.serverSyncTree_,t._path,o,n)}return PC(e.eventQueue_,t._path,i),z_(e.serverSyncTree_,t,n,null,!0),o},n=>(GC(e,"get for query "+mn(t)+" failed: "+n),Promise.reject(new Error(n))))}(e._repo,e,n).then(t=>new vS(t,new gS(e._repo,e._path),e._queryParams.getIndex()))}class SS{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new cS("value",this,new vS(e.snapshotNode,new gS(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new uS(this,e,t):null}matches(e){return e instanceof SS&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ES{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new uS(this,e,t):null}createEvent(e,t){Pt(null!=e.childName,"Child events should have a childName.");const n=bS(new gS(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new cS(e.type,this,new vS(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ES&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function TS(e,t,n,r,o){let i;if("object"===typeof r&&(i=void 0,o=r),"function"===typeof r&&(i=r),o&&o.onlyOnce){const t=n,r=(n,r)=>{YC(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new dS(n,i||void 0),a="value"===t?new SS(s):new ES(t,s);return function(e,t,n){let r;r=".info"===rx(t._path)?U_(e.infoSyncTree_,t,n):U_(e.serverSyncTree_,t,n),IC(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>YC(e._repo,e,a)}function AS(e,t,n,r){return TS(e,"value",t,n,r)}function DS(e,t,n){let r=null;const o=n?new dS(n):null;"value"===t?r=new SS(o):t&&(r=new ES(t,o)),YC(e._repo,e,r)}class NS{}class OS extends NS{constructor(e,t){super(),this._value=e,this._key=t,this.type="endAt"}_apply(e){_C("endAt",this._value,e._path,!0);const t=sk(e._queryParams,this._value,this._key);if(mS(t),fS(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hS(e._repo,e._path,t,e._orderByCalled)}}class IS extends NS{constructor(e,t){super(),this._value=e,this._key=t,this.type="startAt"}_apply(e){_C("startAt",this._value,e._path,!0);const t=ik(e._queryParams,this._value,this._key);if(mS(t),fS(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new hS(e._repo,e._path,t,e._orderByCalled)}}class PS extends NS{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new hS(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class jS extends NS{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){pS(e,"orderByChild");const t=new tx(this._path);if(ux(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new $x(t),r=ak(e._queryParams,n);return fS(r),new hS(e._repo,e._path,r,!0)}}function MS(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return TC("orderByChild","path",e,!1),new jS(e)}class RS extends NS{constructor(e,t){super(),this._value=e,this._key=t,this.type="equalTo"}_apply(e){if(_C("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new OS(this._value,this._key)._apply(new IS(this._value,this._key)._apply(e))}}function FS(e,t){return EC("equalTo","key",t,!0),new RS(e,t)}function LS(e){let t=On(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(const i of r)t=i._apply(t);return t}!function(e){Pt(!w_,"__referenceConstructor has already been defined"),w_=e}(gS),function(e){Pt(!x_,"__referenceConstructor has already been defined"),x_=e}(gS);const zS={};let BS=!1;function US(e,t,n,r,o){let i=r||e.options.databaseURL;void 0===i&&(e.options.projectId||fw("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dw("Using default host for project ",e.options.projectId),i="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=iS(i,o),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_FIREBASE_DATABASE:"https://sqwad-rebate-app.firebaseio.com",REACT_APP_FIREBASE_SENDER_ID:"827574824663",REACT_APP_FIREBASE_DOMAIN:"sqwad-rebate-app.firebaseapp.com",REACT_APP_SHOPIFY_SERVICE_URL:"https://ent-guns-supporters-corrections.trycloudflare.com",REACT_APP_FIREBASE_STORAGE_BUCKET:"sqwad-rebate-app.firebasestorage.app",REACT_APP_FIREBASE_KEY:"AIzaSyAQO8xXX2hfzeEwqXZu2KanqTXhU0hvzsM",REACT_APP_ID:"1:827574824663:web:b32ac87da74b6a81270a92",REACT_APP_FIREBASE_PROJECT_ID:"sqwad-rebate-app"}.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,i="http://".concat(a,"?ns=").concat(c.namespace),l=iS(i,o),c=l.repoInfo):s=!l.repoInfo.secure;const u=o&&s?new Iw(Iw.OWNER):new Ow(e.name,e.options,t);DC("Invalid Firebase Database URL",l),ux(l.path)||fw("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let o=zS[t.name];o||(o={},zS[t.name]=o);let i=o[e.toURLString()];i&&fw("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new FC(e,BS,n,r),o[e.toURLString()]=i,i}(c,e,u,new Nw(e,n));return new VS(d,e)}class VS{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(LC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gS(this._repo,nx())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=zS[t];n&&n[e.key]===e||fw("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),KC(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&fw("Cannot call "+e+" on a deleted database.")}}function HS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gr(),t=arguments.length>1?arguments[1]:void 0;const n=Vr(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Kt("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=On(e),e._checkNotDeleted("useEmulator");const o="".concat(t,":").concat(n),i=e._repoInternal;if(e._instanceStarted){if(o===e._repoInternal.repoInfo_.host&&xn(r,i.repoInfo_.emulatorOptions))return;fw("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&fw('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Iw(Iw.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:Zt(r.mockUserToken,e.app.options.projectId);s=new Iw(t)}Jt(t)&&(Xt(t),nn("Database",!0));!function(e,t,n,r){const o=t.lastIndexOf(":"),i=Jt(t.substring(0,o));e.repoInfo_=new Lw(t,i,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(i,o,r,s)}(n,...e)}return n}wx.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},wx.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Xb(Yr),Ur(new In("database",(e,t)=>{let{instanceIdentifier:n}=t;return US(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),Qr($b,Qb,e),Qr($b,Qb,"esm2020")}();const qS=e=>!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e),WS=e=>{let t="",n="";if(e&&e.trim()&&-1!==(e=e.trim()).indexOf(" ")){let r=e.split(" ");t=r[0],r.length>=2&&(n=r[r.length-1])}return[t,n]},YS=e=>{for(let t in e)if(e.hasOwnProperty(t))return!1;return JSON.stringify(e)===JSON.stringify({})},KS=e=>/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e);const GS=e=>{if(!e)return;const t=function(e){let t=0;return"string"!==typeof e?t=e.toString().length:(t=e.length,e=parseInt(e)),t<13?new Date(1e3*e):new Date(e)}(e);return t.toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0,timeZoneName:"short"}).replace(",","")},$S=fy().mixin({toast:!0,position:"top-end",showConfirmButton:!0,timer:5e3,timerProgressBar:!0,icon:"success",didOpen:e=>{e.addEventListener("mouseenter",fy().stopTimer),e.addEventListener("mouseleave",fy().resumeTimer)}}),QS=fy().mixin({confirmButtonText:"Ok",icon:"error"}),JS=fy().mixin({icon:"warning",showCancelButton:!0}),XS=(fy().mixin({icon:"success"}),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return[];const r=e.split("\n");let o=e.split(/\s+/),i=e.split(","),s=r;if(n||(o.length===i.length&&(o=e.replace(/,/g,"").split(/\s+/),i=e.replace(/\s/g,"").split(",")),s.length<o.length&&(s=o),s.length<i.length&&(s=i)),t)for(const a in s){const e=s[a];if(!qS(e))return{message:"Invalid Url",inValidUrl:e}}return s}),ZS=e=>{if(!e)return!0;"object"===typeof e&&(e=e.toString("html")),console.log(e);return""===e.replace(/<img[^>]*>|<video[^>]*>|<audio[^>]*>|<iframe[^>]*>/gi,"").replace(/<br\s*\/?>/gi,"").replace(/<hr\s*\/?>/gi,"").replace(/\s/g,"").replace(/<[^>]+>\s*<\/[^>]+>/g,"")};function eE(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(e){try{l(r.next(e))}catch(G1){i(G1)}}function a(e){try{l(r.throw(e))}catch(G1){i(G1)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const tE=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function nE(e,t,n){const r=function(e){const{name:t}=e;if(t&&-1!==t.lastIndexOf(".")&&!e.type){const n=t.split(".").pop().toLowerCase(),r=tE.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e),{webkitRelativePath:o}=e,i="string"===typeof t?t:"string"===typeof o&&o.length>0?o:"./".concat(e.name);return"string"!==typeof r.path&&rE(r,"path",i),void 0!==n&&Object.defineProperty(r,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),rE(r,"relativePath",i),r}function rE(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const oE=[".DS_Store","Thumbs.db"];function iE(e){return"object"===typeof e&&null!==e}function sE(e){return e.filter(e=>-1===oE.indexOf(e.name))}function aE(e){if(null===e)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function lE(e){if("function"!==typeof e.webkitGetAsEntry)return uE(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?hE(t):uE(e,t)}function cE(e){return e.reduce((e,t)=>[...e,...Array.isArray(t)?cE(t):[t]],[])}function uE(e,t){return eE(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&"function"===typeof e.getAsFileSystemHandle){const t=yield e.getAsFileSystemHandle();if(null===t)throw new Error("".concat(e," is not a File"));if(void 0!==t){const e=yield t.getFile();return e.handle=t,nE(e)}}const r=e.getAsFile();if(!r)throw new Error("".concat(e," is not a File"));return nE(r,null!==(n=null===t||void 0===t?void 0:t.fullPath)&&void 0!==n?n:void 0)})}function dE(e){return eE(this,void 0,void 0,function*(){return e.isDirectory?hE(e):function(e){return eE(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(n=>{const r=nE(n,e.fullPath);t(r)},e=>{n(e)})})})}(e)})}function hE(e){const t=e.createReader();return new Promise((e,n)=>{const r=[];!function o(){t.readEntries(t=>eE(this,void 0,void 0,function*(){if(t.length){const e=Promise.all(t.map(dE));r.push(e),o()}else try{const t=yield Promise.all(r);e(t)}catch(i){n(i)}}),e=>{n(e)})}()})}var pE=n(8628);function fE(e){return function(e){if(Array.isArray(e))return wE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bE(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mE(Object(n),!0).forEach(function(t){vE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(l){a=!0,o=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}(e,t)||bE(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bE(e,t){if(e){if("string"===typeof e)return wE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wE(e,t):void 0}}function wE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xE="function"===typeof pE?pE:pE.default,kE="file-invalid-type",_E="file-too-large",CE="file-too-small",SE="too-many-files",EE=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),t=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:kE,message:"File type must be ".concat(t)}},TE=function(e){return{code:_E,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},AE=function(e){return{code:CE,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},DE={code:SE,message:"Too many files"};function NE(e,t){var n="application/x-moz-file"===e.type||xE(e,t);return[n,n?null:EE(t)]}function OE(e,t,n){if(IE(e.size))if(IE(t)&&IE(n)){if(e.size>n)return[!1,TE(n)];if(e.size<t)return[!1,AE(t)]}else{if(IE(t)&&e.size<t)return[!1,AE(t)];if(IE(n)&&e.size>n)return[!1,TE(n)]}return[!0,null]}function IE(e){return void 0!==e&&null!==e}function PE(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function jE(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):!!e.target&&!!e.target.files}function ME(e){e.preventDefault()}function RE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.some(function(t){return!PE(e)&&t&&t.apply(void 0,[e].concat(r)),PE(e)})}}function FE(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||"application/*"===e||/\w+\/[-+.\w]+/g.test(e)}function LE(e){return/^.*\.[\w]+$/.test(e)}var zE=["children"],BE=["open"],UE=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],VE=["refKey","onChange","onClick"];function HE(e){return function(e){if(Array.isArray(e))return YE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||WE(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);s=!0);}catch(l){a=!0,o=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return i}(e,t)||WE(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WE(e,t){if(e){if("string"===typeof e)return YE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YE(e,t):void 0}}function YE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function GE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KE(Object(n),!0).forEach(function(t){$E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QE(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var JE=(0,e.forwardRef)(function(t,n){var r=t.children,o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=GE(GE({},XE),t),r=n.accept,o=n.disabled,i=n.getFilesFromEvent,s=n.maxSize,a=n.minSize,l=n.multiple,c=n.maxFiles,u=n.onDragEnter,d=n.onDragLeave,h=n.onDragOver,p=n.onDrop,f=n.onDropAccepted,m=n.onDropRejected,g=n.onFileDialogCancel,v=n.onFileDialogOpen,y=n.useFsAccessApi,b=n.autoFocus,w=n.preventDropOnDocument,x=n.noClick,k=n.noKeyboard,_=n.noDrag,C=n.noDragEventsBubbling,S=n.onError,E=n.validator,T=(0,e.useMemo)(function(){return function(e){if(IE(e))return Object.entries(e).reduce(function(e,t){var n=yE(t,2),r=n[0],o=n[1];return[].concat(fE(e),[r],fE(o))},[]).filter(function(e){return FE(e)||LE(e)}).join(",")}(r)},[r]),A=(0,e.useMemo)(function(){return function(e){return IE(e)?[{description:"Files",accept:Object.entries(e).filter(function(e){var t=yE(e,2),n=t[0],r=t[1],o=!0;return FE(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),Array.isArray(r)&&r.every(LE)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(e,t){var n=yE(t,2),r=n[0],o=n[1];return gE(gE({},e),{},vE({},r,o))},{})}]:e}(r)},[r]),D=(0,e.useMemo)(function(){return"function"===typeof v?v:nT},[v]),N=(0,e.useMemo)(function(){return"function"===typeof g?g:nT},[g]),O=(0,e.useRef)(null),I=(0,e.useRef)(null),P=qE((0,e.useReducer)(tT,eT),2),j=P[0],M=P[1],R=j.isFocused,F=j.isFileDialogActive,L=(0,e.useRef)("undefined"!==typeof window&&window.isSecureContext&&y&&"showOpenFilePicker"in window),z=function(){!L.current&&F&&setTimeout(function(){I.current&&(I.current.files.length||(M({type:"closeDialog"}),N()))},300)};(0,e.useEffect)(function(){return window.addEventListener("focus",z,!1),function(){window.removeEventListener("focus",z,!1)}},[I,F,N,L]);var B=(0,e.useRef)([]),U=function(e){O.current&&O.current.contains(e.target)||(e.preventDefault(),B.current=[])};(0,e.useEffect)(function(){return w&&(document.addEventListener("dragover",ME,!1),document.addEventListener("drop",U,!1)),function(){w&&(document.removeEventListener("dragover",ME),document.removeEventListener("drop",U))}},[O,w]),(0,e.useEffect)(function(){return!o&&b&&O.current&&O.current.focus(),function(){}},[O,b,o]);var V=(0,e.useCallback)(function(e){S?S(e):console.error(e)},[S]),H=(0,e.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e),B.current=[].concat(HE(B.current),[e.target]),jE(e)&&Promise.resolve(i(e)).then(function(t){if(!PE(e)||C){var n=t.length,r=n>0&&function(e){var t=e.files,n=e.accept,r=e.minSize,o=e.maxSize,i=e.multiple,s=e.maxFiles,a=e.validator;return!(!i&&t.length>1||i&&s>=1&&t.length>s)&&t.every(function(e){var t=yE(NE(e,n),1)[0],i=yE(OE(e,r,o),1)[0],s=a?a(e):null;return t&&i&&!s})}({files:t,accept:T,minSize:a,maxSize:s,multiple:l,maxFiles:c,validator:E});M({isDragAccept:r,isDragReject:n>0&&!r,isDragActive:!0,type:"setDraggedFiles"}),u&&u(e)}}).catch(function(e){return V(e)})},[i,u,V,C,T,a,s,l,c,E]),q=(0,e.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e);var t=jE(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&h&&h(e),!1},[h,C]),W=(0,e.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e);var t=B.current.filter(function(e){return O.current&&O.current.contains(e)}),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),B.current=t,t.length>0||(M({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),jE(e)&&d&&d(e))},[O,d,C]),Y=(0,e.useCallback)(function(e,t){var n=[],r=[];e.forEach(function(e){var t=qE(NE(e,T),2),o=t[0],i=t[1],l=qE(OE(e,a,s),2),c=l[0],u=l[1],d=E?E(e):null;if(o&&c&&!d)n.push(e);else{var h=[i,u];d&&(h=h.concat(d)),r.push({file:e,errors:h.filter(function(e){return e})})}}),(!l&&n.length>1||l&&c>=1&&n.length>c)&&(n.forEach(function(e){r.push({file:e,errors:[DE]})}),n.splice(0)),M({acceptedFiles:n,fileRejections:r,isDragReject:r.length>0,type:"setFiles"}),p&&p(n,r,t),r.length>0&&m&&m(r,t),n.length>0&&f&&f(n,t)},[M,l,T,a,s,c,p,f,m,E]),K=(0,e.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e),B.current=[],jE(e)&&Promise.resolve(i(e)).then(function(t){PE(e)&&!C||Y(t,e)}).catch(function(e){return V(e)}),M({type:"reset"})},[i,Y,V,C]),G=(0,e.useCallback)(function(){if(L.current){M({type:"openDialog"}),D();var e={multiple:l,types:A};window.showOpenFilePicker(e).then(function(e){return i(e)}).then(function(e){Y(e,null),M({type:"closeDialog"})}).catch(function(e){var t;(t=e)instanceof DOMException&&("AbortError"===t.name||t.code===t.ABORT_ERR)?(N(e),M({type:"closeDialog"})):!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?V(e):(L.current=!1,I.current?(I.current.value=null,I.current.click()):V(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.")))})}else I.current&&(M({type:"openDialog"}),D(),I.current.value=null,I.current.click())},[M,D,N,y,Y,V,A,l]),$=(0,e.useCallback)(function(e){O.current&&O.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),G()))},[O,G]),Q=(0,e.useCallback)(function(){M({type:"focus"})},[]),J=(0,e.useCallback)(function(){M({type:"blur"})},[]),X=(0,e.useCallback)(function(){x||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?G():setTimeout(G,0))},[x,G]),Z=function(e){return o?null:e},ee=function(e){return k?null:Z(e)},te=function(e){return _?null:Z(e)},ne=function(e){C&&e.stopPropagation()},re=(0,e.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,i=e.onKeyDown,s=e.onFocus,a=e.onBlur,l=e.onClick,c=e.onDragEnter,u=e.onDragOver,d=e.onDragLeave,h=e.onDrop,p=QE(e,UE);return GE(GE($E({onKeyDown:ee(RE(i,$)),onFocus:ee(RE(s,Q)),onBlur:ee(RE(a,J)),onClick:Z(RE(l,X)),onDragEnter:te(RE(c,H)),onDragOver:te(RE(u,q)),onDragLeave:te(RE(d,W)),onDrop:te(RE(h,K)),role:"string"===typeof r&&""!==r?r:"presentation"},n,O),o||k?{}:{tabIndex:0}),p)}},[O,$,Q,J,X,H,q,W,K,k,_,o]),oe=(0,e.useCallback)(function(e){e.stopPropagation()},[]),ie=(0,e.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,o=e.onClick,i=QE(e,VE);return GE(GE({},$E({accept:T,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Z(RE(r,K)),onClick:Z(RE(o,oe)),tabIndex:-1},n,I)),i)}},[I,r,l,K,o]);return GE(GE({},j),{},{isFocused:R&&!o,getRootProps:re,getInputProps:ie,rootRef:O,inputRef:I,open:Z(G)})}(QE(t,zE)),i=o.open,s=QE(o,BE);return(0,e.useImperativeHandle)(n,function(){return{open:i}},[i]),e.createElement(e.Fragment,null,r(GE(GE({},s),{},{open:i})))});JE.displayName="Dropzone";var XE={disabled:!1,getFilesFromEvent:function(e){return eE(this,void 0,void 0,function*(){return iE(e)&&iE(e.dataTransfer)?function(e,t){return eE(this,void 0,void 0,function*(){if(e.items){const n=aE(e.items).filter(e=>"file"===e.kind);if("drop"!==t)return n;return sE(cE(yield Promise.all(n.map(lE))))}return sE(aE(e.files).map(e=>nE(e)))})}(e.dataTransfer,e.type):function(e){return iE(e)&&iE(e.target)}(e)?function(e){return aE(e.target.files).map(e=>nE(e))}(e):Array.isArray(e)&&e.every(e=>"getFile"in e&&"function"===typeof e.getFile)?function(e){return eE(this,void 0,void 0,function*(){const t=yield Promise.all(e.map(e=>e.getFile()));return t.map(e=>nE(e))})}(e):[]})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};JE.defaultProps=XE,JE.propTypes={children:vy.func,accept:vy.objectOf(vy.arrayOf(vy.string)),multiple:vy.bool,preventDropOnDocument:vy.bool,noClick:vy.bool,noKeyboard:vy.bool,noDrag:vy.bool,noDragEventsBubbling:vy.bool,minSize:vy.number,maxSize:vy.number,maxFiles:vy.number,disabled:vy.bool,getFilesFromEvent:vy.func,onFileDialogCancel:vy.func,onFileDialogOpen:vy.func,useFsAccessApi:vy.bool,autoFocus:vy.bool,onDragEnter:vy.func,onDragLeave:vy.func,onDragOver:vy.func,onDrop:vy.func,onDropAccepted:vy.func,onDropRejected:vy.func,onError:vy.func,validator:vy.func};const ZE=JE;var eT={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function tT(e,t){switch(t.type){case"focus":return GE(GE({},e),{},{isFocused:!0});case"blur":return GE(GE({},e),{},{isFocused:!1});case"openDialog":return GE(GE({},eT),{},{isFileDialogActive:!0});case"closeDialog":return GE(GE({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return GE(GE({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return GE(GE({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return GE({},eT);default:return e}}function nT(){}class rT extends e.Component{constructor(e){super(e),this.onDrop=(e,t,n)=>{this.props.onDrop(e,t,n)}}render(){const{maxFiles:e=1,multiple:t=!1,maxSize:n=22e5,accept:r="image/*",preview:o}=this.props;return(0,Et.jsx)(ZE,{onDrop:this.onDrop,maxFiles:e,multiple:t,maxSize:n,accept:r,children:e=>{let{getRootProps:t,getInputProps:n}=e;return(0,Et.jsx)("section",{className:"container",children:(0,Et.jsxs)("div",(0,i.A)((0,i.A)({},t({className:"dropzone"})),{},{children:[!o&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("input",(0,i.A)({},n())),(0,Et.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]}),o&&(0,Et.jsx)("img",{src:o,width:"100px",height:"auto",alt:"Drop your image here"})]}))})}})}}const oT=rT;var iT=n(9461);function sT(e){this.content=e}sT.prototype={constructor:sT,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return-1==o?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new sT(i)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new sT(n)},addToStart:function(e,t){return new sT([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new sT(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(-1==i?o.length:i,0,t,n),new sT(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=sT.from(e)).size?new sT(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=sT.from(e)).size?new sT(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=sT.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}},sT.from=function(e){if(e instanceof sT)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new sT(t)};const aT=sT;function lT(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),i=t.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let e=0;o.text[e]==i.text[e];e++)n++;return n}if(o.content.size||i.content.size){let e=lT(o.content,i.content,n+1);if(null!=e)return e}n+=o.nodeSize}else n+=o.nodeSize}}function cT(e,t,n,r){for(let o=e.childCount,i=t.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};let s=e.child(--o),a=t.child(--i),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let e=0,t=Math.min(s.text.length,a.text.length);for(;e<t&&s.text[s.text.length-e-1]==a.text[a.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let e=cT(s.content,a.content,n-1,r-1);if(e)return e}n-=l,r-=l}else n-=l,r-=l}}class uT{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0;for(let i=0,s=0;s<t;i++){let a=this.content[i],l=s+a.nodeSize;if(l>e&&!1!==n(a,r+s,o||null,i)&&a.content.size){let o=s+1;a.nodesBetween(Math.max(0,e-o),Math.min(a.content.size,t-o),n,r+o)}s=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let o="",i=!0;return this.nodesBetween(e,t,(s,a)=>{let l=s.isText?s.text.slice(Math.max(e,a)-a,t-a):s.isLeaf?r?"function"===typeof r?r(s):r:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&l||s.isTextblock)&&n&&(i?i=!1:o+=n),o+=l},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new uT(r,this.size+e.size)}cut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size;if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let o=0,i=0;i<t;o++){let s=this.content[o],a=i+s.nodeSize;a>e&&((i<e||a>t)&&(s=s.isText?s.cut(Math.max(0,e-i),Math.min(s.text.length,t-i)):s.cut(Math.max(0,e-i-1),Math.min(s.content.size,t-i-1))),n.push(s),r+=s.nodeSize),i=a}return new uT(n,r)}cutByIndex(e,t){return e==t?uT.empty:0==e&&t==this.content.length?this:new uT(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new uT(r,o)}addToStart(e){return new uT([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new uT(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e){return lT(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}findDiffEnd(e){return cT(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size,arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size)}findIndex(e){if(0==e)return hT(0,e);if(e==this.size)return hT(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position ".concat(e," outside of fragment (").concat(this,")"));for(let t=0,n=0;;t++){let r=n+this.child(t).nodeSize;if(r>=e)return r==e?hT(t+1,r):hT(t,n);n=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return uT.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new uT(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return uT.empty;let t,n=0;for(let r=0;r<e.length;r++){let o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new uT(t||e,n)}static from(e){if(!e)return uT.empty;if(e instanceof uT)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new uT([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}uT.empty=new uT([],0);const dT={index:0,offset:0};function hT(e,t){return dT.index=e,dT.offset=t,dT}function pT(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!pT(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!pT(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class fT{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&pT(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type ".concat(t.type," in this schema"));let r=n.create(t.attrs);return n.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return fT.none;if(e instanceof fT)return[e];let t=e.slice();return t.sort((e,t)=>e.type.rank-t.type.rank),t}}fT.none=[];class mT extends Error{}class gT{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=yT(this.content,e+this.openStart,t);return n&&new gT(n,this.openStart,this.openEnd)}removeBetween(e,t){return new gT(vT(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return gT.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new gT(uT.fromJSON(e,t.content),n,r)}static maxOpen(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0,r=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)r++;return new gT(e,n,r)}}function vT(e,t,n){let{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:s,offset:a}=e.findIndex(n);if(o==t||i.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(vT(i.content,t-o-1,n-o-1)))}function yT(e,t,n,r){let{index:o,offset:i}=e.findIndex(t),s=e.maybeChild(o);if(i==t||s.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=yT(s.content,t-i-1,n,s);return a&&e.replaceChild(o,s.copy(a))}function bT(e,t,n){if(n.openStart>e.depth)throw new mT("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new mT("Inconsistent open depths");return wT(e,t,n,0)}function wT(e,t,n,r){let o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let s=wT(e,t,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:o,end:s}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)r=t.node(o).copy(uT.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return ST(i,ET(e,o,s,t,r))}{let r=e.parent,o=r.content;return ST(r,o.cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset)))}}return ST(i,TT(e,t,r))}function xT(e,t){if(!t.type.compatibleContent(e.type))throw new mT("Cannot join "+t.type.name+" onto "+e.type.name)}function kT(e,t,n){let r=e.node(n);return xT(r,t.node(n)),r}function _T(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function CT(e,t,n,r){let o=(t||e).node(n),i=0,s=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(_T(e.nodeAfter,r),i++));for(let a=i;a<s;a++)_T(o.child(a),r);t&&t.depth==n&&t.textOffset&&_T(t.nodeBefore,r)}function ST(e,t){return e.type.checkContent(t),e.copy(t)}function ET(e,t,n,r,o){let i=e.depth>o&&kT(e,t,o+1),s=r.depth>o&&kT(n,r,o+1),a=[];return CT(null,e,o,a),i&&s&&t.index(o)==n.index(o)?(xT(i,s),_T(ST(i,ET(e,t,n,r,o+1)),a)):(i&&_T(ST(i,TT(e,t,o+1)),a),CT(t,n,o,a),s&&_T(ST(s,TT(n,r,o+1)),a)),CT(r,null,o,a),new uT(a)}function TT(e,t,n){let r=[];if(CT(null,e,n,r),e.depth>n){_T(ST(kT(e,t,n+1),TT(e,t,n+1)),r)}return CT(t,null,n,r),new uT(r)}gT.empty=new gT(uT.empty,0,0);class AT{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let o=0;o<e;o++)r+=n.child(o).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return fT.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let o=n.marks;for(var i=0;i<o.length;i++)!1!==o[i].type.spec.inclusive||r&&o[i].isInSet(r.marks)||(o=o[i--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1?arguments[1]:void 0;if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new IT(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,o=t;for(let i=e;;){let{index:e,offset:t}=i.content.findIndex(o),s=o-t;if(n.push(i,e,r+t),!s)break;if(i=i.child(e),i.isText)break;o=s-1,r+=t+1}return new AT(t,n,o)}static resolveCached(e,t){let n=OT.get(e);if(n)for(let o=0;o<n.elts.length;o++){let e=n.elts[o];if(e.pos==t)return e}else OT.set(e,n=new DT);let r=n.elts[n.i]=AT.resolve(e,t);return n.i=(n.i+1)%NT,r}}class DT{constructor(){this.elts=[],this.i=0}}const NT=12,OT=new WeakMap;class IT{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const PT=Object.create(null);class jT{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fT.none;this.type=e,this.attrs=t,this.marks=r,this.content=n||uT.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&pT(this.attrs,t||e.defaultAttrs||PT)&&fT.sameSet(this.marks,n||fT.none)}copy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e==this.content?this:new jT(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new jT(this.type,this.attrs,this.content,e)}cut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size;return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e==t)return gT.empty;let r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),s=r.start(i),a=r.node(i).content.cut(r.pos-s,o.pos-s);return new gT(a,r.depth-i,o.depth-i)}replace(e,t,n){return bT(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return AT.resolveCached(this,e)}resolveNoCache(e){return AT.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,e=>(n.isInSet(e.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),RT(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uT.empty,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.childCount,i=this.contentMatchAt(e).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let a=r;a<o;a++)if(!this.type.allowsMarks(n.child(a).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=fT.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!fT.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(e=>e.type.name)));this.content.forEach(e=>e.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(e=>e.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=uT.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,r,n);return o.type.checkAttrs(o.attrs),o}}jT.prototype.text=void 0;class MT extends jT{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):RT(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new MT(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new MT(this.type,this.attrs,e,this.marks)}cut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.text.length;return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function RT(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class FT{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new LT(e,t);if(null==n.next)return FT.empty;let r=zT(n);n.next&&n.err("Unexpected trailing text");let o=function(e){let t=Object.create(null);return n(WT(e,0));function n(r){let o=[];r.forEach(t=>{e[t].forEach(t=>{let n,{term:r,to:i}=t;if(r){for(let e=0;e<o.length;e++)o[e][0]==r&&(n=o[e][1]);WT(e,i).forEach(e=>{n||o.push([r,n=[]]),-1==n.indexOf(e)&&n.push(e)})}})});let i=t[r.join(",")]=new FT(r.indexOf(e.length-1)>-1);for(let e=0;e<o.length;e++){let r=o[e][1].sort(qT);i.next.push({type:o[e][0],next:t[r.join(",")]||n(r)})}return i}}(function(e){let t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach(e=>e.to=t)}function i(e,t){if("choice"==e.type)return e.exprs.reduce((e,n)=>e.concat(i(n,t)),[]);if("seq"!=e.type){if("star"==e.type){let s=n();return r(t,s),o(i(e.expr,s),s),[r(s)]}if("plus"==e.type){let s=n();return o(i(e.expr,t),s),o(i(e.expr,s),s),[r(s)]}if("opt"==e.type)return[r(t)].concat(i(e.expr,t));if("range"==e.type){let s=t;for(let t=0;t<e.min;t++){let t=n();o(i(e.expr,s),t),s=t}if(-1==e.max)o(i(e.expr,s),s);else for(let t=e.min;t<e.max;t++){let t=n();r(s,t),o(i(e.expr,s),t),s=t}return[r(s)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let s=i(e.exprs[r],t);if(r==e.exprs.length-1)return s;o(s,t=n())}}}(r));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],o=!e.validEnd,i=[];for(let t=0;t<e.next.length;t++){let{type:n,next:s}=e.next[t];i.push(n.name),!o||n.isText||n.hasRequiredAttrs()||(o=!1),-1==r.indexOf(s)&&r.push(s)}o&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.childCount,r=this;for(let o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[this];return function o(i,s){let a=i.matchFragment(e,n);if(a&&(!t||a.validEnd))return uT.from(s.map(e=>e.createAndFill()));for(let e=0;e<i.next.length;e++){let{type:t,next:n}=i.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=o(n,s.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),o=r.match;if(o.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<o.next.length;e++){let{type:i,next:s}=o.next[e];i.isLeaf||i.hasRequiredAttrs()||i.name in t||r.type&&!s.validEnd||(n.push({match:i.contentMatch,type:i,via:r}),t[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError("There's no ".concat(e,"th edge in this content match"));return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let o=0;o<t.next.length;o++)r+=(o?", ":"")+t.next[o].type.name+"->"+e.indexOf(t.next[o].next);return r}).join("\n")}}FT.empty=new FT(!0);class LT{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function zT(e){let t=[];do{t.push(BT(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function BT(e){let t=[];do{t.push(UT(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function UT(e){let t=function(e){if(e.eat("(")){let t=zT(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let i in n){let e=n[i];e.isInGroup(t)&&o.push(e)}0==o.length&&e.err("No node type or group '"+t+"' found");return o}(e,e.next).map(t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=HT(e,t)}return t}function VT(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function HT(e,t){let n=VT(e),r=n;return e.eat(",")&&(r="}"!=e.next?VT(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function qT(e,t){return t-e}function WT(e,t){let n=[];return function t(r){let o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(let e=0;e<o.length;e++){let{term:r,to:i}=o[e];r||-1!=n.indexOf(i)||t(i)}}(t),n.sort(qT)}function YT(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function KT(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(void 0===o){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=t.default}n[r]=o}return n}function GT(e,t,n,r){for(let o in t)if(!(o in e))throw new RangeError("Unsupported attribute ".concat(o," for ").concat(n," of type ").concat(o));for(let o in e){let n=e[o];n.validate&&n.validate(t[o])}}function $T(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new JT(e,r,t[r]);return n}class QT{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=$T(e,n.attrs),this.defaultAttrs=YT(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==FT.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:KT(this.attrs,e)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new jT(this,this.computeAttrs(e),uT.from(t),fT.setFrom(n))}createChecked(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return t=uT.from(t),this.checkContent(t),new jT(this,this.computeAttrs(e),t,fT.setFrom(n))}createAndFill(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(e=this.computeAttrs(e),t=uT.from(t),t.size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),o=r&&r.fillBefore(uT.empty,!0);return o?new jT(this,e,t.append(o),fT.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(e.toString().slice(0,50)))}checkAttrs(e){GT(this.attrs,e,"node",this.name)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:fT.none:e}static compile(e,t){let n=Object.create(null);e.forEach((e,r)=>n[e]=new QT(e,t,r));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class JT{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?function(e,t,n){let r=n.split("|");return n=>{let o=null===n?"null":typeof n;if(r.indexOf(o)<0)throw new RangeError("Expected value of type ".concat(r," for attribute ").concat(t," on type ").concat(e,", got ").concat(o))}}(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class XT{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=$T(e,r.attrs),this.excluded=null;let o=YT(this.attrs);this.instance=o?new fT(this,o):null}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!e&&this.instance?this.instance:new fT(this,KT(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((e,o)=>n[e]=new XT(e,r++,t,o)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){GT(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class ZT{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=aT.from(e.nodes),t.marks=aT.from(e.marks||{}),this.nodes=QT.compile(this.spec.nodes,this),this.marks=XT.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let e=this.nodes[r],t=e.spec.content||"",o=e.spec.marks;if(e.contentMatch=n[t]||(n[t]=FT.parse(t,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!e.isInline||!e.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=e}e.markSet="_"==o?null:o?eA(this,o.split(" ")):""!=o&&e.inlineContent?null:[]}for(let r in this.marks){let e=this.marks[r],t=e.spec.excludes;e.excluded=null==t?[e]:""==t?[]:eA(this,t.split(" "))}this.nodeFromJSON=e=>jT.fromJSON(this,e),this.markFromJSON=e=>fT.fromJSON(this,e),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof QT))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new MT(n,n.defaultAttrs,e,fT.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function eA(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e.marks[o],s=i;if(i)n.push(i);else for(let t in e.marks){let r=e.marks[t];("_"==o||r.spec.group&&r.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=r)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class tA{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(e=>{if(function(e){return null!=e.tag}(e))this.tags.push(e);else if(function(e){return null!=e.style}(e)){let t=/[^=]*/.exec(e.style)[0];n.indexOf(t)<0&&n.push(t),this.styles.push(e)}}),this.normalizeLists=!this.tags.some(t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)})}parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new aA(this,t,!1);return n.addAll(e,fT.none,t.from,t.to),n.finish()}parseSlice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new aA(this,t,!0);return n.addAll(e,fT.none,t.from,t.to),gT.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(lA(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let r=this.styles[o],i=r.style;if(!(0!=i.indexOf(e)||r.context&&!n.matchesContext(r.context)||i.length>e.length&&(61!=i.charCodeAt(e.length)||i.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let r in e.marks){let t=e.marks[r].spec.parseDOM;t&&t.forEach(e=>{n(e=cA(e)),e.mark||e.ignore||e.clearMark||(e.mark=r)})}for(let r in e.nodes){let t=e.nodes[r].spec.parseDOM;t&&t.forEach(e=>{n(e=cA(e)),e.node||e.ignore||e.mark||(e.node=r)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new tA(e,tA.schemaRules(e)))}}const nA={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},rA={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},oA={ol:!0,ul:!0};function iA(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class sA{constructor(e,t,n,r,o,i){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=i,this.content=[],this.activeMarks=fT.none,this.match=o||(4&i?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(uT.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=uT.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(uT.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!nA.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class aA{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r,o=t.topNode,i=iA(null,t.preserveWhitespace,0)|(n?4:0);r=o?new sA(o.type,o.attrs,fT.none,!0,t.topMatch||o.type.contentMatch,i):new sA(n?null:e.schema.topNodeType,null,fT.none,!0,null,i),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){3==e.nodeType?this.addTextNode(e,t):1==e.nodeType&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top,o=2&r.options?"full":this.localPreserveWS||(1&r.options)>0,{schema:i}=this.parser;if("full"===o||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(o)if("full"===o)n=n.replace(/\r\n?/g,"\n");else if(i.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(i.linebreakReplacement.create())){let e=n.split(/\r?\n|\r/);for(let n=0;n<e.length;n++)n&&this.insertNode(i.linebreakReplacement.create(),t,!0),e[n]&&this.insertNode(i.text(e[n]),t,!/\S/.test(e[n]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let t=r.content[r.content.length-1],o=e.previousSibling;(!t||o&&"BR"==o.nodeName||t.isText&&/[ \t\r\n\u000c]$/.test(t.text))&&(n=n.slice(1))}n&&this.insertNode(i.text(n),t,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=this.localPreserveWS,o=this.top;("PRE"==e.tagName||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let i,s=e.nodeName.toLowerCase();oA.hasOwnProperty(s)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&oA.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let a=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));e:if(a?a.ignore:rA.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,t);else if(!a||a.skip||a.closeParent){a&&a.closeParent?this.open=Math.max(0,this.open-1):a&&a.skip.nodeType&&(e=a.skip);let n,r=this.needsBlock;if(nA.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),n=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let i=a&&a.skip?t:this.readStyles(e,t);i&&this.addAll(e,i),n&&this.sync(o),this.needsBlock=r}else{let n=this.readStyles(e,t);n&&this.addElementByRule(e,a,n,!1===a.consuming?i:void 0)}this.localPreserveWS=r}leafFallback(e,t){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),t)}ignoreFallback(e,t){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let e=this.parser.matchedStyles[r],o=n.getPropertyValue(e);if(o)for(let n;;){let r=this.parser.matchStyle(e,o,this,n);if(!r)break;if(r.ignore)return null;if(t=r.clearMark?t.filter(e=>!r.clearMark(e)):t.concat(this.parser.schema.marks[r.mark].create(r.attrs)),!1!==r.consuming)break;n=r}}return t}addElementByRule(e,t,n,r){let o,i;if(t.node)if(i=this.parser.schema.nodes[t.node],i.isLeaf)this.insertNode(i.create(t.attrs),n,"BR"==e.nodeName)||this.leafFallback(e,n);else{let e=this.enter(i,t.attrs||null,n,t.preserveWhitespace);e&&(o=!0,n=e)}else{let e=this.parser.schema.marks[t.mark];n=n.concat(e.create(t.attrs))}let s=this.top;if(i&&i.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(e=>this.insertNode(e,n,!1));else{let r=e;"string"==typeof t.contentElement?r=e.querySelector(t.contentElement):"function"==typeof t.contentElement?r=t.contentElement(e):t.contentElement&&(r=t.contentElement),this.findAround(e,r,!0),this.addAll(r,n),this.findAround(e,r,!1)}o&&this.sync(s)&&this.open--}addAll(e,t,n,r){let o=n||0;for(let i=n?e.childNodes[n]:e.firstChild,s=null==r?null:e.childNodes[r];i!=s;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i,t);this.findAtPoint(e,o)}findPlace(e,t,n){let r,o;for(let i=this.open,s=0;i>=0;i--){let t=this.nodes[i],a=t.findWrapping(e);if(a&&(!r||r.length>a.length+s)&&(r=a,o=t,!a.length))break;if(t.solid){if(n)break;s+=2}}if(!r)return null;this.sync(o);for(let i=0;i<r.length;i++)t=this.enterInner(r[i],null,t,!1);return t}insertNode(e,t,n){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&(t=this.enterInner(e,null,t))}let r=this.findPlace(e,t,n);if(r){this.closeExtra();let t=this.top;t.match&&(t.match=t.match.matchType(e.type));let n=fT.none;for(let o of r.concat(e.marks))(t.type?t.type.allowsMarkType(o.type):uA(o.type,e.type))&&(n=o.addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n,r){let o=this.findPlace(e.create(t),n,!1);return o&&(o=this.enterInner(e,t,n,!0,r)),o}enterInner(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(e);let s=iA(e,o,i.options);4&i.options&&0==i.content.length&&(s|=4);let a=fT.none;return n=n.filter(t=>!(i.type?i.type.allowsMarkType(t.type):uA(t.type,e))||(a=t.addToSet(a),!1)),this.nodes.push(new sA(e,t,a,r,null,s)),this.open++,n}closeExtra(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!(!this.isOpen&&!this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=1)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(r?0:1),i=(e,s)=>{for(;e>=0;e--){let a=t[e];if(""==a){if(e==t.length-1||0==e)continue;for(;s>=o;s--)if(i(e-1,s))return!0;return!1}{let e=s>0||0==s&&r?this.nodes[s].type:n&&s>=o?n.node(s-o).type:null;if(!e||e.name!=a&&!e.isInGroup(a))return!1;s--}}return!0};return i(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}}function lA(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function cA(e){let t={};for(let n in e)t[n]=e[n];return t}function uA(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let i=[],s=e=>{i.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:o}=e.edge(n);if(r==t)return!0;if(i.indexOf(o)<0&&s(o))return!0}};if(s(o.contentMatch))return!0}}class dA{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;n||(n=pA(t).createDocumentFragment());let r=n,o=[];return e.forEach(e=>{if(o.length||e.marks.length){let n=0,i=0;for(;n<o.length&&i<e.marks.length;){let t=e.marks[i];if(this.marks[t.type.name]){if(!t.eq(o[n][0])||!1===t.type.spec.spanning)break;n++,i++}else i++}for(;n<o.length;)r=o.pop()[1];for(;i<e.marks.length;){let n=e.marks[i++],s=this.serializeMark(n,e.isInline,t);s&&(o.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(e,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=gA(pA(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.marks[e.type.name];return r&&gA(pA(n),r(e,t),null,e.attrs)}static renderSpec(e,t){return gA(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new dA(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=hA(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return hA(e.marks)}}function hA(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function pA(e){return e.document||window.document}const fA=new WeakMap;function mA(e){let t=fA.get(e);return void 0===t&&fA.set(e,t=function(e){let t=null;function n(e){if(e&&"object"==typeof e)if(Array.isArray(e))if("string"==typeof e[0])t||(t=[]),t.push(e);else for(let t=0;t<e.length;t++)n(e[t]);else for(let t in e)n(e[t])}return n(e),t}(e)),t}function gA(e,t,n,r){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let o,i=t[0];if("string"!=typeof i)throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=mA(r))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s,a=i.indexOf(" ");a>0&&(n=i.slice(0,a),i=i.slice(a+1));let l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],u=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){u=2;for(let e in c)if(null!=c[e]){let t=e.indexOf(" ");t>0?l.setAttributeNS(e.slice(0,t),e.slice(t+1),c[e]):"style"==e&&l.style?l.style.cssText=c[e]:l.setAttribute(e,c[e])}}for(let d=u;d<t.length;d++){let o=t[d];if(0===o){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:t,contentDOM:i}=gA(e,o,n,r);if(l.appendChild(t),i){if(s)throw new RangeError("Multiple content holes");s=i}}}return{dom:l,contentDOM:s}}const vA=Math.pow(2,16);function yA(e,t){return e+t*vA}function bA(e){return 65535&e}class wA{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class xA{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ranges=e,this.inverted=t,!e.length&&xA.empty)return xA.empty}recover(e){let t=0,n=bA(e);if(!this.inverted)for(let r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/vA}(e)}mapResult(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!0)}_map(e,t,n){let r=0,o=this.inverted?2:1,i=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let a=this.ranges[s]-(this.inverted?r:0);if(a>e)break;let l=this.ranges[s+o],c=this.ranges[s+i],u=a+l;if(e<=u){let o=a+r+((l?e==a?-1:e==u?1:t:t)<0?0:c);if(n)return o;let i=e==(t<0?a:u)?null:yA(s/3,e-a),d=e==a?2:e==u?1:4;return(t<0?e!=a:e!=u)&&(d|=8),new wA(o,d,i)}r+=c-l}return n?e+r:new wA(e+r,0,null)}touches(e,t){let n=0,r=bA(t),o=this.inverted?2:1,i=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let t=this.ranges[s]-(this.inverted?n:0);if(t>e)break;let a=this.ranges[s+o];if(e<=t+a&&s==3*r)return!0;n+=this.ranges[s+i]-a}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let i=this.ranges[r],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),l=this.ranges[r+t],c=this.ranges[r+n];e(s,s+l,a,a+c),o+=c-l}}invert(){return new xA(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?xA.empty:new xA(e<0?[0,-e,0]:[0,0,e])}}xA.empty=new xA([]);class kA{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e?e.length:0;this.mirror=t,this.from=n,this.to=r,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.maps.length;return new kA(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),null!=t&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let r=e.getMirror(t);this.appendMap(e._maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e._maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new kA;return e.appendMappingInverted(this),e}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let o=this.from;o<this.to;o++){let n=this._maps[o].mapResult(e,t);if(null!=n.recover){let t=this.getMirror(o);if(null!=t&&t>o&&t<this.to){o=t,e=this._maps[t].recover(n.recover);continue}}r|=n.delInfo,e=n.pos}return n?e:new wA(e,r,null)}}const _A=Object.create(null);class CA{getMap(){return xA.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=_A[t.stepType];if(!n)throw new RangeError("No step type ".concat(t.stepType," defined"));return n.fromJSON(e,t)}static jsonID(e,t){if(e in _A)throw new RangeError("Duplicate use of step JSON ID "+e);return _A[e]=t,t.prototype.jsonID=e,t}}class SA{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new SA(e,null)}static fail(e){return new SA(null,e)}static fromReplace(e,t,n,r){try{return SA.ok(e.replace(t,n,r))}catch(G1){if(G1 instanceof mT)return SA.fail(G1.message);throw G1}}}function EA(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let i=e.child(o);i.content.size&&(i=i.copy(EA(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return uT.fromArray(r)}class TA extends CA{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),o=new gT(EA(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,r),t.openStart,t.openEnd);return SA.fromReplace(e,this.from,this.to,o)}invert(){return new AA(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new TA(t.pos,n.pos,this.mark)}merge(e){return e instanceof TA&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new TA(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new TA(t.from,t.to,e.markFromJSON(t.mark))}}CA.jsonID("addMark",TA);class AA extends CA{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new gT(EA(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return SA.fromReplace(e,this.from,this.to,n)}invert(){return new TA(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new AA(t.pos,n.pos,this.mark)}merge(e){return e instanceof AA&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new AA(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new AA(t.from,t.to,e.markFromJSON(t.mark))}}CA.jsonID("removeMark",AA);class DA extends CA{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return SA.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return SA.fromReplace(e,this.pos,this.pos+1,new gT(uT.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new DA(this.pos,t.marks[n]);return new DA(this.pos,this.mark)}}return new NA(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new DA(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new DA(t.pos,e.markFromJSON(t.mark))}}CA.jsonID("addNodeMark",DA);class NA extends CA{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return SA.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return SA.fromReplace(e,this.pos,this.pos+1,new gT(uT.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new DA(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new NA(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new NA(t.pos,e.markFromJSON(t.mark))}}CA.jsonID("removeNodeMark",NA);class OA extends CA{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&PA(e,this.from,this.to)?SA.fail("Structure replace would overwrite content"):SA.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new xA([this.from,this.to-this.from,this.slice.size])}invert(e){return new OA(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new OA(t.pos,Math.max(t.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof OA)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?gT.empty:new gT(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new OA(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?gT.empty:new gT(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new OA(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new OA(t.from,t.to,gT.fromJSON(e,t.slice),!!t.structure)}}CA.jsonID("replace",OA);class IA extends CA{constructor(e,t,n,r,o,i){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=i,this.structure=s}apply(e){if(this.structure&&(PA(e,this.from,this.gapFrom)||PA(e,this.gapTo,this.to)))return SA.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return SA.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?SA.fromReplace(e,this.from,this.to,n):SA.fail("Content does not fit in gap")}getMap(){return new xA([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new IA(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||o>n.pos?null:new IA(t.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new IA(t.from,t.to,t.gapFrom,t.gapTo,gT.fromJSON(e,t.slice),t.insert,!!t.structure)}}function PA(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let e=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,o--}}return!1}function jA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.contentMatch,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=e.doc.nodeAt(t),s=[],a=t+1;for(let l=0;l<i.childCount;l++){let t=i.child(l),c=a+t.nodeSize,u=r.matchType(t.type);if(u){r=u;for(let r=0;r<t.marks.length;r++)n.allowsMarkType(t.marks[r].type)||e.step(new AA(a,c,t.marks[r]));if(o&&t.isText&&"pre"!=n.whitespace){let e,r,o=/\r?\n|\r/g;for(;e=o.exec(t.text);)r||(r=new gT(uT.from(n.schema.text(" ",n.allowedMarks(t.marks))),0,0)),s.push(new OA(a+e.index,a+e.index+e[0].length,r))}}else s.push(new OA(a,c,gT.empty));a=c}if(!r.validEnd){let t=r.fillBefore(uT.empty,!0);e.replace(a,a,new gT(t,0,0))}for(let l=s.length-1;l>=0;l--)e.step(s[l])}function MA(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function RA(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!MA(r,o,i))break}return null}function FA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let s=i.length?i[0]:t;return n.canReplaceWith(r,o,s)?i:null}(e,t),i=o&&function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.child(r),s=t.contentMatch.findWrapping(i.type);if(!s)return null;let a=(s.length?s[s.length-1]:t).contentMatch;for(let l=r;a&&l<o;l++)a=a.matchType(n.child(l).type);return a&&a.validEnd?s:null}(r,t);return i?o.map(LA).concat({type:t,attrs:n}).concat(i.map(LA)):null}function LA(e){return{type:e,attrs:null}}function zA(e,t,n,r){t.forEach((o,i)=>{if(o.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(o.text);){let o=e.mapping.slice(r).map(n+1+i+s.index);e.replaceWith(o,o+1,t.type.schema.linebreakReplacement.create())}}})}function BA(e,t,n,r){t.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+i);e.replaceWith(o,o+1,t.type.schema.text("\n"))}})}function UA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=e.resolve(t),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,u=n-2;c>i;c--,u--){let e=o.node(c),t=o.index(c);if(e.type.spec.isolating)return!1;let n=e.content.cutByIndex(t,e.childCount),i=r&&r[u+1];i&&(n=n.replaceChild(0,i.type.create(i.attrs)));let s=r&&r[u]||e;if(!e.canReplace(t+1,e.childCount)||!s.type.validContent(n))return!1}let a=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(a,a,l?l.type:o.node(i+1).type)}function VA(e,t){let n=e.resolve(t),r=n.index();return HA(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function HA(e,t){return!(!e||!t||e.isLeaf||!function(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let o=0;o<t.childCount;o++){let i=t.child(o),s=i.type==r?e.type.schema.nodes.text:i.type;if(n=n.matchType(s),!n)return!1;if(!e.type.allowsMarks(i.marks))return!1}return n.validEnd}(e,t))}function qA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=e.resolve(t);for(let o=r.depth;;o--){let e,i,s=r.index(o);if(o==r.depth?(e=r.nodeBefore,i=r.nodeAfter):n>0?(e=r.node(o+1),s++,i=r.node(o).maybeChild(s)):(e=r.node(o).maybeChild(s-1),i=r.node(o+1)),e&&!e.isTextblock&&HA(e,i)&&r.node(o).canReplace(s,s+1))return t;if(0==o)break;t=n<0?r.before(o):r.after(o)}}function WA(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(0==n.openStart&&n.size?2:1);i++)for(let e=r.depth;e>=0;e--){let t=e==r.depth?0:r.pos<=(r.start(e+1)+r.end(e+1))/2?-1:1,n=r.index(e)+(t>0?1:0),s=r.node(e),a=!1;if(1==i)a=s.canReplace(n,n,o);else{let e=s.contentMatchAt(n).findWrapping(o.firstChild.type);a=e&&s.canReplaceWith(n,n,e[0])}if(a)return 0==t?r.pos:t<0?r.before(e+1):r.after(e+1)}return null}function YA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gT.empty;if(t==n&&!r.size)return null;let o=e.resolve(t),i=e.resolve(n);return KA(o,i,r)?new OA(t,n,r):new GA(o,i,r).fit()}function KA(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}CA.jsonID("replaceAround",IA);class GA{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=uT.empty;for(let r=0;r<=e.depth;r++){let t=e.node(r);this.frontier.push({type:t.type,match:t.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=uT.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let o=this.placed,i=n.depth,s=r.depth;for(;i&&s&&1==o.childCount;)o=o.firstChild.content,i--,s--;let a=new gT(o,i,s);return e>-1?new IA(n.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||n.pos!=this.$to.pos?new OA(n.pos,r.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let o=t.firstChild;if(t.childCount>1&&(r=0),o.type.spec.isolating&&r<=n){e=n;break}t=o.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e,r=null;n?(r=JA(this.unplaced.content,n-1).firstChild,e=r.content):e=this.unplaced.content;let o=e.firstChild;for(let i=this.depth;i>=0;i--){let e,{type:s,match:a}=this.frontier[i],l=null;if(1==t&&(o?a.matchType(o.type)||(l=a.fillBefore(uT.from(o),!1)):r&&s.compatibleContent(r.type)))return{sliceDepth:n,frontierDepth:i,parent:r,inject:l};if(2==t&&o&&(e=a.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:i,parent:r,wrap:e};if(r&&a.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=JA(e,t);return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new gT(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=JA(e,t);if(r.childCount<=1&&t>0){let o=e.size-t<=t+r.size;this.unplaced=new gT($A(e,t-1,1),t-1,o?t-1:n)}else this.unplaced=new gT($A(e,t,1),t,n)}placeNodes(e){let{sliceDepth:t,frontierDepth:n,parent:r,inject:o,wrap:i}=e;for(;this.depth>n;)this.closeFrontierNode();if(i)for(let m=0;m<i.length;m++)this.openFrontierNode(i[m]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-t,c=0,u=[],{match:d,type:h}=this.frontier[n];if(o){for(let e=0;e<o.childCount;e++)u.push(o.child(e));d=d.matchFragment(o)}let p=a.size+t-(s.content.size-s.openEnd);for(;c<a.childCount;){let e=a.child(c),t=d.matchType(e.type);if(!t)break;c++,(c>1||0==l||e.content.size)&&(d=t,u.push(XA(e.mark(h.allowedMarks(e.marks)),1==c?l:0,c==a.childCount?p:-1)))}let f=c==a.childCount;f||(p=-1),this.placed=QA(this.placed,n,uT.from(u)),this.frontier[n].match=d,f&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,g=a;m<p;m++){let e=g.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),g=e.content}this.unplaced=f?0==t?gT.empty:new gT($A(s.content,t-1,1),t-1,p<0?s.openEnd:t-1):new gT($A(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!ZA(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),i=ZA(e,t,r,n,o);if(i){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],o=ZA(e,n,r,t,!0);if(!o||o.childCount)continue e}return{depth:t,fit:i,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=QA(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=QA(this.placed,this.depth,uT.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(uT.empty,!0);e.childCount&&(this.placed=QA(this.placed,this.frontier.length,e))}}function $A(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy($A(e.firstChild.content,t-1,n)))}function QA(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(QA(e.lastChild.content,t-1,n)))}function JA(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function XA(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,XA(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(uT.empty,!0)))),e.copy(r)}function ZA(e,t,n,r,o){let i=e.node(t),s=o?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let a=r.fillBefore(i.content,!0,s);return a&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,s)?a:null}function eD(e){return e.spec.defining||e.spec.definingForContent}function tD(e,t,n,r,o){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(tD(o.content,t+1,n,r,o)))}if(t>r){let t=o.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(uT.empty,!0))}return e}function nD(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&n.push(r)}return n}class rD extends CA{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return SA.fail("No node at attribute step's position");let n=Object.create(null);for(let o in t.attrs)n[o]=t.attrs[o];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return SA.fromReplace(e,this.pos,this.pos+1,new gT(uT.from(r),0,t.isLeaf?0:1))}getMap(){return xA.empty}invert(e){return new rD(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new rD(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new rD(t.pos,t.attr,t.value)}}CA.jsonID("attr",rD);class oD extends CA{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let r in e.attrs)t[r]=e.attrs[r];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return SA.ok(n)}getMap(){return xA.empty}invert(e){return new oD(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new oD(t.attr,t.value)}}CA.jsonID("docAttr",oD);let iD=class extends Error{};iD=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(iD.prototype=Object.create(Error.prototype)).constructor=iD,iD.prototype.name="TransformError";class sD{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new kA}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new iD(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gT.empty,r=YA(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new gT(uT.from(n),0,0))}delete(e,t){return this.replace(e,t,gT.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),i=e.doc.resolve(n);if(KA(o,i,r))return e.step(new OA(t,n,r));let s=nD(o,e.doc.resolve(n));0==s[s.length-1]&&s.pop();let a=-(o.depth+1);s.unshift(a);for(let h=o.depth,p=o.pos-1;h>0;h--,p--){let e=o.node(h).type.spec;if(e.defining||e.definingAsContext||e.isolating)break;s.indexOf(h)>-1?a=h:o.before(h)==p&&s.splice(1,0,-h)}let l=s.indexOf(a),c=[],u=r.openStart;for(let h=r.content,p=0;;p++){let e=h.firstChild;if(c.push(e),p==r.openStart)break;h=e.content}for(let h=u-1;h>=0;h--){let e=c[h],t=eD(e.type);if(t&&!e.sameMarkup(o.node(Math.abs(a)-1)))u=h;else if(t||!e.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let t=(h+u+1)%(r.openStart+1),a=c[t];if(a)for(let c=0;c<s.length;c++){let u=s[(c+l)%s.length],d=!0;u<0&&(d=!1,u=-u);let h=o.node(u-1),p=o.index(u-1);if(h.canReplaceWith(p,p,a.type,a.marks))return e.replace(o.before(u),d?i.after(u):n,new gT(tD(r.content,0,r.openStart,t),t,r.openEnd))}}let d=e.steps.length;for(let h=s.length-1;h>=0&&(e.replace(t,n,r),!(e.steps.length>d));h--){let e=s[h];e<0||(t=o.before(e),n=i.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let o=r.depth-1;o>=0;o--){let e=r.index(o);if(r.node(o).canReplaceWith(e,e,n))return r.before(o+1);if(e>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let e=r.indexAfter(o);if(r.node(o).canReplaceWith(e,e,n))return r.after(o+1);if(e<r.node(o).childCount)return null}return null}(e.doc,t,r.type);null!=o&&(t=n=o)}e.replaceRange(t,n,new gT(uT.from(r),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),i=nD(r,o);for(let s=0;s<i.length;s++){let t=i[s],n=s==i.length-1;if(n&&0==t||r.node(t).type.contentMatch.validEnd)return e.delete(r.start(t),o.end(t));if(t>0&&(n||r.node(t-1).canReplace(r.index(t-1),o.indexAfter(t-1))))return e.delete(r.before(t),o.after(t))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s&&r.start(s-1)==o.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),o.index(s-1)))return e.delete(r.before(s),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:r,$to:o,depth:i}=t,s=r.before(i+1),a=o.after(i+1),l=s,c=a,u=uT.empty,d=0;for(let f=i,m=!1;f>n;f--)m||r.index(f)>0?(m=!0,u=uT.from(r.node(f).copy(u)),d++):l--;let h=uT.empty,p=0;for(let f=i,m=!1;f>n;f--)m||o.after(f+1)<o.end(f)?(m=!0,h=uT.from(o.node(f).copy(h)),p++):c++;e.step(new IA(l,c,s,a,new gT(u.append(h),d,p),u.size-d,!0))}(this,e,t),this}join(e){return function(e,t,n){let r=null,{linebreakReplacement:o}=e.doc.type.schema,i=e.doc.resolve(t-n),s=i.node().type;if(o&&s.inlineContent){let e="pre"==s.whitespace,t=!!s.contentMatch.matchType(o);e&&!t?r=!1:!e&&t&&(r=!0)}let a=e.steps.length;if(!1===r){let r=e.doc.resolve(t+n);BA(e,r.node(),r.before(),a)}s.inlineContent&&jA(e,t+n-1,s,i.node().contentMatchAt(i.index()),null==r);let l=e.mapping.slice(a),c=l.map(t-n);if(e.step(new OA(c,l.map(t+n,-1),gT.empty,!0)),!0===r){let t=e.doc.resolve(c);zA(e,t.node(),t.before(),e.steps.length)}}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this}wrap(e,t){return function(e,t,n){let r=uT.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let e=n[s].type.contentMatch.matchFragment(r);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=uT.from(n[s].type.create(n[s].attrs,r))}let o=t.start,i=t.end;e.step(new IA(o,i,o,i,new gT(r,0,0),n.length,!0))}(this,e,t),this}setBlockType(e){return function(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(t,n)=>{let s="function"==typeof o?o(t):o;if(t.isTextblock&&!t.hasMarkup(r,s)&&function(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(e.doc,e.mapping.slice(i).map(n),r)){let o=null;if(r.schema.linebreakReplacement){let e="pre"==r.whitespace,t=!!r.contentMatch.matchType(r.schema.linebreakReplacement);e&&!t?o=!1:!e&&t&&(o=!0)}!1===o&&BA(e,t,n,i),jA(e,e.mapping.slice(i).map(n,1),r,void 0,null===o);let a=e.mapping.slice(i),l=a.map(n,1),c=a.map(n+t.nodeSize,1);return e.step(new IA(l,c,l+1,c-1,new gT(uT.from(r.create(s,null,t.marks)),0,0),1,!0)),!0===o&&zA(e,t,n,i),!1}})}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,arguments.length>2?arguments[2]:void 0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null),this}setNodeMarkup(e,t){return function(e,t,n,r,o){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new IA(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new gT(uT.from(s),0,0),1,!0))}(this,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0),this}setNodeAttribute(e,t,n){return this.step(new rD(e,t,n)),this}setDocAttribute(e,t){return this.step(new oD(e,t)),this}addNodeMark(e,t){return this.step(new DA(e,t)),this}removeNodeMark(e,t){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t instanceof fT)t.isInSet(n.marks)&&this.step(new NA(e,t));else{let r,o=n.marks,i=[];for(;r=t.isInSet(o);)i.push(new NA(e,r)),o=r.removeFromSet(o);for(let e=i.length-1;e>=0;e--)this.step(i[e])}return this}split(e){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=e.doc.resolve(t),i=uT.empty,s=uT.empty;for(let a=o.depth,l=o.depth-n,c=n-1;a>l;a--,c--){i=uT.from(o.node(a).copy(i));let e=r&&r[c];s=uT.from(e?e.type.create(e.attrs,s):o.node(a).copy(s))}e.step(new OA(t,t,new gT(i.append(s),n,n),!0))}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2?arguments[2]:void 0),this}addMark(e,t,n){return function(e,t,n,r){let o,i,s=[],a=[];e.doc.nodesBetween(t,n,(e,l,c)=>{if(!e.isInline)return;let u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,t),d=Math.min(l+e.nodeSize,n),h=r.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(h)||(o&&o.to==c&&o.mark.eq(u[e])?o.to=d:s.push(o=new AA(c,d,u[e])));i&&i.to==c?i.to=d:a.push(i=new TA(c,d,r))}}),s.forEach(t=>e.step(t)),a.forEach(t=>e.step(t))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,r){let o=[],i=0;e.doc.nodesBetween(t,n,(e,s)=>{if(!e.isInline)return;i++;let a=null;if(r instanceof XT){let t,n=e.marks;for(;t=r.isInSet(n);)(a||(a=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(a=[r]):a=e.marks;if(a&&a.length){let r=Math.min(s+e.nodeSize,n);for(let e=0;e<a.length;e++){let n,l=a[e];for(let e=0;e<o.length;e++){let t=o[e];t.step==i-1&&l.eq(o[e].style)&&(n=t)}n?(n.to=r,n.step=i):o.push({style:l,from:Math.max(s,t),to:r,step:i})}}}),o.forEach(t=>e.step(new AA(t.from,t.to,t.style)))}(this,e,t,n),this}clearIncompatible(e,t,n){return jA(this,e,t,n),this}}const aD=Object.create(null);class lD{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new cD(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gT.empty,n=t.content.lastChild,r=null;for(let s=0;s<t.openEnd;s++)r=n,n=n.lastChild;let o=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:a,$to:l}=i[s],c=e.mapping.slice(o);e.replaceRange(c.map(a.pos),c.map(l.pos),s?gT.empty:t),0==s&&bD(e,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:i,$to:s}=r[o],a=e.mapping.slice(n),l=a.map(i.pos),c=a.map(s.pos);o?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),bD(e,n,t.isInline?-1:1))}}static findFrom(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.parent.inlineContent?new hD(e):yD(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let o=e.depth-1;o>=0;o--){let r=t<0?yD(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):yD(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(r)return r}return null}static near(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.findFrom(e,t)||this.findFrom(e,-t)||new gD(e.node(0))}static atStart(e){return yD(e,e,0,0,1)||new gD(e)}static atEnd(e){return yD(e,e,e.content.size,e.childCount,-1)||new gD(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=aD[t.type];if(!n)throw new RangeError("No selection type ".concat(t.type," defined"));return n.fromJSON(e,t)}static jsonID(e,t){if(e in aD)throw new RangeError("Duplicate use of selection JSON ID "+e);return aD[e]=t,t.prototype.jsonID=e,t}getBookmark(){return hD.between(this.$anchor,this.$head).getBookmark()}}lD.prototype.visible=!0;class cD{constructor(e,t){this.$from=e,this.$to=t}}let uD=!1;function dD(e){uD||e.parent.inlineContent||(uD=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class hD extends lD{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;dD(e),dD(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return lD.near(n);let r=e.resolve(t.map(this.anchor));return new hD(r.parent.inlineContent?r:n,n)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gT.empty;if(super.replace(e,t),t==gT.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof hD&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new pD(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new hD(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=lD.findFrom(t,n,!0)||lD.findFrom(t,-n,!0);if(!e)return lD.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r||(e=(lD.findFrom(e,-n,!0)||lD.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0)&&(e=t),new hD(e,t)}}lD.jsonID("text",hD);class pD{constructor(e,t){this.anchor=e,this.head=t}map(e){return new pD(e.map(this.anchor),e.map(this.head))}resolve(e){return hD.between(e.resolve(this.anchor),e.resolve(this.head))}}class fD extends lD{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),o=e.resolve(r);return n?lD.near(o):new fD(o)}content(){return new gT(uT.from(this.node),0,0)}eq(e){return e instanceof fD&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new mD(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new fD(e.resolve(t.anchor))}static create(e,t){return new fD(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}fD.prototype.visible=!1,lD.jsonID("node",fD);class mD{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new pD(n,n):new mD(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&fD.isSelectable(n)?new fD(t):lD.near(t)}}class gD extends lD{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gT.empty;if(t==gT.empty){e.delete(0,e.doc.content.size);let t=lD.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new gD(e)}map(e){return new gD(e)}eq(e){return e instanceof gD}getBookmark(){return vD}}lD.jsonID("all",gD);const vD={map(){return this},resolve:e=>new gD(e)};function yD(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t.inlineContent)return hD.create(e,n);for(let s=r-(o>0?0:1);o>0?s<t.childCount:s>=0;s+=o){let r=t.child(s);if(r.isAtom){if(!i&&fD.isSelectable(r))return fD.create(e,n-(o<0?r.nodeSize:0))}else{let t=yD(e,r,n+o,o<0?r.childCount:0,o,i);if(t)return t}n+=r.nodeSize*o}return null}function bD(e,t,n){let r=e.steps.length-1;if(r<t)return;let o,i=e.steps[r];(i instanceof OA||i instanceof IA)&&(e.mapping.maps[r].forEach((e,t,n,r)=>{null==o&&(o=r)}),e.setSelection(lD.near(e.doc.resolve(o),n)))}class wD extends sD{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return fT.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||fT.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),!e)return this.deleteRange(t,n);let o=this.storedMarks;if(!o){let e=this.doc.resolve(t);o=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.selection.to!=t+e.length||this.setSelection(lD.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function xD(e,t){return t&&e?e.bind(t):e}class kD{constructor(e,t,n){this.name=e,this.init=xD(t.init,n),this.apply=xD(t.apply,n)}}const _D=[new kD("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new kD("selection",{init:(e,t)=>e.selection||lD.atStart(t.doc),apply:e=>e.selection}),new kD("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new kD("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class CD{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=_D.slice(),t&&t.forEach(e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new kD(e.key,e.spec.state,e))})}}class SD{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let o=!1;for(let i=0;i<this.config.plugins.length;i++){let s=this.config.plugins[i];if(s.spec.appendTransaction){let a=r?r[i].n:0,l=r?r[i].state:this,c=a<t.length&&s.spec.appendTransaction.call(s,a?t.slice(a):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new SD(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new wD(this)}static create(e){let t=new CD(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new SD(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new CD(this.schema,e.plugins),n=t.fields,r=new SD(t);for(let o=0;o<n.length;o++){let t=n[o].name;r[t]=this.hasOwnProperty(t)?this[t]:n[o].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(e=>e.toJSON())),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new CD(e.schema,e.plugins),o=new SD(r);return r.fields.forEach(r=>{if("doc"==r.name)o.doc=jT.fromJSON(e.schema,t.doc);else if("selection"==r.name)o.selection=lD.fromJSON(o.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let i in n){let s=n[i],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(t,i))return void(o[r.name]=a.fromJSON.call(s,e,t[i],o))}o[r.name]=r.init(e,o)}}),o}}function ED(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=ED(o,t,{})),n[r]=o}return n}class TD{constructor(e){this.spec=e,this.props={},e.props&&ED(e.props,this,this.props),this.key=e.key?e.key.key:DD("plugin")}getState(e){return e[this.key]}}const AD=Object.create(null);function DD(e){return e in AD?e+"$"+ ++AD[e]:(AD[e]=0,e+"$")}class ND{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"key";this.key=DD(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const OD=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function ID(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const PD=(e,t,n)=>{let r=ID(e,n);if(!r)return!1;let o=FD(r);if(!o){let n=r.blockRange(),o=n&&RA(n);return null!=o&&(t&&t(e.tr.lift(n,o).scrollIntoView()),!0)}let i=o.nodeBefore;if($D(e,o,t,-1))return!0;if(0==r.parent.content.size&&(MD(i,"end")||fD.isSelectable(i)))for(let s=r.depth;;s--){let n=YA(e.doc,r.before(s),r.after(s),gT.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(MD(i,"end")?lD.findFrom(r.doc.resolve(r.mapping.map(o.pos,-1)),-1):fD.create(r.doc,o.pos-i.nodeSize)),t(r.scrollIntoView())}return!0}if(1==s||r.node(s-1).childCount>1)break}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0)};function jD(e,t,n){let r=t.nodeBefore,o=t.pos-1;for(;!r.isTextblock;o--){if(r.type.spec.isolating)return!1;let e=r.lastChild;if(!e)return!1;r=e}let i=t.nodeAfter,s=t.pos+1;for(;!i.isTextblock;s++){if(i.type.spec.isolating)return!1;let e=i.firstChild;if(!e)return!1;i=e}let a=YA(e.doc,o,s,gT.empty);if(!a||a.from!=o||a instanceof OA&&a.slice.size>=s-o)return!1;if(n){let t=e.tr.step(a);t.setSelection(hD.create(t.doc,o)),n(t.scrollIntoView())}return!0}function MD(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const RD=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=FD(r)}let s=i&&i.nodeBefore;return!(!s||!fD.isSelectable(s))&&(t&&t(e.tr.setSelection(fD.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function FD(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function LD(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const zD=(e,t,n)=>{let r=LD(e,n);if(!r)return!1;let o=UD(r);if(!o)return!1;let i=o.nodeAfter;if($D(e,o,t,1))return!0;if(0==r.parent.content.size&&(MD(i,"start")||fD.isSelectable(i))){let n=YA(e.doc,r.before(),r.after(),gT.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(MD(i,"start")?lD.findFrom(r.doc.resolve(r.mapping.map(o.pos)),1):fD.create(r.doc,r.mapping.map(o.pos))),t(r.scrollIntoView())}return!0}}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)},BD=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=UD(r)}let s=i&&i.nodeAfter;return!(!s||!fD.isSelectable(s))&&(t&&t(e.tr.setSelection(fD.create(e.doc,i.pos)).scrollIntoView()),!0)};function UD(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const VD=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function HD(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const qD=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),s=HD(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(t){let r=n.after(),o=e.tr.replaceWith(r,r,s.createAndFill());o.setSelection(lD.near(o.doc.resolve(r),1)),t(o.scrollIntoView())}return!0},WD=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof gD||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=HD(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let n=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,s=e.tr.insert(n,i.createAndFill());s.setSelection(hD.create(s.doc,n+1)),t(s.scrollIntoView())}return!0},YD=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(UA(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),o=r&&RA(r);return null!=o&&(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)};const KD=(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof fD&&e.selection.node.isBlock)return!(!n.parentOffset||!UA(e.doc,n.pos))&&(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let o,i,s=[],a=!1,l=!1;for(let h=n.depth;;h--){if(n.node(h).isBlock){a=n.end(h)==n.pos+(n.depth-h),l=n.start(h)==n.pos-(n.depth-h),i=HD(n.node(h-1).contentMatchAt(n.indexAfter(h-1)));let e=GD&&GD(r.parent,a,n);s.unshift(e||(a&&i?{type:i}:null)),o=h;break}if(1==h)return!1;s.unshift(null)}let c=e.tr;(e.selection instanceof hD||e.selection instanceof gD)&&c.deleteSelection();let u=c.mapping.map(n.pos),d=UA(c.doc,u,s.length,s);if(d||(s[0]=i?{type:i}:null,d=UA(c.doc,u,s.length,s)),!d)return!1;if(c.split(u,s.length,s),!a&&l&&n.node(o).type!=i){let e=c.mapping.map(n.before(o)),t=c.doc.resolve(e);i&&n.node(o-1).canReplaceWith(t.index(),t.index()+1,i)&&c.setNodeMarkup(c.mapping.map(n.before(o)),i)}return t&&t(c.scrollIntoView()),!0};var GD;function $D(e,t,n,r){let o,i,s=t.nodeBefore,a=t.nodeAfter,l=s.type.spec.isolating||a.type.spec.isolating;if(!l&&function(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(i,i+1)||!o.isTextblock&&!VA(e.doc,t.pos))&&(n&&n(e.tr.join(t.pos).scrollIntoView()),!0))}(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(o=(i=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&i.matchType(o[0]||a.type).validEnd){if(n){let r=t.pos+a.nodeSize,i=uT.empty;for(let e=o.length-1;e>=0;e--)i=uT.from(o[e].create(null,i));i=uT.from(s.copy(i));let l=e.tr.step(new IA(t.pos-1,r,t.pos,r,new gT(i,1,0),o.length,!0)),c=l.doc.resolve(r+2*o.length);c.nodeAfter&&c.nodeAfter.type==s.type&&VA(l.doc,c.pos)&&l.join(c.pos),n(l.scrollIntoView())}return!0}let u=a.type.spec.isolating||r>0&&l?null:lD.findFrom(t,1),d=u&&u.$from.blockRange(u.$to),h=d&&RA(d);if(null!=h&&h>=t.depth)return n&&n(e.tr.lift(d,h).scrollIntoView()),!0;if(c&&MD(a,"start",!0)&&MD(s,"end")){let r=s,o=[];for(;o.push(r),!r.isTextblock;)r=r.lastChild;let i=a,l=1;for(;!i.isTextblock;i=i.firstChild)l++;if(r.canReplace(r.childCount,r.childCount,i.content)){if(n){let r=uT.empty;for(let e=o.length-1;e>=0;e--)r=uT.from(o[e].copy(r));n(e.tr.step(new IA(t.pos-o.length,t.pos+a.nodeSize,t.pos+l,t.pos+a.nodeSize-l,new gT(r,o.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function QD(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return!!o.node(i).isTextblock&&(n&&n(t.tr.setSelection(hD.create(t.doc,e<0?o.start(i):o.end(i)))),!0)}}const JD=QD(-1),XD=QD(1);function ZD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let o=!1;for(let i=0;i<n.selection.ranges.length&&!o;i++){let{$from:{pos:r},$to:{pos:s}}=n.selection.ranges[i];n.doc.nodesBetween(r,s,(r,i)=>{if(o)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)o=!0;else{let t=n.doc.resolve(i),r=t.index();o=t.parent.canReplaceWith(r,r+1,e)}})}if(!o)return!1;if(r){let o=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:i},$to:{pos:s}}=n.selection.ranges[r];o.setBlockType(i,s,e,t)}r(o.scrollIntoView())}return!0}}function eN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){for(let o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}let tN=eN(OD,PD,RD),nN=eN(OD,zD,BD);const rN={Enter:eN(VD,WD,YD,KD),"Mod-Enter":qD,Backspace:tN,"Mod-Backspace":tN,"Shift-Backspace":tN,Delete:nN,"Mod-Delete":nN,"Mod-a":(e,t)=>(t&&t(e.tr.setSelection(new gD(e.doc))),!0)},oN={"Ctrl-h":rN.Backspace,"Alt-Backspace":rN["Mod-Backspace"],"Ctrl-d":rN.Delete,"Ctrl-Alt-Backspace":rN["Mod-Delete"],"Alt-Delete":rN["Mod-Delete"],"Alt-d":rN["Mod-Delete"],"Ctrl-a":JD,"Ctrl-e":XD};for(let n in rN)oN[n]=rN[n];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&os.platform();function iN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i);if(!s)return!1;let a=r?n.tr:null;return!!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!1,i=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&0==t.startIndex){if(0==t.$from.index(t.depth-1))return!1;let e=s.resolve(t.start-2);i=new IT(e,e,t.depth),t.endIndex<t.parent.childCount&&(t=new IT(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),o=!0}let a=FA(i,n,r,t);if(!a)return!1;e&&function(e,t,n,r,o){let i=uT.empty;for(let u=n.length-1;u>=0;u--)i=uT.from(n[u].type.create(n[u].attrs,i));e.step(new IA(t.start-(r?2:0),t.end,t.start,t.end,new gT(i,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==o&&(s=u+1);let a=n.length-s,l=t.start+n.length-(r?2:0),c=t.parent;for(let u=t.startIndex,d=t.endIndex,h=!0;u<d;u++,h=!1)!h&&UA(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(u).nodeSize}(e,t,a,o,n);return!0}(a,s,e,t)&&(r&&r(a.scrollIntoView()),!0)}}function sN(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,t=>t.childCount>0&&t.firstChild.type==e);return!!i&&(!n||(r.node(i.depth-1).type==e?function(e,t,n,r){let o=e.tr,i=r.end,s=r.$to.end(r.depth);i<s&&(o.step(new IA(i-1,s,i,s,new gT(uT.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new IT(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth));const a=RA(r);if(null==a)return!1;o.lift(r,a);let l=o.doc.resolve(o.mapping.map(i,-1)-1);VA(o.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&o.join(l.pos);return t(o.scrollIntoView()),!0}(t,n,e,i):function(e,t,n){let r=e.tr,o=n.parent;for(let p=n.end,f=n.endIndex-1,m=n.startIndex;f>m;f--)p-=o.child(f).nodeSize,r.delete(p-1,p+1);let i=r.doc.resolve(n.start),s=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let a=0==n.startIndex,l=n.endIndex==o.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?uT.empty:uT.from(o))))return!1;let d=i.pos,h=d+s.nodeSize;return r.step(new IA(d-(a?1:0),h+(l?1:0),d+1,h-1,new gT((a?uT.empty:uT.from(o.copy(uT.empty))).append(l?uT.empty:uT.from(o.copy(uT.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}(t,n,i)))}}const aN=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},lN=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let cN=null;const uN=function(e,t,n){let r=cN||(cN=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},dN=function(e,t,n,r){return n&&(pN(e,t,n,r,-1)||pN(e,t,n,r,1))},hN=/^(img|br|input|textarea|hr)$/i;function pN(e,t,n,r,o){for(var i;;){if(e==n&&t==r)return!0;if(t==(o<0?0:fN(e))){let n=e.parentNode;if(!n||1!=n.nodeType||mN(e)||hN.test(e.nodeName)||"false"==e.contentEditable)return!1;t=aN(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;{let n=e.childNodes[t+(o<0?-1:0)];if(1==n.nodeType&&"false"==n.contentEditable){if(!(null===(i=n.pmViewDesc)||void 0===i?void 0:i.ignoreForSelection))return!1;t+=o}else e=n,t=o<0?fN(e):0}}}}function fN(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function mN(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const gN=function(e){return e.focusNode&&dN(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function vN(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const yN="undefined"!=typeof navigator?navigator:null,bN="undefined"!=typeof document?document:null,wN=yN&&yN.userAgent||"",xN=/Edge\/(\d+)/.exec(wN),kN=/MSIE \d/.exec(wN),_N=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(wN),CN=!!(kN||_N||xN),SN=kN?document.documentMode:_N?+_N[1]:xN?+xN[1]:0,EN=!CN&&/gecko\/(\d+)/i.test(wN);EN&&(/Firefox\/(\d+)/.exec(wN)||[0,0])[1];const TN=!CN&&/Chrome\/(\d+)/.exec(wN),AN=!!TN,DN=TN?+TN[1]:0,NN=!CN&&!!yN&&/Apple Computer/.test(yN.vendor),ON=NN&&(/Mobile\/\w+/.test(wN)||!!yN&&yN.maxTouchPoints>2),IN=ON||!!yN&&/Mac/.test(yN.platform),PN=!!yN&&/Win/.test(yN.platform),jN=/Android \d/.test(wN),MN=!!bN&&"webkitFontSmoothing"in bN.documentElement.style,RN=MN?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function FN(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function LN(e,t){return"number"==typeof e?e:e[t]}function zN(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function BN(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let s=n||e.dom;s;){if(1!=s.nodeType){s=lN(s);continue}let e=s,n=e==i.body,a=n?FN(i):zN(e),l=0,c=0;if(t.top<a.top+LN(r,"top")?c=-(a.top-t.top+LN(o,"top")):t.bottom>a.bottom-LN(r,"bottom")&&(c=t.bottom-t.top>a.bottom-a.top?t.top+LN(o,"top")-a.top:t.bottom-a.bottom+LN(o,"bottom")),t.left<a.left+LN(r,"left")?l=-(a.left-t.left+LN(o,"left")):t.right>a.right-LN(r,"right")&&(l=t.right-a.right+LN(o,"right")),l||c)if(n)i.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let o=e.scrollLeft-n,i=e.scrollTop-r;t={left:t.left-o,top:t.top-i,right:t.right-o,bottom:t.bottom-i}}let u=n?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(u))break;s="absolute"==u?s.offsetParent:lN(s)}}function UN(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=lN(r));return t}function VN(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:i}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let HN=null;function qN(e,t){let n,r,o,i,s=2e8,a=0,l=t.top,c=t.top;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let e;if(1==u.nodeType)e=u.getClientRects();else{if(3!=u.nodeType)continue;e=uN(u).getClientRects()}for(let h=0;h<e.length;h++){let p=e[h];if(p.top<=l&&p.bottom>=c){l=Math.max(p.bottom,l),c=Math.min(p.top,c);let e=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(e<s){n=u,s=e,r=e&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==u.nodeType&&e&&(a=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!o&&p.left<=t.left&&p.right>=t.left&&(o=u,i={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(a=d+1)}}return!n&&o&&(n=o,r=i,s=0),n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let n=$N(r,1);if(n.top!=n.bottom&&WN(t,n))return{node:e,offset:o+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||s&&1==n.nodeType?{node:e,offset:a}:qN(n,r)}function WN(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function YN(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let n=e.childNodes[i];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let o=e[r];if(WN(t,o))return YN(n,t,o)}}if((i=(i+1)%r)==o)break}return e}function KN(e,t){let n,r=e.dom.ownerDocument,o=0,i=function(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(fN(r.offsetNode),r.offset)}}catch(r){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(fN(r.startContainer),r.startOffset)}}}(r,t.left,t.top);i&&({node:n,offset:o}=i);let s,a=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!a||!e.dom.contains(1!=a.nodeType?a.parentNode:a)){let n=e.dom.getBoundingClientRect();if(!WN(t,n))return null;if(a=YN(e.dom,t,n),!a)return null}if(NN)for(let c=a;n&&c;c=lN(c))c.draggable&&(n=void 0);if(a=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(a,t),n){if(EN&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let e,r=n.childNodes[o];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&o++}let r;MN&&o&&1==n.nodeType&&1==(r=n.childNodes[o-1]).nodeType&&"false"==r.contentEditable&&r.getBoundingClientRect().top>=t.top&&o--,n==e.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(s=function(e,t,n,r){let o=-1;for(let i=t,s=!1;i!=e.dom;){let t,n=e.docView.nearestDesc(i,!0);if(!n)return null;if(1==n.dom.nodeType&&(n.node.isBlock&&n.parent||!n.contentDOM)&&((t=n.dom.getBoundingClientRect()).width||t.height)&&(n.node.isBlock&&n.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(n.dom.nodeName)&&(!s&&t.left>r.left||t.top>r.top?o=n.posBefore:(!s&&t.right<r.left||t.bottom<r.top)&&(o=n.posAfter),s=!0),!n.contentDOM&&o<0&&!n.node.isText))return(n.node.isBlock?r.top<(t.top+t.bottom)/2:r.left<(t.left+t.right)/2)?n.posBefore:n.posAfter;i=n.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}(e,n,o,t))}null==s&&(s=function(e,t,n){let{node:r,offset:o}=qN(t,n),i=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();i=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,o,i)}(e,a,t));let l=e.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function GN(e){return e.top<e.bottom||e.left<e.right}function $N(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(GN(e))return e}return Array.prototype.find.call(n,GN)||e.getBoundingClientRect()}const QN=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function JN(e,t,n){let{node:r,offset:o,atom:i}=e.docView.domFromPos(t,n<0?-1:1),s=MN||EN;if(3==r.nodeType){if(!s||!QN.test(r.nodeValue)&&(n<0?o:o!=r.nodeValue.length)){let e=o,t=o,i=n<0?1:-1;return n<0&&!o?(t++,i=-1):n>=0&&o==r.nodeValue.length?(e--,i=1):n<0?e--:t++,XN($N(uN(r,e,t),i),i<0)}{let e=$N(uN(r,o,o),n);if(EN&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let t=$N(uN(r,o-1,o-1),-1);if(t.top==e.top){let n=$N(uN(r,o,o+1),-1);if(n.top!=e.top)return XN(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(null==i&&o&&(n<0||o==fN(r))){let e=r.childNodes[o-1];if(1==e.nodeType)return ZN(e.getBoundingClientRect(),!1)}if(null==i&&o<fN(r)){let e=r.childNodes[o];if(1==e.nodeType)return ZN(e.getBoundingClientRect(),!0)}return ZN(r.getBoundingClientRect(),n>=0)}if(null==i&&o&&(n<0||o==fN(r))){let e=r.childNodes[o-1],t=3==e.nodeType?uN(e,fN(e)-(s?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return XN($N(t,1),!1)}if(null==i&&o<fN(r)){let e=r.childNodes[o];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?uN(e,0,s?0:1):1==e.nodeType?e:null:null;if(t)return XN($N(t,-1),!0)}return XN($N(3==r.nodeType?uN(r):r,-n),n>=0)}function XN(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function ZN(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function eO(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}const tO=/[\u0590-\u08ac]/;let nO=null,rO=null,oO=!1;function iO(e,t,n){return nO==t&&rO==n?oO:(nO=t,rO=n,oO="up"==n||"down"==n?function(e,t,n){let r=t.selection,o="up"==n?r.$from:r.$to;return eO(e,t,()=>{let{node:t}=e.docView.domFromPos(o.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let r=JN(e,o.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=uN(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let o=t[e];if(o.bottom>o.top+1&&("up"==n?r.top-o.top>2*(o.bottom-r.top):o.bottom-r.bottom>2*(r.bottom-o.top)))return!1}}return!0})}(e,t,n):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,s=o==r.parent.content.size,a=e.domSelection();return a?tO.test(r.parent.textContent)&&a.modify?eO(e,t,()=>{let{focusNode:t,focusOffset:o,anchorNode:i,anchorOffset:s}=e.domSelectionRange(),l=a.caretBidiLevel;a.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:u,focusOffset:d}=e.domSelectionRange(),h=u&&!c.contains(1==u.nodeType?u:u.parentNode)||t==u&&o==d;try{a.collapse(i,s),t&&(t!=i||o!=s)&&a.extend&&a.extend(t,o)}catch(p){}return null!=l&&(a.caretBidiLevel=l),h}):"left"==n||"backward"==n?i:s:r.pos==r.start()||r.pos==r.end()}(e,t,n))}class sO{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>aN(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(let n=!0,r=e;r;r=r.parentNode){let o,i=this.getDesc(r);if(i&&(!t||i.node)){if(!n||!(o=i.nodeDOM)||(1==o.nodeType?o.contains(1==e.nodeType?e:e.parentNode):o==e))return i;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)for(let e=0;e<r.children.length;e++){let t=r.children[e];if(t.size){r=t;break}}return r}if(e<o)return r.descAt(e-n-r.border);n=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let o=0;n<this.children.length;n++){let t=this.children[n],i=o+t.size;if(i>e||t instanceof pO){r=e-o;break}o=i}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof aO&&o.side>=0;n--);if(t<=0){let e,r=!0;for(;e=n?this.children[n-1]:null,e&&e.dom.parentNode!=this.contentDOM;n--,r=!1);return e&&t&&r&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?aN(e.dom)+1:0}}{let e,r=!0;for(;e=n<this.children.length?this.children[n]:null,e&&e.dom.parentNode!=this.contentDOM;n++,r=!1);return e&&r&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?aN(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let i=n,s=0;;s++){let n=this.children[s],a=i+n.size;if(-1==r&&e<=a){let o=i+n.border;if(e>=o&&t<=a-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,o);e=i;for(let t=s;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=aN(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(a>t||s==this.children.length-1)){t=a;for(let e=s+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){o=aN(n.dom);break}t+=n.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=a}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Math.min(e,t),i=Math.max(e,t);for(let p=0,f=0;p<this.children.length;p++){let s=this.children[p],a=f+s.size;if(o>f&&i<a)return s.setSelection(e-f-s.border,t-f-s.border,n,r);f=a}let s=this.domFromPos(e,e?-1:1),a=t==e?s:this.domFromPos(t,t?-1:1),l=n.root.getSelection(),c=n.domSelectionRange(),u=!1;if((EN||NN)&&e==t){let{node:e,offset:t}=s;if(3==e.nodeType){if(u=!(!t||"\n"!=e.nodeValue[t-1]),u&&t==e.nodeValue.length)for(let n,r=e;r;r=r.parentNode){if(n=r.nextSibling){"BR"==n.nodeName&&(s=a={node:n.parentNode,offset:aN(n)+1});break}let e=r.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];u=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(EN&&c.focusNode&&c.focusNode!=a.node&&1==c.focusNode.nodeType){let e=c.focusNode.childNodes[c.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||u&&NN)&&dN(s.node,s.offset,c.anchorNode,c.anchorOffset)&&dN(a.node,a.offset,c.focusNode,c.focusOffset))return;let d=!1;if((l.extend||e==t)&&(!u||!EN)){l.collapse(s.node,s.offset);try{e!=t&&l.extend(a.node,a.offset),d=!0}catch(h){}}if(!d){if(e>t){let e=s;s=a,a=e}let n=document.createRange();n.setEnd(a.node,a.offset),n.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){let r=n+o.border,s=i-o.border;if(e>=r&&t<=s)return this.dirty=e==n||t==i?2:1,void(e!=r||t!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-r,t-r):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}n=i}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class aO extends sO{constructor(e,t,n,r){let o,i=t.type.toDOM;if("function"==typeof i&&(i=i(n,()=>o?o.parent?o.parent.posBeforeChild(o):void 0:r)),!t.type.spec.raw){if(1!=i.nodeType){let e=document.createElement("span");e.appendChild(i),i=e}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class lO extends sO{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class cO extends sO{constructor(e,t,n,r,o){super(e,[],n,r),this.mark=t,this.spec=o}static create(e,t,n,r){let o=r.nodeViews[t.type.name],i=o&&o(t,r,n);return i&&i.dom||(i=dA.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new cO(e,t,i.dom,i.contentDOM||i.dom,i)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=cO.create(this.parent,this.mark,!0,n),o=this.children,i=this.size;t<i&&(o=EO(o,t,i,n)),e>0&&(o=EO(o,0,e,n));for(let s=0;s<o.length;s++)o[s].parent=r;return r.children=o,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class uO extends sO{constructor(e,t,n,r,o,i,s,a,l){super(e,[],o,i),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s}static create(e,t,n,r,o,i){let s,a=o.nodeViews[t.type.name],l=a&&a(t,o,()=>s?s.parent?s.parent.posBeforeChild(s):void 0:i,n,r),c=l&&l.dom,u=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else if(!c){let e=dA.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs);({dom:c,contentDOM:u}=e)}u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return c=xO(c,n,t),l?s=new fO(e,t,n,r,c,u||null,d,l,o,i+1):t.isText?new hO(e,t,n,r,c,d,o):new uO(e,t,n,r,c,u||null,d,o,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>uT.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&kO(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,o=e.composing?this.localCompositionInfo(e,t):null,i=o&&o.pos>-1?o:null,s=o&&o.pos<0,a=new CO(this,i&&i.node,e);!function(e,t,n,r){let o=t.locals(e),i=0;if(0==o.length){for(let n=0;n<e.childCount;n++){let s=e.child(n);r(s,o,t.forChild(i,s),n),i+=s.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d,h,p;for(;s<o.length&&o[s].to==i;){let e=o[s++];e.widget&&(u?(d||(d=[u])).push(e):u=e)}if(u)if(d){d.sort(SO);for(let e=0;e<d.length;e++)n(d[e],c,!!l)}else n(u,c,!!l);if(l)p=-1,h=l,l=null;else{if(!(c<e.childCount))break;p=c,h=e.child(c++)}for(let e=0;e<a.length;e++)a[e].to<=i&&a.splice(e--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)a.push(o[s++]);let f=i+h.nodeSize;if(h.isText){let e=f;s<o.length&&o[s].from<e&&(e=o[s].from);for(let t=0;t<a.length;t++)a[t].to<e&&(e=a[t].to);e<f&&(l=h.cut(e-i),h=h.cut(0,e-i),f=e,p=-1)}else for(;s<o.length&&o[s].to<f;)s++;r(h,h.isInline&&!h.isLeaf?a.filter(e=>!e.inline):a.slice(),t.forChild(i,h),p),i=f}}(this.node,this.innerDeco,(t,o,i)=>{t.spec.marks?a.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!i&&a.syncToMarks(o==this.node.childCount?fT.none:this.node.child(o).marks,n,e),a.placeWidget(t,e,r)},(t,i,l,c)=>{let u;a.syncToMarks(t.marks,n,e),a.findNodeMatch(t,i,l,c)||s&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(u=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(t,i,l,u,e)||a.updateNextNode(t,i,l,e,c,r)||a.addNode(t,i,l,e,r),r+=t.nodeSize}),a.syncToMarks([],n,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||2==this.dirty)&&(i&&this.protectLocalComposition(e,i),mO(this.contentDOM,this.children,e),ON&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof hD)||n<t||r>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let e=o.nodeValue,i=function(e,t,n,r){for(let o=0,i=0;o<e.childCount&&i<=r;){let s=e.child(o++),a=i;if(i+=s.nodeSize,!s.isText)continue;let l=s.text;for(;o<e.childCount;){let t=e.child(o++);if(i+=t.nodeSize,!t.isText)break;l+=t.text}if(i>=n){if(i>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let e=a<r?l.lastIndexOf(t,r-a-1):-1;if(e>=0&&e+t.length+a>=n)return a+e;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}(this.node.content,e,n-t,r-t);return i<0?null:{node:o,pos:i,text:e}}return{node:o,pos:-1,text:""}}protectLocalComposition(e,t){let{node:n,pos:r,text:o}=t;if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new lO(this,i,n,o);e.input.compositionNodes.push(s),this.children=EO(this.children,r,r+o.length,e,s)}update(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(kO(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=bO(this.dom,this.nodeDOM,yO(this.outerDeco,this.node,t),yO(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.nodeDOM.draggable=!0))}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function dO(e,t,n,r,o){xO(r,t,e);let i=new uO(void 0,e,t,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class hO extends uO{constructor(e,t,n,r,o,i,s){super(e,t,n,r,o,null,i,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),o=document.createTextNode(r.text);return new hO(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(e){return this.node.text==e}}class pO extends sO{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class fO extends uO{constructor(e,t,n,r,o,i,s,a,l,c){super(e,t,n,r,o,i,s,l,c),this.spec=a}update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,n);return o&&this.updateInner(e,t,n,r),o}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function mO(e,t,n){let r=e.firstChild,o=!1;for(let i=0;i<t.length;i++){let s=t[i],a=s.dom;if(a.parentNode==e){for(;a!=r;)r=_O(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(a,r);if(s instanceof cO){let t=r?r.previousSibling:e.lastChild;mO(s.contentDOM,s.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=_O(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const gO=function(e){e&&(this.nodeName=e)};gO.prototype=Object.create(null);const vO=[new gO];function yO(e,t,n){if(0==e.length)return vO;let r=n?vO[0]:new gO,o=[r];for(let i=0;i<e.length;i++){let s=e[i].type.attrs;if(s){s.nodeName&&o.push(r=new gO(s.nodeName));for(let e in s){let i=s[e];null!=i&&(n&&1==o.length&&o.push(r=new gO(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+i:"style"==e?r.style=(r.style?r.style+";":"")+i:"nodeName"!=e&&(r[e]=i))}}}return o}function bO(e,t,n,r){if(n==vO&&r==vO)return t;let o=t;for(let i=0;i<r.length;i++){let t=r[i],s=n[i];if(i){let n;s&&s.nodeName==t.nodeName&&o!=e&&(n=o.parentNode)&&n.nodeName.toLowerCase()==t.nodeName||(n=document.createElement(t.nodeName),n.pmIsDeco=!0,n.appendChild(o),s=vO[0]),o=n}wO(o,s||vO[0],t)}return o}function wO(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==o.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<o.length;t++)-1==r.indexOf(o[t])&&e.classList.add(o[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function xO(e,t,n){return bO(e,e,vO,yO(t,n,1!=e.nodeType))}function kO(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function _O(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class CO{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,o=e.childCount,i=new Map,s=[];e:for(;o>0;){let a;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof cO)){a=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(o-1))break;--o,i.set(a,o),s.push(a)}}return{index:o,matched:i,matches:s.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,o=this.stack.length>>1,i=Math.min(o,e.length);for(;r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[o])&&!this.isLocked(n.dom)){r=t;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=cO.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,n,r){let o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(let s=this.index,a=Math.min(this.top.children.length,s+5);s<a;s++){let r=this.top.children[s];if(r.matchesNode(e,t,n)&&!this.preMatch.matched.has(r)){i=s;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,n,r,o){let i=this.top.children[r];return 3==i.dirty&&i.dom==i.contentDOM&&(i.dirty=2),!!i.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,o,i){for(let s=this.index;s<this.top.children.length;s++){let a=this.top.children[s];if(a instanceof uO){let l=this.preMatch.matched.get(a);if(null!=l&&l!=o)return!1;let c,u=a.dom,d=this.isLocked(u)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&kO(t,a.outerDeco));if(!d&&a.update(e,t,n,r))return this.destroyBetween(this.index,s),a.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(c=this.recreateWrapper(a,e,t,n,r,i)))return this.destroyBetween(this.index,s),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(r,i+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,o,i){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!kO(n,e.outerDeco)||!r.eq(e.innerDeco))return null;let s=uO.create(this.top,t,n,r,o,i);if(s.contentDOM){s.children=e.children,e.children=[];for(let e of s.children)e.parent=s}return e.destroy(),s}addNode(e,t,n,r,o){let i=uO.create(this.top,e,t,n,r,o);i.contentDOM&&i.updateChildren(r,o+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new aO(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof cO;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof hO)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((NN||AN)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new pO(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function SO(e,t){return e.type.side-t.type.side}function EO(e,t,n,r,o){let i=[];for(let s=0,a=0;s<e.length;s++){let l=e[s],c=a,u=a+=l.size;c>=n||u<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),o&&(i.push(o),o=void 0),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function TO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a,l,c=r.resolve(s);if(gN(n)){for(a=s;o&&!o.node;)o=o.parent;let e=o.node;if(o&&e.isAtom&&fD.isSelectable(e)&&o.parent&&(!e.isInline||!function(e,t,n){for(let r=0==t,o=t==fN(e);r||o;){if(e==n)return!0;let t=aN(e);if(!(e=e.parentNode))return!1;r=r&&0==t,o=o&&t==fN(e)}}(n.focusNode,n.focusOffset,o.dom))){let e=o.posBefore;l=new fD(s==e?c:r.resolve(e))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let t=s,o=s;for(let r=0;r<n.rangeCount;r++){let i=n.getRangeAt(r);t=Math.min(t,e.docView.posFromDOM(i.startContainer,i.startOffset,1)),o=Math.max(o,e.docView.posFromDOM(i.endContainer,i.endOffset,-1))}if(t<0)return null;[a,s]=o==e.state.selection.anchor?[o,t]:[t,o],c=r.resolve(s)}else a=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null}let u=r.resolve(a);if(!l){l=RO(e,u,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1)}return l}function AO(e){return e.editable?e.hasFocus():LO(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function DO(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.state.selection;if(jO(e,n),AO(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&AN){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&dN(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r="IMG"==n.nodeName;r?t.collapse(n.parentNode,aN(n)+1):t.collapse(n,0);!r&&!e.state.selection.visible&&CN&&SN<=11&&(n.disabled=!0,n.disabled=!1)}(e);else{let r,o,{anchor:i,head:s}=n;!NO||n instanceof hD||(n.$from.parent.inlineContent||(r=OO(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=OO(e,n.to))),e.docView.setSelection(i,s,e,t),NO&&(r&&PO(r),o&&PO(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{AO(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")},20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const NO=NN||AN&&DN<63;function OO(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(NN&&o&&"false"==o.contentEditable)return IO(o);if((!o||"false"==o.contentEditable)&&(!i||"false"==i.contentEditable)){if(o)return IO(o);if(i)return IO(i)}}function IO(e){return e.contentEditable="true",NN&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function PO(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function jO(e,t){if(t instanceof fD){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(MO(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else MO(e)}function MO(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function RO(e,t,n,r){return e.someProp("createSelectionBetween",r=>r(e,t,n))||hD.between(t,n,r)}function FO(e){return!(e.editable&&!e.hasFocus())&&LO(e)}function LO(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function zO(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return i&&lD.findFrom(i,t)}function BO(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function UO(e,t,n){let r=e.state.selection;if(!(r instanceof hD)){if(r instanceof fD&&r.node.isInline)return BO(e,new hD(t>0?r.$to:r.$from));{let n=zO(e.state,t);return!!n&&BO(e,n)}}if(n.indexOf("s")>-1){let{$head:n}=r,o=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let i=e.state.doc.resolve(n.pos+o.nodeSize*(t<0?-1:1));return BO(e,new hD(r.$anchor,i))}if(!r.empty)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){let n=zO(e.state,t);return!!(n&&n instanceof fD)&&BO(e,n)}if(!(IN&&n.indexOf("m")>-1)){let n,o=r.$head,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText)return!1;let s=t<0?o.pos-i.nodeSize:o.pos;return!!(i.isAtom||(n=e.docView.descAt(s))&&!n.contentDOM)&&(fD.isSelectable(i)?BO(e,new fD(t<0?e.state.doc.resolve(o.pos-i.nodeSize):o)):!!MN&&BO(e,new hD(e.state.doc.resolve(t<0?s:s+i.nodeSize))))}}function VO(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function HO(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function qO(e,t){return t<0?function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,s=!1;EN&&1==n.nodeType&&r<VO(n)&&HO(n.childNodes[r],-1)&&(s=!0);for(;;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(HO(e,-1))o=n,i=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(WO(n))break;{let t=n.previousSibling;for(;t&&HO(t,-1);)o=n.parentNode,i=aN(t),t=t.previousSibling;if(t)n=t,r=VO(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?YO(e,n,r):o&&YO(e,o,i)}(e):function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,s=VO(n);for(;;)if(r<s){if(1!=n.nodeType)break;if(!HO(n.childNodes[r],1))break;o=n,i=++r}else{if(WO(n))break;{let t=n.nextSibling;for(;t&&HO(t,1);)o=t.parentNode,i=aN(t)+1,t=t.nextSibling;if(t)n=t,r=0,s=VO(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}}o&&YO(e,o,i)}(e)}function WO(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function YO(e,t,n){if(3!=t.nodeType){let e,r;(r=function(e,t){for(;e&&t==e.childNodes.length&&!mN(e);)t=aN(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=r,n=0):(e=function(e,t){for(;e&&!t&&!mN(e);)t=aN(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let r=e.domSelection();if(!r)return;if(gN(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout(()=>{e.state==o&&DO(e)},50)}function KO(e,t){let n=e.state.doc.resolve(t);if(!AN&&!PN&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function GO(e,t,n){let r=e.state.selection;if(r instanceof hD&&!r.empty||n.indexOf("s")>-1)return!1;if(IN&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=zO(e.state,t);if(n&&n instanceof fD)return BO(e,n)}if(!o.parent.inlineContent){let n=t<0?o:i,s=r instanceof gD?lD.near(n,t):lD.findFrom(n,t);return!!s&&BO(e,s)}return!1}function $O(e,t){if(!(e.state.selection instanceof hD))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let r=e.state.tr;return t<0?r.delete(n.pos-i.nodeSize,n.pos):r.delete(n.pos,n.pos+i.nodeSize),e.dispatch(r),!0}return!1}function QO(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function JO(e,t){let n=t.keyCode,r=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);if(8==n||IN&&72==n&&"c"==r)return $O(e,-1)||qO(e,-1);if(46==n&&!t.shiftKey||IN&&68==n&&"c"==r)return $O(e,1)||qO(e,1);if(13==n||27==n)return!0;if(37==n||IN&&66==n&&"c"==r){let t=37==n?"ltr"==KO(e,e.state.selection.from)?-1:1:-1;return UO(e,t,r)||qO(e,t)}if(39==n||IN&&70==n&&"c"==r){let t=39==n?"ltr"==KO(e,e.state.selection.from)?1:-1:1;return UO(e,t,r)||qO(e,t)}return 38==n||IN&&80==n&&"c"==r?GO(e,-1,r)||qO(e,-1):40==n||IN&&78==n&&"c"==r?function(e){if(!NN||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;QO(e,n,"true"),setTimeout(()=>QO(e,n,"false"),20)}return!1}(e)||GO(e,1,r)||qO(e,1):r==(IN?"m":"c")&&(66==n||73==n||89==n||90==n)}function XO(e,t){e.someProp("transformCopied",n=>{t=n(t,e)});let n=[],{content:r,openStart:o,openEnd:i}=t;for(;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let s=e.someProp("clipboardSerializer")||dA.fromSchema(e.state.schema),a=lI(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c,u=l.firstChild,d=0;for(;u&&1==u.nodeType&&(c=sI[u.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=a.createElement(c[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),d++}u=l.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice","".concat(o," ").concat(i).concat(d?" -".concat(d):""," ").concat(JSON.stringify(n))),{dom:l,text:e.someProp("clipboardTextSerializer",n=>n(t,e))||t.content.textBetween(0,t.content.size,"\n\n"),slice:t}}function ZO(e,t,n,r,o){let i,s,a=o.parent.type.spec.code;if(!n&&!t)return null;let l=!!t&&(r||a||!n);if(l){if(e.someProp("transformPastedText",n=>{t=n(t,a||r,e)}),a)return s=new gT(uT.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0),e.someProp("transformPasted",t=>{s=t(s,e,!0)}),s;let n=e.someProp("clipboardTextParser",n=>n(t,o,r,e));if(n)s=n;else{let n=o.marks(),{schema:r}=e.state,s=dA.fromSchema(r);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(e=>{let t=i.appendChild(document.createElement("p"));e&&t.appendChild(s.serializeNode(r.text(e,n)))})}}else e.someProp("transformPastedHTML",t=>{n=t(n,e)}),i=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=lI().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);(n=o&&sI[o[1].toLowerCase()])&&(e=n.map(e=>"<"+e+">").join("")+e+n.map(e=>"</"+e+">").reverse().join(""));if(r.innerHTML=function(e){let t=window.trustedTypes;if(!t)return e;cI||(cI=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e}));return cI.createHTML(e)}(e),n)for(let i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}(n),MN&&function(e){let t=e.querySelectorAll(AN?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(i);let c=i&&i.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let e=i.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;i=e}if(!s){let t=e.someProp("clipboardParser")||e.someProp("domParser")||tA.fromSchema(e.state.schema);s=t.parseSlice(i,{preserveWhitespace:!(!l&&!u),context:o,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||eI.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(u)s=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(G1){return e}let{content:o,openStart:i,openEnd:s}=e;for(let a=n.length-2;a>=0;a-=2){let e=r.nodes[n[a]];if(!e||e.hasRequiredAttrs())break;o=uT.from(e.create(n[a+1],o)),i++,s++}return new gT(o,i,s)}(iI(s,+u[1],+u[2]),u[4]);else if(s=gT.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,o=t.node(n).contentMatchAt(t.index(n)),i=[];if(e.forEach(e=>{if(!i)return;let t,n=o.findWrapping(e.type);if(!n)return i=null;if(t=i.length&&r.length&&nI(n,r,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=rI(i[i.length-1],r.length));let t=tI(e,n);i.push(t),o=o.matchType(t.type),r=n}}),i)return uT.from(i)}return e}(s.content,o),!0),s.openStart||s.openEnd){let e=0,t=0;for(let n=s.content.firstChild;e<s.openStart&&!n.type.spec.isolating;e++,n=n.firstChild);for(let n=s.content.lastChild;t<s.openEnd&&!n.type.spec.isolating;t++,n=n.lastChild);s=iI(s,e,t)}return e.someProp("transformPasted",t=>{s=t(s,e,l)}),s}const eI=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function tI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(let r=t.length-1;r>=n;r--)e=t[r].create(null,uT.from(e));return e}function nI(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let i=nI(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(uT.from(tI(n,e,o+1))))}}function rI(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,rI(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(uT.empty,!0);return e.copy(n.append(r))}function oI(e,t,n,r,o,i){let s=t<0?e.firstChild:e.lastChild,a=s.content;return e.childCount>1&&(i=0),o<r-1&&(a=oI(a,t,n,r,o+1,i)),o>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,i<=o).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(uT.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function iI(e,t,n){return t<e.openStart&&(e=new gT(oI(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new gT(oI(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const sI={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let aI=null;function lI(){return aI||(aI=document.implementation.createHTMLDocument("title"))}let cI=null;const uI={},dI={},hI={touchstart:!0,touchmove:!0};class pI{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function fI(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function mI(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>gI(e,t))})}function gI(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)})}function vI(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function yI(e){return{left:e.clientX,top:e.clientY}}function bI(e,t,n,r,o){if(-1==r)return!1;let i=e.state.doc.resolve(r);for(let s=i.depth+1;s>0;s--)if(e.someProp(t,t=>s>i.depth?t(e,n,i.nodeAfter,i.before(s),o,!0):t(e,n,i.node(s),i.before(s),o,!1)))return!0;return!1}function wI(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function xI(e,t,n,r,o){return bI(e,"handleClickOn",t,n,r)||e.someProp("handleClick",n=>n(e,t,r))||(o?function(e,t){if(-1==t)return!1;let n,r,o=e.state.selection;o instanceof fD&&(n=o.node);let i=e.state.doc.resolve(t);for(let s=i.depth+1;s>0;s--){let e=s>i.depth?i.nodeAfter:i.node(s);if(fD.isSelectable(e)){r=n&&o.$from.depth>0&&s>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(s);break}}return null!=r&&(wI(e,fD.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&fD.isSelectable(r))&&(wI(e,new fD(n),"pointer"),!0)}(e,n))}function kI(e,t,n,r){return bI(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",n=>n(e,t,r))}function _I(e,t,n,r){return bI(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",n=>n(e,t,r))||function(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(wI(e,hD.create(r,0,r.content.size),"pointer"),!0);let o=r.resolve(t);for(let i=o.depth+1;i>0;i--){let t=i>o.depth?o.nodeAfter:o.node(i),n=o.before(i);if(t.inlineContent)wI(e,hD.create(r,n+1,n+1+t.content.size),"pointer");else{if(!fD.isSelectable(t))continue;wI(e,fD.create(r,n),"pointer")}return!0}}(e,n,r)}function CI(e){return II(e)}dI.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!TI(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!jN||!AN||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!ON||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",t=>t(e,n))||JO(e,n)?n.preventDefault():fI(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",t=>t(e,vN(13,"Enter"))),e.input.lastIOSEnter=0)},200)}},dI.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},dI.keypress=(e,t)=>{let n=t;if(TI(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||IN&&n.metaKey)return;if(e.someProp("handleKeyPress",t=>t(e,n)))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof hD)||!r.$from.sameParent(r.$to)){let t=String.fromCharCode(n.charCode),o=()=>e.state.tr.insertText(t).scrollIntoView();/[\r\n]/.test(t)||e.someProp("handleTextInput",n=>n(e,r.$from.pos,r.$to.pos,t,o))||e.dispatch(o()),n.preventDefault()}};const SI=IN?"metaKey":"ctrlKey";uI.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=CI(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[SI]&&e.input.lastClick.button==n.button&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i,button:n.button};let s=e.posAtCoords(yI(n));s&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new EI(e,s,n,!!r)):("doubleClick"==i?kI:_I)(e,s.pos,s.inside,n)?n.preventDefault():fI(e,"pointer"))};class EI{constructor(e,t,n,r){let o,i;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[SI],this.allowDefault=n.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),i=t.inside;else{let n=e.state.doc.resolve(t.pos);o=n.parent,i=n.depth?n.before():0}const s=r?null:n.target,a=s?e.docView.nearestDesc(s,!0):null;this.target=a&&1==a.nodeDOM.nodeType?a.nodeDOM:null;let{selection:l}=e.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||l instanceof fD&&l.from<=i&&l.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!EN||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),fI(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>DO(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(yI(e))),this.updateAllowDefault(e),this.allowDefault||!t?fI(this.view,"pointer"):xI(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||NN&&this.mightDrag&&!this.mightDrag.node.isAtom||AN&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(wI(this.view,lD.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):fI(this.view,"pointer")}move(e){this.updateAllowDefault(e),fI(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function TI(e,t){return!!e.composing||!!(NN&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}uI.touchstart=e=>{e.input.lastTouch=Date.now(),CI(e),fI(e,"pointer")},uI.touchmove=e=>{e.input.lastTouch=Date.now(),fI(e,"pointer")},uI.contextmenu=e=>CI(e);const AI=jN?5e3:-1;function DI(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>II(e),t))}function NI(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function OI(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=function(e,t){for(;;){if(3==e.nodeType&&t)return e;if(1==e.nodeType&&t>0){if("false"==e.contentEditable)return null;t=fN(e=e.childNodes[t-1])}else{if(!e.parentNode||mN(e))return null;t=aN(e),e=e.parentNode}}}(t.focusNode,t.focusOffset),r=function(e,t){for(;;){if(3==e.nodeType&&t<e.nodeValue.length)return e;if(1==e.nodeType&&t<e.childNodes.length){if("false"==e.contentEditable)return null;e=e.childNodes[t],t=0}else{if(!e.parentNode||mN(e))return null;t=aN(e)+1,e=e.parentNode}}}(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let t=r.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!t||!t.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let e=n.pmViewDesc;if(e&&e.isText(n.nodeValue))return r}}return n||r}function II(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(jN&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),NI(e),t||e.docView&&e.docView.dirty){let n=TO(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):!e.markCursor&&!t||r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.updateState(e.state):e.dispatch(e.state.tr.deleteSelection()),!0}return!1}}dI.compositionstart=dI.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof hD&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive)))e.markCursor=e.state.storedMarks||n.marks(),II(e,!0),e.markCursor=null;else if(II(e,!t.selection.empty),EN&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){let n=e.domSelection();n&&n.collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}DI(e,AI)},dI.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,DI(e,20))};const PI=CN&&SN<15||ON&&RN<604;function jI(e,t,n,r,o){let i=ZO(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",t=>t(e,o,i||gT.empty)))return!0;if(!i)return!1;let s=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),a=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(i);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function MI(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}uI.copy=dI.cut=(e,t)=>{let n=t,r=e.state.selection,o="cut"==n.type;if(r.empty)return;let i=PI?null:n.clipboardData,s=r.content(),{dom:a,text:l}=XO(e,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",l)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}(e,a),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},dI.paste=(e,t)=>{let n=t;if(e.composing&&!jN)return;let r=PI?null:n.clipboardData,o=e.input.shiftKey&&45!=e.input.lastKeyCode;r&&jI(e,MI(r),r.getData("text/html"),o,n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?jI(e,r.value,null,o,t):jI(e,r.textContent,r.innerHTML,o,t)},50)}(e,n)};class RI{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const FI=IN?"altKey":"ctrlKey";function LI(e,t){let n=e.someProp("dragCopies",e=>!e(t));return null!=n?n:!t[FI]}uI.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o,i=e.state.selection,s=i.empty?null:e.posAtCoords(yI(n));if(s&&s.pos>=i.from&&s.pos<=(i instanceof fD?i.to-1:i.to));else if(r&&r.mightDrag)o=fD.create(e.state.doc,r.mightDrag.pos);else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&(o=fD.create(e.state.doc,t.posBefore))}let a=(o||e.state.selection).content(),{dom:l,text:c,slice:u}=XO(e,a);(!n.dataTransfer.files.length||!AN||DN>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(PI?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",PI||n.dataTransfer.setData("text/plain",c),e.dragging=new RI(u,LI(e,n),o)},uI.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)},dI.dragover=dI.dragenter=(e,t)=>t.preventDefault(),dI.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let o=e.posAtCoords(yI(n));if(!o)return;let i=e.state.doc.resolve(o.pos),s=r&&r.slice;s?e.someProp("transformPasted",t=>{s=t(s,e,!1)}):s=ZO(e,MI(n.dataTransfer),PI?null:n.dataTransfer.getData("text/html"),!1,i);let a=!(!r||!LI(e,n));if(e.someProp("handleDrop",t=>t(e,n,s||gT.empty,a)))return void n.preventDefault();if(!s)return;n.preventDefault();let l=s?WA(e.state.doc,i.pos,s):i.pos;null==l&&(l=i.pos);let c=e.state.tr;if(a){let{node:e}=r;e?e.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,h=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(h))return;let p=c.doc.resolve(u);if(d&&fD.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new fD(p));else{let t=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((e,n,r,o)=>t=o),c.setSelection(RO(e,p,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},uI.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&DO(e)},20))},uI.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},uI.beforeinput=(e,t)=>{if(AN&&jN&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",t=>t(e,vN(8,"Backspace"))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}};for(let n in dI)uI[n]=dI[n];function zI(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class BI{constructor(e,t){this.toDOM=e,this.spec=t||WI,this.side=this.spec.side||0}map(e,t,n,r){let{pos:o,deleted:i}=e.mapResult(t.from+r,this.side<0?-1:1);return i?null:new HI(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof BI&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&zI(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class UI{constructor(e,t){this.attrs=e,this.spec=t||WI}map(e,t,n,r){let o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new HI(o,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof UI&&zI(this.attrs,e.attrs)&&zI(this.spec,e.spec)}static is(e){return e.type instanceof UI}destroy(){}}class VI{constructor(e,t){this.attrs=e,this.spec=t||WI}map(e,t,n,r){let o=e.mapResult(t.from+r,1);if(o.deleted)return null;let i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new HI(o.pos-n,i.pos-n,this)}valid(e,t){let n,{index:r,offset:o}=e.content.findIndex(t.from);return o==t.from&&!(n=e.child(r)).isText&&o+n.nodeSize==t.to}eq(e){return this==e||e instanceof VI&&zI(this.attrs,e.attrs)&&zI(this.spec,e.spec)}destroy(){}}class HI{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new HI(e,t,this.type)}eq(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new HI(e,e,new BI(t,n))}static inline(e,t,n,r){return new HI(e,t,new UI(n,r))}static node(e,t,n,r){return new HI(e,t,new VI(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof UI}get widget(){return this.type instanceof BI}}const qI=[],WI={};class YI{constructor(e,t){this.local=e.length?e:qI,this.children=t.length?t:qI}static create(e,t){return t.length?XI(t,e,0,WI):KI}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,o){for(let i=0;i<this.local.length;i++){let s=this.local[i];s.from<=t&&s.to>=e&&(!o||o(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let s=this.children[i]+1;this.children[i+2].findInner(e-s,t-s,n,r+s,o)}}map(e,t,n){return this==KI||0==e.maps.length?this:this.mapInner(e,t,0,0,n||WI)}mapInner(e,t,n,r,o){let i;for(let s=0;s<this.local.length;s++){let a=this.local[s].map(e,n,r);a&&a.type.valid(t,a)?(i||(i=[])).push(a):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,r,o,i,s){let a=e.slice();for(let c=0,u=i;c<n.maps.length;c++){let e=0;n.maps[c].forEach((t,n,r,o)=>{let i=o-r-(n-t);for(let s=0;s<a.length;s+=3){let r=a[s+1];if(r<0||t>r+u-e)continue;let o=a[s]+u-e;n>=o?a[s+1]=t<=o?-2:-1:t>=u&&i&&(a[s]+=i,a[s+1]+=i)}e+=i}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(-2==a[c+1]){l=!0,a[c+1]=-1;continue}let t=n.map(e[c]+i),u=t-o;if(u<0||u>=r.content.size){l=!0;continue}let d=n.map(e[c+1]+i,-1)-o,{index:h,offset:p}=r.content.findIndex(u),f=r.maybeChild(h);if(f&&p==u&&p+f.nodeSize==d){let r=a[c+2].mapInner(n,f,t+1,e[c]+i+1,s);r!=KI?(a[c]=u,a[c+1]=d,a[c+2]=r):(a[c+1]=-2,l=!0)}else l=!0}if(l){let l=function(e,t,n,r,o,i,s){function a(e,t){for(let i=0;i<e.local.length;i++){let a=e.local[i].map(r,o,t);a?n.push(a):s.onRemove&&s.onRemove(e.local[i].spec)}for(let n=0;n<e.children.length;n+=3)a(e.children[n+2],e.children[n]+t+1)}for(let l=0;l<e.length;l+=3)-1==e[l+1]&&a(e[l+2],t[l]+i+1);return n}(a,e,t,n,o,i,s),c=XI(l,r,0,s);t=c.local;for(let e=0;e<a.length;e+=3)a[e+1]<0&&(a.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<a.length&&a[t]<n;)t+=3;a.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new YI(t.sort(ZI),a)}(this.children,i||[],e,t,n,r,o):i?new YI(i.sort(ZI),qI):KI}add(e,t){return t.length?this==KI?YI.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,o=0;e.forEach((e,i)=>{let s,a=i+n;if(s=QI(t,e,a)){for(r||(r=this.children.slice());o<r.length&&r[o]<i;)o+=3;r[o]==i?r[o+2]=r[o+2].addInner(e,s,a+1):r.splice(o,0,i,i+e.nodeSize,XI(s,e,a+1,WI)),o+=3}});let i=$I(o?JI(t):t,-n);for(let s=0;s<i.length;s++)i[s].type.valid(e,i[s])||i.splice(s--,1);return new YI(i.length?this.local.concat(i).sort(ZI):this.local,r||this.children)}remove(e){return 0==e.length||this==KI?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let o=0;o<n.length;o+=3){let r,i=n[o]+t,s=n[o+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>i&&t.to<s&&(e[n]=null,(r||(r=[])).push(t));if(!r)continue;n==this.children&&(n=this.children.slice());let a=n[o+2].removeInner(r,i+1);a!=KI?n[o+2]=a:(n.splice(o,3),o-=3)}if(r.length)for(let o,i=0;i<e.length;i++)if(o=e[i])for(let e=0;e<r.length;e++)r[e].eq(o,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new YI(r,n):KI}forChild(e,t){if(this==KI)return this;if(t.isLeaf)return YI.empty;let n,r;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let o=e+1,i=o+t.content.size;for(let s=0;s<this.local.length;s++){let e=this.local[s];if(e.from<i&&e.to>o&&e.type instanceof UI){let t=Math.max(o,e.from)-o,n=Math.min(i,e.to)-o;t<n&&(r||(r=[])).push(e.copy(t,n))}}if(r){let e=new YI(r.sort(ZI),qI);return n?new GI([e,n]):e}return n||KI}eq(e){if(this==e)return!0;if(!(e instanceof YI)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return eP(this.localsInner(e))}localsInner(e){if(this==KI)return qI;if(e.inlineContent||!this.local.some(UI.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof UI||t.push(this.local[n]);return t}forEachSet(e){e(this)}}YI.empty=new YI([],[]),YI.removeOverlap=eP;const KI=YI.empty;class GI{constructor(e){this.members=e}map(e,t){const n=this.members.map(n=>n.map(e,t,WI));return GI.from(n)}forChild(e,t){if(t.isLeaf)return YI.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(e,t);o!=KI&&(o instanceof GI?n=n.concat(o.members):n.push(o))}return GI.from(n)}eq(e){if(!(e instanceof GI)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<o.length;e++)t.push(o[e])}else t=o}return t?eP(n?t:t.sort(ZI)):qI}static from(e){switch(e.length){case 0:return KI;case 1:return e[0];default:return new GI(e.every(e=>e instanceof YI)?e:e.reduce((e,t)=>e.concat(t instanceof YI?t:t.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function $I(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new HI(o.from+t,o.to+t,o.type))}return n}function QI(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let i,s=0;s<e.length;s++)(i=e[s])&&i.from>n&&i.to<r&&((o||(o=[])).push(i),e[s]=null);return o}function JI(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function XI(e,t,n,r){let o=[],i=!1;t.forEach((t,s)=>{let a=QI(e,t,s+n);if(a){i=!0;let e=XI(a,t,n+s+1,r);e!=KI&&o.push(s,s+t.nodeSize,e)}});let s=$I(i?JI(e):e,-n).sort(ZI);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new YI(s,o):KI}function ZI(e,t){return e.from-t.from||e.to-t.to}function eP(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),tP(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),tP(t,o+1,i.copy(r.to,i.to)))}}return t}function tP(e,t,n){for(;t<e.length&&ZI(n,e[t])>0;)t++;e.splice(t,0,n)}function nP(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=KI&&t.push(r)}),e.cursorWrapper&&t.push(YI.create(e.state.doc,[e.cursorWrapper.deco])),GI.from(t)}const rP={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},oP=CN&&SN<=11;class iP{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class sP{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new iP,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);CN&&SN<=11&&e.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),oP&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,rP)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(FO(this.view)){if(this.suppressingSelectionUpdates)return DO(this.view);if(CN&&SN<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&dN(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let o=e.focusNode;o;o=lN(o))n.add(o);for(let o=e.anchorNode;o;o=lN(o))if(n.has(o)){t=o;break}let r=t&&this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&FO(e)&&!this.ignoreSelectionChange(n),o=-1,i=-1,s=!1,a=[];if(e.editable)for(let c=0;c<t.length;c++){let e=this.registerMutation(t[c],a);e&&(o=o<0?e.from:Math.min(e.from,o),i=i<0?e.to:Math.max(e.to,i),e.typeOver&&(s=!0))}if(EN&&a.length){let t=a.filter(e=>"BR"==e.nodeName);if(2==t.length){let[e,n]=t;e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}else{let{focusNode:n}=this.currentSelection;for(let r of t){let t=r.parentNode;!t||"LI"!=t.nodeName||n&&uP(e,n)==t||r.remove()}}}let l=null;o<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&gN(n)&&(l=TO(e))&&l.eq(lD.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,DO(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||r)&&(o>-1&&(e.docView.markDirty(o,i),function(e){if(aP.has(e))return;if(aP.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)){if(e.requiresGeckoHackNode=EN,lP)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),lP=!0}}(e)),this.handleDOMChange(o,i,s,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||DO(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++){let r=e.addedNodes[n];t.push(r),3==r.nodeType&&(this.lastChangedTextNode=r)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,o=e.nextSibling;if(CN&&SN<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:i}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!i||Array.prototype.indexOf.call(e.addedNodes,i)<0)&&(o=i)}let i=r&&r.parentNode==e.target?aN(r)+1:0,s=n.localPosFromDOM(e.target,i,-1),a=o&&o.parentNode==e.target?aN(o):e.target.childNodes.length;return{from:s,to:n.localPosFromDOM(e.target,a,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let aP=new WeakMap,lP=!1;function cP(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return dN(s.node,s.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function uP(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let t=e.docView.nearestDesc(n,!0);if(t&&t.node.isBlock)return n}return null}function dP(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(NN&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||NN&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const hP=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function pP(e,t,n,r,o){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=TO(e,t);if(n&&!e.state.selection.eq(n)){if(AN&&jN&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",t=>t(e,vN(13,"Enter"))))return;let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),i&&r.setMeta("composition",i),e.dispatch(r)}return}let s=e.state.doc.resolve(t),a=s.sharedDepth(n);t=s.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l,c,u=e.state.selection,d=function(e,t,n){let r,{node:o,fromOffset:i,toOffset:s,from:a,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:c.anchorOffset}],gN(c)||r.push({node:c.focusNode,offset:c.focusOffset})),AN&&8===e.input.lastKeyCode)for(let g=s;g>i;g--){let e=o.childNodes[g-1],t=e.pmViewDesc;if("BR"==e.nodeName&&!t){s=g;break}if(!t||t.size)break}let d=e.state.doc,h=e.someProp("domParser")||tA.fromSchema(e.state.schema),p=d.resolve(a),f=null,m=h.parse(o,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:r,ruleFromNode:dP,context:p});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),f={anchor:e+a,head:t+a}}return{doc:m,sel:f,from:a,to:l}}(e,t,n),h=e.state.doc,p=h.slice(d.from,d.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(l=e.state.selection.to,c="end"):(l=e.state.selection.from,c="start"),e.input.lastKeyCode=null;let f=function(e,t,n,r,o){let i=e.findDiffStart(t,n);if(null==i)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==o){r-=s+Math.max(0,i-Math.min(s,a))-i}if(s<i&&e.size<t.size){let e=r<=i&&r>=s?i-r:0;i-=e,i&&i<t.size&&gP(t.textBetween(i-1,i+1))&&(i+=e?1:-1),a=i+(a-s),s=i}else if(a<i){let t=r<=i&&r>=a?i-r:0;i-=t,i&&i<e.size&&gP(e.textBetween(i-1,i+1))&&(i+=t?1:-1),s=i+(s-a),a=i}return{start:i,endA:s,endB:a}}(p.content,d.doc.content,d.from,l,c);if(f&&e.input.domChangeCount++,(ON&&e.input.lastIOSEnter>Date.now()-225||jN)&&o.some(e=>1==e.nodeType&&!hP.test(e.nodeName))&&(!f||f.endA>=f.endB)&&e.someProp("handleKeyDown",t=>t(e,vN(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(!f){if(!(r&&u instanceof hD&&!u.empty&&u.$head.sameParent(u.$anchor))||e.composing||d.sel&&d.sel.anchor!=d.sel.head){if(d.sel){let t=fP(e,e.state.doc,d.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);i&&n.setMeta("composition",i),e.dispatch(n)}}return}f={start:u.from,endA:u.to,endB:u.to}}e.state.selection.from<e.state.selection.to&&f.start==f.endB&&e.state.selection instanceof hD&&(f.start>e.state.selection.from&&f.start<=e.state.selection.from+2&&e.state.selection.from>=d.from?f.start=e.state.selection.from:f.endA<e.state.selection.to&&f.endA>=e.state.selection.to-2&&e.state.selection.to<=d.to&&(f.endB+=e.state.selection.to-f.endA,f.endA=e.state.selection.to)),CN&&SN<=11&&f.endB==f.start+1&&f.endA==f.start&&f.start>d.from&&" \xa0"==d.doc.textBetween(f.start-d.from-1,f.start-d.from+1)&&(f.start--,f.endA--,f.endB--);let m=d.doc.resolveNoCache(f.start-d.from),g=d.doc.resolveNoCache(f.endB-d.from),v=h.resolve(f.start),y=m.sameParent(g)&&m.parent.inlineContent&&v.end()>=f.endA;if((ON&&e.input.lastIOSEnter>Date.now()-225&&(!y||o.some(e=>"DIV"==e.nodeName||"P"==e.nodeName))||!y&&m.pos<d.doc.content.size&&(!m.sameParent(g)||!m.parent.inlineContent)&&m.pos<g.pos&&!/\S/.test(d.doc.textBetween(m.pos,g.pos,"","")))&&e.someProp("handleKeyDown",t=>t(e,vN(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>f.start&&function(e,t,n,r,o){if(n-t<=o.pos-r.pos||mP(r,!0,!1)<o.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let e=i.nodeAfter;return null!=e&&n==t+e.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=e.resolve(mP(i,!0,!0));return!(!s.parent.isTextblock||s.pos>n||mP(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(h,f.start,f.endA,m,g)&&e.someProp("handleKeyDown",t=>t(e,vN(8,"Backspace"))))return void(jN&&AN&&e.domObserver.suppressSelectionUpdates());AN&&f.endB==f.start&&(e.input.lastChromeDelete=Date.now()),jN&&!y&&m.start()!=g.start()&&0==g.parentOffset&&m.depth==g.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==f.endA&&(f.endB-=2,g=d.doc.resolveNoCache(f.endB-d.from),setTimeout(()=>{e.someProp("handleKeyDown",function(t){return t(e,vN(13,"Enter"))})},20));let b,w=f.start,x=f.endA,k=t=>{let n=t||e.state.tr.replace(w,x,d.doc.slice(f.start-d.from,f.endB-d.from));if(d.sel){let t=fP(e,n.doc,d.sel);t&&!(AN&&e.composing&&t.empty&&(f.start!=f.endB||e.input.lastChromeDelete<Date.now()-100)&&(t.head==w||t.head==n.mapping.map(x)-1)||CN&&t.empty&&t.head==w)&&n.setSelection(t)}return i&&n.setMeta("composition",i),n.scrollIntoView()};if(y)if(m.pos==g.pos){CN&&SN<=11&&0==m.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>DO(e),20));let t=k(e.state.tr.delete(w,x)),n=h.resolve(f.start).marksAcross(h.resolve(f.endA));n&&t.ensureMarks(n),e.dispatch(t)}else if(f.endA==f.endB&&(b=function(e,t){let n,r,o,i=e.firstChild.marks,s=t.firstChild.marks,a=i,l=s;for(let u=0;u<s.length;u++)a=s[u].removeFromSet(a);for(let u=0;u<i.length;u++)l=i[u].removeFromSet(l);if(1==a.length&&0==l.length)r=a[0],n="add",o=e=>e.mark(r.addToSet(e.marks));else{if(0!=a.length||1!=l.length)return null;r=l[0],n="remove",o=e=>e.mark(r.removeFromSet(e.marks))}let c=[];for(let u=0;u<t.childCount;u++)c.push(o(t.child(u)));if(uT.from(c).eq(e))return{mark:r,type:n}}(m.parent.content.cut(m.parentOffset,g.parentOffset),v.parent.content.cut(v.parentOffset,f.endA-v.start())))){let t=k(e.state.tr);"add"==b.type?t.addMark(w,x,b.mark):t.removeMark(w,x,b.mark),e.dispatch(t)}else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let t=m.parent.textBetween(m.parentOffset,g.parentOffset),n=()=>k(e.state.tr.insertText(t,w,x));e.someProp("handleTextInput",r=>r(e,w,x,t,n))||e.dispatch(n())}else e.dispatch(k());else e.dispatch(k())}function fP(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:RO(e,t.resolve(n.anchor),t.resolve(n.head))}function mP(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,o++}return o}function gP(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class vP{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new pI,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(kP),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=wP(this),bP(this),this.nodeViews=xP(this),this.docView=dO(this.state.doc,yP(this),nP(this),this.dom,this),this.domObserver=new sP(this,(e,t,n,r)=>pP(this,e,t,n,r)),this.domObserver.start(),function(e){for(let t in uI){let n=uI[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!vI(e,t)||gI(e,t)||!e.editable&&t.type in dI||n(e,t)},hI[t]?{passive:!0}:void 0)}NN&&e.dom.addEventListener("input",()=>null),mI(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&mI(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(kP),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let r=this.state,o=!1,i=!1;e.storedMarks&&this.composing&&(NI(this),i=!0),this.state=e;let s=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(s||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=xP(this);(function(e,t){let n=0,r=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let o in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,o=!0)}(s||t.handleDOMEvents!=this._props.handleDOMEvents)&&mI(this),this.editable=wP(this),bP(this);let a=nP(this),l=yP(this),c=r.plugins==e.plugins||r.doc.eq(e.doc)?e.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",u=o||!this.docView.matchesNode(e.doc,l,a);!u&&e.selection.eq(r.selection)||(i=!0);let d="preserve"==c&&i&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top);for(let i=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){let r=e.root.elementFromPoint(i,s);if(!r||r==e.dom||!e.dom.contains(r))continue;let a=r.getBoundingClientRect();if(a.top>=o-20){t=r,n=a.top;break}}return{refDOM:t,refTop:n,stack:UN(e.dom)}}(this);if(i){this.domObserver.stop();let t=u&&(CN||AN)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(r.selection,e.selection);if(u){let n=AN?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=OI(this)),!o&&this.docView.update(e.doc,l,a,this)||(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=dO(e.doc,l,a,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return dN(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?DO(this,t):(jO(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():d&&function(e){let{refDOM:t,refTop:n,stack:r}=e,o=t?t.getBoundingClientRect().top:0;VN(r,0==o?0:o-n)}(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(e&&this.dom.contains(1==e.nodeType?e:e.parentNode))if(this.someProp("handleScrollToSelection",e=>e(this)));else if(this.state.selection instanceof fD){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&BN(this,t.getBoundingClientRect(),e)}else BN(this,this.coordsAtPos(this.state.selection.head,1),e);else;}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(r=e)}this.dragging=new RI(e.slice,e.move,r<0?void 0:fD.create(this.state.doc,r))}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let i=0;i<this.directPlugins.length;i++){let r=this.directPlugins[i].props[e];if(null!=r&&(n=t?t(r):r))return n}let o=this.state.plugins;if(o)for(let i=0;i<o.length;i++){let r=o[i].props[e];if(null!=r&&(n=t?t(r):r))return n}}hasFocus(){if(CN){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(HN)return e.focus(HN);let t=UN(e);e.focus(null==HN?{get preventScroll(){return HN={preventScroll:!0},!0}}:void 0),HN||(HN=!1,VN(t,0))}(this.dom),DO(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return e||document}updateRoot(){this._root=null}posAtCoords(e){return KN(this,e)}coordsAtPos(e){return JN(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}domAtPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return iO(this,t||this.state,e)}pasteHTML(e,t){return jI(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return jI(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return XO(this,e)}destroy(){this.docView&&(!function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],nP(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,cN=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){gI(e,t)||!uI[t.type]||!e.editable&&t.type in dI||uI[t.type](e,t)}(this,e)}domSelectionRange(){let e=this.domSelection();return e?NN&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return cP(e,n)}let n;function r(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?cP(e,n):null}(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function yP(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))}),t.translate||(t.translate="no"),[HI.node(0,e.state.doc.content.size,t)]}function bP(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:HI.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function wP(e){return!e.someProp("editable",t=>!1===t(e.state))}function xP(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function kP(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}vP.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};for(var _P={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},CP={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},SP="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),EP="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),TP=0;TP<10;TP++)_P[48+TP]=_P[96+TP]=String(TP);for(TP=1;TP<=24;TP++)_P[TP+111]="F"+TP;for(TP=65;TP<=90;TP++)_P[TP]=String.fromCharCode(TP+32),CP[TP]=String.fromCharCode(TP);for(var AP in _P)CP.hasOwnProperty(AP)||(CP[AP]=_P[AP]);const DP="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),NP="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function OP(e){let t,n,r,o,i=e.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(let a=0;a<i.length-1;a++){let e=i[a];if(/^(cmd|meta|m)$/i.test(e))o=!0;else if(/^a(lt)?$/i.test(e))t=!0;else if(/^(c|ctrl|control)$/i.test(e))n=!0;else if(/^s(hift)?$/i.test(e))r=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);DP?o=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function IP(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function PP(e){let t=function(e){let t=Object.create(null);for(let n in e)t[OP(n)]=e[n];return t}(e);return function(e,n){let r,o=function(e){var t=!(SP&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||EP&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?CP:_P)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),i=t[IP(o,n)];if(i&&i(e.state,e.dispatch,e))return!0;if(1==o.length&&" "!=o){if(n.shiftKey){let r=t[IP(o,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(NP&&n.ctrlKey&&n.altKey)&&(r=_P[n.keyCode])&&r!=o){let o=t[IP(r,n)];if(o&&o(e.state,e.dispatch,e))return!0}}return!1}}var jP=Object.defineProperty,MP=(e,t)=>{for(var n in t)jP(e,n,{get:t[n],enumerable:!0})};function RP(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return(0,i.A)((0,i.A)({},t),{},{apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}})}var FP=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){var e=this;const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:i}=r,s=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(t=>{let[n,r]=t;return[n,function(){const t=r(...arguments)(s);return i.getMeta("preventDispatch")||e.hasCustomState||o.dispatch(i),t}]}))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e){var t=this;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,l=[],c=!!e,u=e||s.tr,d=(0,i.A)((0,i.A)({},Object.fromEntries(Object.entries(r).map(e=>{let[r,o]=e;return[r,function(){const e=t.buildProps(u,n),r=o(...arguments)(e);return l.push(r),d}]}))),{},{run:()=>(c||!n||u.getMeta("preventDispatch")||this.hasCustomState||a.dispatch(u),l.every(e=>!0===e))});return d}createCan(e){const{rawCommands:t,state:n}=this,r=!1,o=e||n.tr,s=this.buildProps(o,r),a=Object.fromEntries(Object.entries(t).map(e=>{let[t,n]=e;return[t,function(){return n(...arguments)((0,i.A)((0,i.A)({},s),{},{dispatch:void 0}))}]}));return(0,i.A)((0,i.A)({},a),{},{chain:()=>this.createChain(o,r)})}buildProps(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,s={tr:e,editor:r,view:i,state:RP({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(e=>{let[t,n]=e;return[t,function(){return n(...arguments)(s)}]}))}};return s}},LP={};MP(LP,{blur:()=>zP,clearContent:()=>BP,clearNodes:()=>UP,command:()=>VP,createParagraphNear:()=>HP,cut:()=>qP,deleteCurrentNode:()=>WP,deleteNode:()=>KP,deleteRange:()=>GP,deleteSelection:()=>$P,enter:()=>QP,exitCode:()=>JP,extendMarkRange:()=>oj,first:()=>ij,focus:()=>dj,forEach:()=>hj,insertContent:()=>pj,insertContentAt:()=>vj,joinBackward:()=>wj,joinDown:()=>bj,joinForward:()=>xj,joinItemBackward:()=>kj,joinItemForward:()=>_j,joinTextblockBackward:()=>Cj,joinTextblockForward:()=>Sj,joinUp:()=>yj,keyboardShortcut:()=>Tj,lift:()=>Dj,liftEmptyBlock:()=>Nj,liftListItem:()=>Oj,newlineInCode:()=>Ij,resetAttributes:()=>Mj,scrollIntoView:()=>Rj,selectAll:()=>Fj,selectNodeBackward:()=>Lj,selectNodeForward:()=>zj,selectParentNode:()=>Bj,selectTextblockEnd:()=>Uj,selectTextblockStart:()=>Vj,setContent:()=>qj,setMark:()=>xM,setMeta:()=>kM,setNode:()=>_M,setNodeSelection:()=>CM,setTextSelection:()=>SM,sinkListItem:()=>EM,splitBlock:()=>AM,splitListItem:()=>DM,toggleList:()=>IM,toggleMark:()=>PM,toggleNode:()=>jM,toggleWrap:()=>MM,undoInputRule:()=>RM,unsetAllMarks:()=>FM,unsetMark:()=>LM,updateAttributes:()=>zM,wrapIn:()=>BM,wrapInList:()=>UM});var zP=()=>e=>{let{editor:t,view:n}=e;return requestAnimationFrame(()=>{var e;t.isDestroyed||(n.dom.blur(),null==(e=null==window?void 0:window.getSelection())||e.removeAllRanges())}),!0},BP=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t=>{let{commands:n}=t;return n.setContent("",{emitUpdate:e})}},UP=()=>e=>{let{state:t,tr:n,dispatch:r}=e;const{selection:o}=n,{ranges:i}=o;return!r||(i.forEach(e=>{let{$from:r,$to:o}=e;t.doc.nodesBetween(r.pos,o.pos,(e,t)=>{if(e.type.isText)return;const{doc:r,mapping:o}=n,i=r.resolve(o.map(t)),s=r.resolve(o.map(t+e.nodeSize)),a=i.blockRange(s);if(!a)return;const l=RA(a);if(e.type.isTextblock){const{defaultType:e}=i.parent.contentMatchAt(i.index());n.setNodeMarkup(a.start,e)}(l||0===l)&&n.lift(a,l)})}),!0)},VP=e=>t=>e(t),HP=()=>e=>{let{state:t,dispatch:n}=e;return WD(t,n)},qP=(e,t)=>n=>{let{editor:r,tr:o}=n;const{state:i}=r,s=i.doc.slice(e.from,e.to);o.deleteRange(e.from,e.to);const a=o.mapping.map(t);return o.insert(a,s.content),o.setSelection(new hD(o.doc.resolve(Math.max(a-1,0)))),!0},WP=()=>e=>{let{tr:t,dispatch:n}=e;const{selection:r}=t,o=r.$anchor.node();if(o.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1){if(i.node(s).type===o.type){if(n){const e=i.before(s),n=i.after(s);t.delete(e,n).scrollIntoView()}return!0}}return!1};function YP(e,t){if("string"===typeof e){if(!t.nodes[e])throw Error("There is no node type named '".concat(e,"'. Maybe you forgot to add the extension?"));return t.nodes[e]}return e}var KP=e=>t=>{let{tr:n,state:r,dispatch:o}=t;const i=YP(e,r.schema),s=n.selection.$anchor;for(let e=s.depth;e>0;e-=1){if(s.node(e).type===i){if(o){const t=s.before(e),r=s.after(e);n.delete(t,r).scrollIntoView()}return!0}}return!1},GP=e=>t=>{let{tr:n,dispatch:r}=t;const{from:o,to:i}=e;return r&&n.delete(o,i),!0},$P=()=>e=>{let{state:t,dispatch:n}=e;return OD(t,n)},QP=()=>e=>{let{commands:t}=e;return t.keyboardShortcut("Enter")},JP=()=>e=>{let{state:t,dispatch:n}=e;return qD(t,n)};function XP(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function ZP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{strict:!0};const r=Object.keys(t);return!r.length||r.every(r=>n.strict?t[r]===e[r]:XP(t[r])?t[r].test(e[r]):t[r]===e[r])}function ej(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.find(e=>e.type===t&&ZP(Object.fromEntries(Object.keys(n).map(t=>[t,e.attrs[t]])),n))}function tj(e,t){return!!ej(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function nj(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if(o.node&&o.node.marks.some(e=>e.type===t)||(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(e=>e.type===t))return;n=n||(null==(r=o.node.marks[0])?void 0:r.attrs);if(!ej([...o.node.marks],t,n))return;let i=o.index,s=e.start()+o.offset,a=i+1,l=s+o.node.nodeSize;for(;i>0&&tj([...e.parent.child(i-1).marks],t,n);)i-=1,s-=e.parent.child(i).nodeSize;for(;a<e.parent.childCount&&tj([...e.parent.child(a).marks],t,n);)l+=e.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}function rj(e,t){if("string"===typeof e){if(!t.marks[e])throw Error("There is no mark type named '".concat(e,"'. Maybe you forgot to add the extension?"));return t.marks[e]}return e}var oj=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:r,state:o,dispatch:i}=n;const s=rj(e,o.schema),{doc:a,selection:l}=r,{$from:c,from:u,to:d}=l;if(i){const e=nj(c,s,t);if(e&&e.from<=u&&e.to>=d){const t=hD.create(a,e.from,e.to);r.setSelection(t)}}return!0}},ij=e=>t=>{const n="function"===typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1};function sj(e){return e instanceof hD}function aj(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.min(Math.max(e,t),n)}function lj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return null;const n=lD.atStart(e),r=lD.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return r;const o=n.from,i=r.to;return"all"===t?hD.create(e,aj(0,o,i),aj(e.content.size,o,i)):hD.create(e,aj(t,o,i),aj(t,o,i))}function cj(){return"Android"===navigator.platform||/android/i.test(navigator.userAgent)}function uj(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var dj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{editor:r,view:o,tr:s,dispatch:a}=n;t=(0,i.A)({scrollIntoView:!0},t);const l=()=>{(uj()||cj())&&o.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(o.focus(),(null==t?void 0:t.scrollIntoView)&&r.commands.scrollIntoView())})};if(o.hasFocus()&&null===e||!1===e)return!0;if(a&&null===e&&!sj(r.state.selection))return l(),!0;const c=lj(s.doc,e)||r.state.selection,u=r.state.selection.eq(c);return a&&(u||s.setSelection(c),u&&s.storedMarks&&s.setStoredMarks(s.storedMarks),l()),!0}},hj=(e,t)=>n=>e.every((e,r)=>t(e,(0,i.A)((0,i.A)({},n),{},{index:r}))),pj=(e,t)=>n=>{let{tr:r,commands:o}=n;return o.insertContentAt({from:r.selection.from,to:r.selection.to},e,t)},fj=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];3===r.nodeType&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):1===r.nodeType&&fj(r)}return e};function mj(e){if("undefined"===typeof window)throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t="<body>".concat(e,"</body>"),n=(new window.DOMParser).parseFromString(t,"text/html").body;return fj(n)}function gj(e,t,n){if(e instanceof jT||e instanceof uT)return e;n=(0,i.A)({slice:!0,parseOptions:{}},n);const r="string"===typeof e;if("object"===typeof e&&null!==e)try{if(Array.isArray(e)&&e.length>0)return uT.fromArray(e.map(e=>t.nodeFromJSON(e)));const r=t.nodeFromJSON(e);return n.errorOnInvalidContent&&r.check(),r}catch(pw){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:pw});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",pw),gj("",t,n)}if(r){if(n.errorOnInvalidContent){let r=!1,o="";const i=new ZT({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:e=>(r=!0,o="string"===typeof e?e:e.outerHTML,null)}]}})});if(n.slice?tA.fromSchema(i).parseSlice(mj(e),n.parseOptions):tA.fromSchema(i).parse(mj(e),n.parseOptions),n.errorOnInvalidContent&&r)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error("Invalid element found: ".concat(o))})}const r=tA.fromSchema(t);return n.slice?r.parseSlice(mj(e),n.parseOptions).content:r.parse(mj(e),n.parseOptions)}return gj("",t,n)}var vj=(e,t,n)=>r=>{let{tr:o,dispatch:s,editor:a}=r;var l;if(s){let r;n=(0,i.A)({parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1},n);const s=e=>{a.emit("contentError",{editor:a,error:e,disableCollaboration:()=>{"collaboration"in a.storage&&"object"===typeof a.storage.collaboration&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},c=(0,i.A)({preserveWhitespace:"full"},n.parseOptions);if(!n.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{gj(t,a.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(G1){s(G1)}try{r=gj(t,a.schema,{parseOptions:c,errorOnInvalidContent:null!=(l=n.errorOnInvalidContent)?l:a.options.enableContentCheck})}catch(G1){return s(G1),!1}let{from:u,to:d}="number"===typeof e?{from:e,to:e}:{from:e.from,to:e.to},h=!0,p=!0;if(("type"in r?[r]:r).forEach(e=>{e.check(),h=!!h&&(e.isText&&0===e.marks.length),p=!!p&&e.isBlock}),u===d&&p){const{parent:e}=o.doc.resolve(u);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(u-=1,d+=1)}let f;if(h){if(Array.isArray(t))f=t.map(e=>e.text||"").join("");else if(t instanceof uT){let e="";t.forEach(t=>{t.text&&(e+=t.text)}),f=e}else f="object"===typeof t&&t&&t.text?t.text:t;o.insertText(f,u,d)}else{f=r;const e=o.doc.resolve(u),t=e.node(),n=0===e.parentOffset,i=t.isText||t.isTextblock,s=t.content.size>0;n&&i&&s&&(u=Math.max(0,u-1)),o.replaceWith(u,d,f)}n.updateSelection&&function(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof OA||o instanceof IA))return;const i=e.mapping.maps[r];let s=0;i.forEach((e,t,n,r)=>{0===s&&(s=r)}),e.setSelection(lD.near(e.doc.resolve(s),n))}(o,o.steps.length-1,-1),n.applyInputRules&&o.setMeta("applyInputRules",{from:u,text:f}),n.applyPasteRules&&o.setMeta("applyPasteRules",{from:u,text:f})}return!0},yj=()=>e=>{let{state:t,dispatch:n}=e;return((e,t)=>{let n,r=e.selection,o=r instanceof fD;if(o){if(r.node.isTextblock||!VA(e.doc,r.from))return!1;n=r.from}else if(n=qA(e.doc,r.from,-1),null==n)return!1;if(t){let r=e.tr.join(n);o&&r.setSelection(fD.create(r.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(r.scrollIntoView())}return!0})(t,n)},bj=()=>e=>{let{state:t,dispatch:n}=e;return((e,t)=>{let n,r=e.selection;if(r instanceof fD){if(r.node.isTextblock||!VA(e.doc,r.to))return!1;n=r.to}else if(n=qA(e.doc,r.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0})(t,n)},wj=()=>e=>{let{state:t,dispatch:n}=e;return PD(t,n)},xj=()=>e=>{let{state:t,dispatch:n}=e;return zD(t,n)},kj=()=>e=>{let{state:t,dispatch:n,tr:r}=e;try{const e=qA(t.doc,t.selection.$from.pos,-1);return null!==e&&void 0!==e&&(r.join(e,2),n&&n(r),!0)}catch(o){return!1}},_j=()=>e=>{let{state:t,dispatch:n,tr:r}=e;try{const e=qA(t.doc,t.selection.$from.pos,1);return null!==e&&void 0!==e&&(r.join(e,2),n&&n(r),!0)}catch(o){return!1}},Cj=()=>e=>{let{state:t,dispatch:n}=e;return((e,t,n)=>{let r=ID(e,n);if(!r)return!1;let o=FD(r);return!!o&&jD(e,o,t)})(t,n)},Sj=()=>e=>{let{state:t,dispatch:n}=e;return((e,t,n)=>{let r=LD(e,n);if(!r)return!1;let o=UD(r);return!!o&&jD(e,o,t)})(t,n)};function Ej(){return"undefined"!==typeof navigator&&/Mac/.test(navigator.platform)}var Tj=e=>t=>{let{editor:n,view:r,tr:o,dispatch:i}=t;const s=function(e){const t=e.split(/-(?!$)/);let n,r,o,i,s=t[t.length-1];"Space"===s&&(s=" ");for(let a=0;a<t.length-1;a+=1){const e=t[a];if(/^(cmd|meta|m)$/i.test(e))i=!0;else if(/^a(lt)?$/i.test(e))n=!0;else if(/^(c|ctrl|control)$/i.test(e))r=!0;else if(/^s(hift)?$/i.test(e))o=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: ".concat(e));uj()||Ej()?i=!0:r=!0}}return n&&(s="Alt-".concat(s)),r&&(s="Ctrl-".concat(s)),i&&(s="Meta-".concat(s)),o&&(s="Shift-".concat(s)),s}(e).split(/-(?!$)/),a=s.find(e=>!["Alt","Ctrl","Meta","Shift"].includes(e)),l=new KeyboardEvent("keydown",{key:"Space"===a?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=n.captureTransaction(()=>{r.someProp("handleKeyDown",e=>e(r,l))});return null==c||c.steps.forEach(e=>{const t=e.map(o.mapping);t&&i&&o.maybeStep(t)}),!0};function Aj(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{from:r,to:o,empty:i}=e.selection,s=t?YP(t,e.schema):null,a=[];e.doc.nodesBetween(r,o,(e,t)=>{if(e.isText)return;const n=Math.max(r,t),i=Math.min(o,t+e.nodeSize);a.push({node:e,from:n,to:i})});const l=o-r,c=a.filter(e=>!s||s.name===e.node.type.name).filter(e=>ZP(e.node.attrs,n,{strict:!1}));if(i)return!!c.length;const u=c.reduce((e,t)=>e+t.to-t.from,0);return u>=l}var Dj=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,dispatch:o}=n;return!!Aj(r,YP(e,r.schema),t)&&((e,t)=>{let{$from:n,$to:r}=e.selection,o=n.blockRange(r),i=o&&RA(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)})(r,o)}},Nj=()=>e=>{let{state:t,dispatch:n}=e;return YD(t,n)},Oj=e=>t=>{let{state:n,dispatch:r}=t;return sN(YP(e,n.schema))(n,r)},Ij=()=>e=>{let{state:t,dispatch:n}=e;return VD(t,n)};function Pj(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function jj(e,t){const n="string"===typeof t?[t]:t;return Object.keys(e).reduce((t,r)=>(n.includes(r)||(t[r]=e[r]),t),{})}var Mj=(e,t)=>n=>{let{tr:r,state:o,dispatch:i}=n,s=null,a=null;const l=Pj("string"===typeof e?e:e.name,o.schema);return!!l&&("node"===l&&(s=YP(e,o.schema)),"mark"===l&&(a=rj(e,o.schema)),i&&r.selection.ranges.forEach(e=>{o.doc.nodesBetween(e.$from.pos,e.$to.pos,(e,n)=>{s&&s===e.type&&r.setNodeMarkup(n,void 0,jj(e.attrs,t)),a&&e.marks.length&&e.marks.forEach(o=>{a===o.type&&r.addMark(n,n+e.nodeSize,a.create(jj(o.attrs,t)))})})}),!0)},Rj=()=>e=>{let{tr:t,dispatch:n}=e;return n&&t.scrollIntoView(),!0},Fj=()=>e=>{let{tr:t,dispatch:n}=e;if(n){const e=new gD(t.doc);t.setSelection(e)}return!0},Lj=()=>e=>{let{state:t,dispatch:n}=e;return RD(t,n)},zj=()=>e=>{let{state:t,dispatch:n}=e;return BD(t,n)},Bj=()=>e=>{let{state:t,dispatch:n}=e;return((e,t)=>{let n,{$from:r,to:o}=e.selection,i=r.sharedDepth(o);return 0!=i&&(n=r.before(i),t&&t(e.tr.setSelection(fD.create(e.doc,n))),!0)})(t,n)},Uj=()=>e=>{let{state:t,dispatch:n}=e;return XD(t,n)},Vj=()=>e=>{let{state:t,dispatch:n}=e;return JD(t,n)};function Hj(e,t){return gj(e,t,{slice:!1,parseOptions:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},errorOnInvalidContent:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).errorOnInvalidContent})}var qj=function(e){let{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o=>{let{editor:i,tr:s,dispatch:a,commands:l}=o;const{doc:c}=s;if("full"!==r.preserveWhitespace){const o=Hj(e,i.schema,r,{errorOnInvalidContent:null!=t?t:i.options.enableContentCheck});return a&&s.replaceWith(0,c.content.size,o).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:c.content.size},e,{parseOptions:r,errorOnInvalidContent:null!=t?t:i.options.enableContentCheck})}};function Wj(e,t){const n=rj(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,e=>{a.push(...e.marks)});const l=a.find(e=>e.type.name===n.name);return l?(0,i.A)({},l.attrs):{}}function Yj(e,t){const n=new sD(e);return t.forEach(e=>{e.steps.forEach(e=>{n.step(e)})}),n}function Kj(e){return t=>function(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}(t.$from,e)}function Gj(e,t,n){if(void 0===e.config[t]&&e.parent)return Gj(e.parent,t,n);if("function"===typeof e.config[t]){return e.config[t].bind((0,i.A)((0,i.A)({},n),{},{parent:e.parent?Gj(e.parent,t,n):null}))}return e.config[t]}function $j(e){return e.map(e=>{const t=Gj(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...$j(t())]:e}).flat(10)}function Qj(e,t){const n=dA.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function Jj(e){return"function"===typeof e}function Xj(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(Jj(e)){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return t?e.bind(t)(...r):e(...r)}return e}function Zj(e){return{baseExtensions:e.filter(e=>"extension"===e.type),nodeExtensions:e.filter(e=>"node"===e.type),markExtensions:e.filter(e=>"mark"===e.type)}}function eM(e){const t=[],{nodeExtensions:n,markExtensions:r}=Zj(e),o=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(e=>{const n=Gj(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage,extensions:o});if(!n)return;n().forEach(e=>{e.types.forEach(n=>{Object.entries(e.attributes).forEach(e=>{let[r,o]=e;t.push({type:n,name:r,attribute:(0,i.A)((0,i.A)({},s),o)})})})})}),o.forEach(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Gj(e,"addAttributes",n);if(!r)return;const o=r();Object.entries(o).forEach(n=>{let[r,o]=n;const a=(0,i.A)((0,i.A)({},s),o);"function"===typeof(null==a?void 0:a.default)&&(a.default=a.default()),(null==a?void 0:a.isRequired)&&void 0===(null==a?void 0:a.default)&&delete a.default,t.push({type:e.name,name:r,attribute:a})})}),t}function tM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>!!e).reduce((e,t)=>{const n=(0,i.A)({},e);return Object.entries(t).forEach(e=>{let[t,r]=e;if(n[t])if("class"===t){const e=r?String(r).split(" "):[],o=n[t]?n[t].split(" "):[],i=e.filter(e=>!o.includes(e));n[t]=[...o,...i].join(" ")}else if("style"===t){const e=r?r.split(";").map(e=>e.trim()).filter(Boolean):[],o=n[t]?n[t].split(";").map(e=>e.trim()).filter(Boolean):[],i=new Map;o.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());i.set(t,n)}),e.forEach(e=>{const[t,n]=e.split(":").map(e=>e.trim());i.set(t,n)}),n[t]=Array.from(i.entries()).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(n)}).join("; ")}else n[t]=r;else n[t]=r}),n},{})}function nM(e,t){return t.filter(t=>t.type===e.type.name).filter(e=>e.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]}).reduce((e,t)=>tM(e,t),{})}function rM(e,t){return"style"in e?e:(0,i.A)((0,i.A)({},e),{},{getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;const o=t.reduce((e,t)=>{const r=t.attribute.parseHTML?t.attribute.parseHTML(n):function(e){return"string"!==typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}(n.getAttribute(t.name));return null===r||void 0===r?e:(0,i.A)((0,i.A)({},e),{},{[t.name]:r})},{});return(0,i.A)((0,i.A)({},r),o)}})}function oM(e){return Object.fromEntries(Object.entries(e).filter(e=>{let[t,n]=e;return("attrs"!==t||!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===Object.keys(e).length&&e.constructor===Object}(n))&&(null!==n&&void 0!==n)}))}function iM(e,t){var n;const r=eM(e),{nodeExtensions:o,markExtensions:s}=Zj(e),a=null==(n=o.find(e=>Gj(e,"topNode")))?void 0:n.name,l=Object.fromEntries(o.map(n=>{const o=r.filter(e=>e.type===n.name),s={name:n.name,options:n.options,storage:n.storage,editor:t},a=e.reduce((e,t)=>{const r=Gj(t,"extendNodeSchema",s);return(0,i.A)((0,i.A)({},e),r?r(n):{})},{}),l=oM((0,i.A)((0,i.A)({},a),{},{content:Xj(Gj(n,"content",s)),marks:Xj(Gj(n,"marks",s)),group:Xj(Gj(n,"group",s)),inline:Xj(Gj(n,"inline",s)),atom:Xj(Gj(n,"atom",s)),selectable:Xj(Gj(n,"selectable",s)),draggable:Xj(Gj(n,"draggable",s)),code:Xj(Gj(n,"code",s)),whitespace:Xj(Gj(n,"whitespace",s)),linebreakReplacement:Xj(Gj(n,"linebreakReplacement",s)),defining:Xj(Gj(n,"defining",s)),isolating:Xj(Gj(n,"isolating",s)),attrs:Object.fromEntries(o.map(e=>{var t,n;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default,validate:null==(n=null==e?void 0:e.attribute)?void 0:n.validate}]}))})),c=Xj(Gj(n,"parseHTML",s));c&&(l.parseDOM=c.map(e=>rM(e,o)));const u=Gj(n,"renderHTML",s);u&&(l.toDOM=e=>u({node:e,HTMLAttributes:nM(e,o)}));const d=Gj(n,"renderText",s);return d&&(l.toText=d),[n.name,l]})),c=Object.fromEntries(s.map(n=>{const o=r.filter(e=>e.type===n.name),s={name:n.name,options:n.options,storage:n.storage,editor:t},a=e.reduce((e,t)=>{const r=Gj(t,"extendMarkSchema",s);return(0,i.A)((0,i.A)({},e),r?r(n):{})},{}),l=oM((0,i.A)((0,i.A)({},a),{},{inclusive:Xj(Gj(n,"inclusive",s)),excludes:Xj(Gj(n,"excludes",s)),group:Xj(Gj(n,"group",s)),spanning:Xj(Gj(n,"spanning",s)),code:Xj(Gj(n,"code",s)),attrs:Object.fromEntries(o.map(e=>{var t,n;return[e.name,{default:null==(t=null==e?void 0:e.attribute)?void 0:t.default,validate:null==(n=null==e?void 0:e.attribute)?void 0:n.validate}]}))})),c=Xj(Gj(n,"parseHTML",s));c&&(l.parseDOM=c.map(e=>rM(e,o)));const u=Gj(n,"renderHTML",s);return u&&(l.toDOM=e=>u({mark:e,HTMLAttributes:nM(e,o)})),[n.name,l]}));return new ZT({topNode:a,nodes:l,marks:c})}function sM(e){return e.sort((e,t)=>{const n=Gj(e,"priority")||100,r=Gj(t,"priority")||100;return n>r?-1:n<r?1:0})}function aM(e){const t=sM($j(e)),n=function(e){const t=e.filter((t,n)=>e.indexOf(t)!==n);return Array.from(new Set(t))}(t.map(e=>e.name));return n.length&&console.warn("[tiptap warn]: Duplicate extension names found: [".concat(n.map(e=>"'".concat(e,"'")).join(", "),"]. This can lead to issues.")),t}function lM(e,t,n){const{from:r,to:o}=t,{blockSeparator:i="\n\n",textSerializers:s={}}=n||{};let a="";return e.nodesBetween(r,o,(e,n,l,c)=>{var u;e.isBlock&&n>r&&(a+=i);const d=null==s?void 0:s[e.type.name];if(d)return l&&(a+=d({node:e,pos:n,parent:l,index:c,range:t})),!1;e.isText&&(a+=null==(u=null==e?void 0:e.text)?void 0:u.slice(Math.max(r,n)-n,o-n))}),a}function cM(e,t){return lM(e,{from:0,to:e.content.size},t)}function uM(e){return Object.fromEntries(Object.entries(e.nodes).filter(e=>{let[,t]=e;return t.spec.toText}).map(e=>{let[t,n]=e;return[t,n.spec.toText]}))}function dM(e,t){const n=Pj("string"===typeof t?t:t.name,e.schema);return"node"===n?function(e,t){const n=YP(t,e.schema),{from:r,to:o}=e.selection,s=[];e.doc.nodesBetween(r,o,e=>{s.push(e)});const a=s.reverse().find(e=>e.type.name===n.name);return a?(0,i.A)({},a.attrs):{}}(e,t):"mark"===n?Wj(e,t):{}}function hM(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JSON.stringify;const n={};return e.filter(e=>{const r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)})}(e);return 1===t.length?t:t.filter((e,n)=>{const r=t.filter((e,t)=>t!==n);return!r.some(t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to)})}function pM(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((e,o)=>{const i=[];if(e.ranges.length)e.forEach((e,t)=>{i.push({from:e,to:t})});else{const{from:e,to:t}=n[o];if(void 0===e||void 0===t)return;i.push({from:e,to:t})}i.forEach(e=>{let{from:n,to:i}=e;const s=t.slice(o).map(n,-1),a=t.slice(o).map(i),l=t.invert().map(s,-1),c=t.invert().map(a);r.push({oldRange:{from:l,to:c},newRange:{from:s,to:a}})})}),hM(r)}function fM(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(t=>{const o=nj(n.resolve(e),t.type);o&&r.push((0,i.A)({mark:t},o))}):n.nodesBetween(e,t,(e,t)=>{e&&void 0!==(null==e?void 0:e.nodeSize)&&r.push(...e.marks.map(n=>({from:t,to:t+e.nodeSize,mark:n})))}),r}function mM(e,t){return t.nodes[e]||t.marks[e]||null}function gM(e,t,n){return Object.fromEntries(Object.entries(n).filter(n=>{let[r]=n;const o=e.find(e=>e.type===t&&e.name===r);return!!o&&o.attribute.keepOnSplit}))}function vM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{empty:r,ranges:o}=e.selection,i=t?rj(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(e=>!i||i.name===e.type.name).find(e=>ZP(e.attrs,n,{strict:!1}));let s=0;const a=[];if(o.forEach(t=>{let{$from:n,$to:r}=t;const o=n.pos,i=r.pos;e.doc.nodesBetween(o,i,(e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(o,t),r=Math.min(i,t+e.nodeSize);s+=r-n,a.push(...e.marks.map(e=>({mark:e,from:n,to:r})))})}),0===s)return!1;const l=a.filter(e=>!i||i.name===e.mark.type.name).filter(e=>ZP(e.mark.attrs,n,{strict:!1})).reduce((e,t)=>e+t.to-t.from,0),c=a.filter(e=>!i||e.mark.type!==i&&e.mark.type.excludes(i)).reduce((e,t)=>e+t.to-t.from,0);return(l>0?l+c:l)>=s}function yM(e,t){return Array.isArray(t)?t.some(t=>("string"===typeof t?t:t.name)===e.name):t}function bM(e,t){const{nodeExtensions:n}=Zj(t),r=n.find(t=>t.name===e);if(!r)return!1;const o=Xj(Gj(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"===typeof o&&o.split(" ").includes("list")}function wM(e){let{checkChildren:t=!0,ignoreWhitespace:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;if(n){if("hardBreak"===e.type.name)return!0;if(e.isText)return/^\s*$/m.test(null!=(r=e.text)?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(0===e.content.childCount)return!0;if(t){let r=!0;return e.content.forEach(e=>{!1!==r&&(wM(e,{ignoreWhitespace:n,checkChildren:t})||(r=!1))}),r}return!1}var xM=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:r,state:o,dispatch:s}=n;const{selection:a}=r,{empty:l,ranges:c}=a,u=rj(e,o.schema);if(s)if(l){const e=Wj(o,u);r.addStoredMark(u.create((0,i.A)((0,i.A)({},e),t)))}else c.forEach(e=>{const n=e.$from.pos,s=e.$to.pos;o.doc.nodesBetween(n,s,(e,o)=>{const a=Math.max(o,n),l=Math.min(o+e.nodeSize,s);e.marks.find(e=>e.type===u)?e.marks.forEach(e=>{u===e.type&&r.addMark(a,l,u.create((0,i.A)((0,i.A)({},e.attrs),t)))}):r.addMark(a,l,u.create(t))})});return function(e,t,n){var r;const{selection:o}=t;let i=null;if(sj(o)&&(i=o.$cursor),i){const t=null!=(r=e.storedMarks)?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(t)||!t.some(e=>e.type.excludes(n)))}const{ranges:s}=o;return s.some(t=>{let{$from:r,$to:o}=t,i=0===r.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(r.pos,o.pos,(e,t,r)=>{if(i)return!1;if(e.isInline){const t=!r||r.type.allowsMarkType(n),o=!!n.isInSet(e.marks)||!e.marks.some(e=>e.type.excludes(n));i=t&&o}return!i}),i})}(o,r,u)}},kM=(e,t)=>n=>{let{tr:r}=n;return r.setMeta(e,t),!0},_M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,dispatch:o,chain:s}=n;const a=YP(e,r.schema);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a.isTextblock?s().command(e=>{let{commands:n}=e;return!!ZD(a,(0,i.A)((0,i.A)({},l),t))(r)||n.clearNodes()}).command(e=>{let{state:n}=e;return ZD(a,(0,i.A)((0,i.A)({},l),t))(n,o)}).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)}},CM=e=>t=>{let{tr:n,dispatch:r}=t;if(r){const{doc:t}=n,r=aj(e,0,t.content.size),o=fD.create(t,r);n.setSelection(o)}return!0},SM=e=>t=>{let{tr:n,dispatch:r}=t;if(r){const{doc:t}=n,{from:r,to:o}="number"===typeof e?{from:e,to:e}:e,i=hD.atStart(t).from,s=hD.atEnd(t).to,a=aj(r,i,s),l=aj(o,i,s),c=hD.create(t,a,l);n.setSelection(c)}return!0},EM=e=>t=>{let{state:n,dispatch:r}=t;const o=YP(e,n.schema);return(i=o,function(e,t){let{$from:n,$to:r}=e.selection,o=n.blockRange(r,e=>e.childCount>0&&e.firstChild.type==i);if(!o)return!1;let s=o.startIndex;if(0==s)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=i)return!1;if(t){let n=l.lastChild&&l.lastChild.type==a.type,r=uT.from(n?i.create():null),s=new gT(uT.from(i.create(null,uT.from(a.type.create(null,r)))),n?3:1,0),c=o.start,u=o.end;t(e.tr.step(new IA(c-(n?3:1),u,c,u,s,1,!0)).scrollIntoView())}return!0})(n,r);var i};function TM(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(e=>null==t?void 0:t.includes(e.type.name));e.tr.ensureMarks(r)}}var AM=function(){let{keepMarks:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>{let{tr:n,state:r,dispatch:o,editor:i}=t;const{selection:s,doc:a}=n,{$from:l,$to:c}=s,u=gM(i.extensionManager.attributes,l.node().type.name,l.node().attrs);if(s instanceof fD&&s.node.isBlock)return!(!l.parentOffset||!UA(a,l.pos))&&(o&&(e&&TM(r,i.extensionManager.splittableMarks),n.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const d=c.parentOffset===c.parent.content.size,h=0===l.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(l.node(-1).contentMatchAt(l.indexAfter(-1)));let p=d&&h?[{type:h,attrs:u}]:void 0,f=UA(n.doc,n.mapping.map(l.pos),1,p);if(p||f||!UA(n.doc,n.mapping.map(l.pos),1,h?[{type:h}]:void 0)||(f=!0,p=h?[{type:h,attrs:u}]:void 0),o){if(f&&(s instanceof hD&&n.deleteSelection(),n.split(n.mapping.map(l.pos),1,p),h&&!d&&!l.parentOffset&&l.parent.type!==h)){const e=n.mapping.map(l.before()),t=n.doc.resolve(e);l.node(-1).canReplaceWith(t.index(),t.index()+1,h)&&n.setNodeMarkup(n.mapping.map(l.before()),h)}e&&TM(r,i.extensionManager.splittableMarks),n.scrollIntoView()}return f}},DM=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:r,state:o,dispatch:s,editor:a}=n;var l;const c=YP(e,o.schema),{$from:u,$to:d}=o.selection,h=o.selection.node;if(h&&h.isBlock||u.depth<2||!u.sameParent(d))return!1;const p=u.node(-1);if(p.type!==c)return!1;const f=a.extensionManager.attributes;if(0===u.parent.content.size&&u.node(-1).childCount===u.indexAfter(-1)){if(2===u.depth||u.node(-3).type!==c||u.index(-2)!==u.node(-2).childCount-1)return!1;if(s){let e=uT.empty;const n=u.index(-1)?1:u.index(-2)?2:3;for(let t=u.depth-n;t>=u.depth-3;t-=1)e=uT.from(u.node(t).copy(e));const o=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,s=(0,i.A)((0,i.A)({},gM(f,u.node().type.name,u.node().attrs)),t),a=(null==(l=c.contentMatch.defaultType)?void 0:l.createAndFill(s))||void 0;e=e.append(uT.from(c.createAndFill(null,a)||void 0));const d=u.before(u.depth-(n-1));r.replace(d,u.after(-o),new gT(e,4-n,0));let h=-1;r.doc.nodesBetween(d,r.doc.content.size,(e,t)=>{if(h>-1)return!1;e.isTextblock&&0===e.content.size&&(h=t+1)}),h>-1&&r.setSelection(hD.near(r.doc.resolve(h))),r.scrollIntoView()}return!0}const m=d.pos===u.end()?p.contentMatchAt(0).defaultType:null,g=(0,i.A)((0,i.A)({},gM(f,p.type.name,p.attrs)),t),v=(0,i.A)((0,i.A)({},gM(f,u.node().type.name,u.node().attrs)),t);r.delete(u.pos,d.pos);const y=m?[{type:c,attrs:g},{type:m,attrs:v}]:[{type:c,attrs:g}];if(!UA(r.doc,u.pos,2))return!1;if(s){const{selection:e,storedMarks:t}=o,{splittableMarks:n}=a.extensionManager,i=t||e.$to.parentOffset&&e.$from.marks();if(r.split(u.pos,2,y).scrollIntoView(),!i||!s)return!0;const l=i.filter(e=>n.includes(e.type.name));r.ensureMarks(l)}return!0}},NM=(e,t)=>{const n=Kj(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;const o=e.doc.nodeAt(r);return n.node.type!==(null==o?void 0:o.type)||!VA(e.doc,n.pos)||(e.join(n.pos),!0)},OM=(e,t)=>{const n=Kj(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;const o=e.doc.nodeAt(r);return n.node.type!==(null==o?void 0:o.type)||!VA(e.doc,r)||(e.join(r),!0)},IM=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o=>{let{editor:i,tr:s,state:a,dispatch:l,chain:c,commands:u,can:d}=o;const{extensions:h,splittableMarks:p}=i.extensionManager,f=YP(e,a.schema),m=YP(t,a.schema),{selection:g,storedMarks:v}=a,{$from:y,$to:b}=g,w=y.blockRange(b),x=v||g.$to.parentOffset&&g.$from.marks();if(!w)return!1;const k=Kj(e=>bM(e.type.name,h))(g);if(w.depth>=1&&k&&w.depth-k.depth<=1){if(k.node.type===f)return u.liftListItem(m);if(bM(k.node.type.name,h)&&f.validContent(k.node.content)&&l)return c().command(()=>(s.setNodeMarkup(k.pos,f),!0)).command(()=>NM(s,f)).command(()=>OM(s,f)).run()}return n&&x&&l?c().command(()=>{const e=d().wrapInList(f,r),t=x.filter(e=>p.includes(e.type.name));return s.ensureMarks(t),!!e||u.clearNodes()}).wrapInList(f,r).command(()=>NM(s,f)).command(()=>OM(s,f)).run():c().command(()=>!!d().wrapInList(f,r)||u.clearNodes()).wrapInList(f,r).command(()=>NM(s,f)).command(()=>OM(s,f)).run()}},PM=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=>{let{state:o,commands:i}=r;const{extendEmptyMarkRange:s=!1}=n,a=rj(e,o.schema);return vM(o,a,t)?i.unsetMark(a,{extendEmptyMarkRange:s}):i.setMark(a,t)}},jM=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=>{let{state:o,commands:s}=r;const a=YP(e,o.schema),l=YP(t,o.schema),c=Aj(o,a,n);let u;return o.selection.$anchor.sameParent(o.selection.$head)&&(u=o.selection.$anchor.parent.attrs),c?s.setNode(l,u):s.setNode(a,(0,i.A)((0,i.A)({},u),n))}},MM=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,commands:o}=n;const i=YP(e,r.schema);return Aj(r,i,t)?o.lift(i):o.wrapIn(i,t)}},RM=()=>e=>{let{state:t,dispatch:n}=e;const r=t.plugins;for(let o=0;o<r.length;o+=1){const e=r[o];let i;if(e.spec.isInputRules&&(i=e.getState(t))){if(n){const e=t.tr,n=i.transform;for(let t=n.steps.length-1;t>=0;t-=1)e.step(n.steps[t].invert(n.docs[t]));if(i.text){const n=e.doc.resolve(i.from).marks();e.replaceWith(i.from,i.to,t.schema.text(i.text,n))}else e.delete(i.from,i.to)}return!0}}return!1},FM=()=>e=>{let{tr:t,dispatch:n}=e;const{selection:r}=t,{empty:o,ranges:i}=r;return o||n&&i.forEach(e=>{t.removeMark(e.$from.pos,e.$to.pos)}),!0},LM=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:r,state:o,dispatch:i}=n;var s;const{extendEmptyMarkRange:a=!1}=t,{selection:l}=r,c=rj(e,o.schema),{$from:u,empty:d,ranges:h}=l;if(!i)return!0;if(d&&a){let{from:e,to:t}=l;const n=null==(s=u.marks().find(e=>e.type===c))?void 0:s.attrs,o=nj(u,c,n);o&&(e=o.from,t=o.to),r.removeMark(e,t,c)}else h.forEach(e=>{r.removeMark(e.$from.pos,e.$to.pos,c)});return r.removeStoredMark(c),!0}},zM=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{tr:r,state:o,dispatch:s}=n,a=null,l=null;const c=Pj("string"===typeof e?e:e.name,o.schema);return!!c&&("node"===c&&(a=YP(e,o.schema)),"mark"===c&&(l=rj(e,o.schema)),s&&r.selection.ranges.forEach(e=>{const n=e.$from.pos,s=e.$to.pos;let c,u,d,h;r.selection.empty?o.doc.nodesBetween(n,s,(e,t)=>{a&&a===e.type&&(d=Math.max(t,n),h=Math.min(t+e.nodeSize,s),c=t,u=e)}):o.doc.nodesBetween(n,s,(e,o)=>{o<n&&a&&a===e.type&&(d=Math.max(o,n),h=Math.min(o+e.nodeSize,s),c=o,u=e),o>=n&&o<=s&&(a&&a===e.type&&r.setNodeMarkup(o,void 0,(0,i.A)((0,i.A)({},e.attrs),t)),l&&e.marks.length&&e.marks.forEach(a=>{if(l===a.type){const c=Math.max(o,n),u=Math.min(o+e.nodeSize,s);r.addMark(c,u,l.create((0,i.A)((0,i.A)({},a.attrs),t)))}}))}),u&&(void 0!==c&&r.setNodeMarkup(c,void 0,(0,i.A)((0,i.A)({},u.attrs),t)),l&&u.marks.length&&u.marks.forEach(e=>{l===e.type&&r.addMark(d,h,l.create((0,i.A)((0,i.A)({},e.attrs),t)))}))}),!0)}},BM=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,dispatch:o}=n;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),a=s&&FA(s,e,t);return!!a&&(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0)}}(YP(e,r.schema),t)(r,o)}},UM=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let{state:r,dispatch:o}=n;return iN(YP(e,r.schema),t)(r,o)}},VM=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=this.callbacks[e];return o&&o.forEach(e=>e.apply(this,n)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(e=>e!==t):delete this.callbacks[e]),this}once(e,t){var n=this;const r=function(){n.off(e,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];t.apply(n,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}},HM=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=null==(t=e.undoable)||t}};function qM(e){var t;const{editor:n,from:r,to:o,text:i,rules:s,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null==(t=c.nodeBefore||c.nodeAfter)?void 0:t.marks.find(e=>e.type.spec.code)))return!1;let u=!1;const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(e,t,o,i)=>{var s,a;const l=(null==(a=(s=e.type.spec).toText)?void 0:a.call(s,{node:e,pos:t,parent:o,index:i}))||e.textContent||"%leaf%";n+=e.isAtom&&!e.isText?l:l.slice(0,Math.max(0,r-t))}),n}(c)+i;return s.forEach(e=>{if(u)return;const t=((e,t)=>{if(XP(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r})(d,e.find);if(!t)return;const s=l.state.tr,c=RP({state:l.state,transaction:s}),h={from:r-(t[0].length-i.length),to:o},{commands:p,chain:f,can:m}=new FP({editor:n,state:c});null!==e.handler({state:c,range:h,match:t,commands:p,chain:f,can:m})&&s.steps.length&&(e.undoable&&s.setMeta(a,{transform:s,from:r,to:o,text:i}),l.dispatch(s),u=!0)}),u}function WM(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function YM(e,t){const n=(0,i.A)({},e);return WM(e)&&WM(t)&&Object.keys(t).forEach(r=>{WM(t[r])&&WM(e[r])?n[r]=YM(e[r],t[r]):n[r]=t[r]}),n}var KM=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config=(0,i.A)((0,i.A)({},this.config),e),this.name=this.config.name}get options(){return(0,i.A)({},Xj(Gj(this,"addOptions",{name:this.name}))||{})}get storage(){return(0,i.A)({},Xj(Gj(this,"addStorage",{name:this.name,options:this.options}))||{})}configure(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.extend((0,i.A)((0,i.A)({},this.config),{},{addOptions:()=>YM(this.options,e)}));return t.name=this.name,t.parent=this.parent,t}extend(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new this.constructor((0,i.A)((0,i.A)({},this.config),e));return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},GM=class e extends KM{constructor(){super(...arguments),this.type="mark"}static create(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n="function"===typeof t?t():t;return new e(n)}static handleExit(e){let{editor:t,mark:n}=e;const{tr:r}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const e=o.marks();if(!!!e.find(e=>(null==e?void 0:e.type.name)===n.name))return!1;const i=e.find(e=>(null==e?void 0:e.type.name)===n.name);return i&&r.removeStoredMark(i),r.insertText(" ",o.pos),t.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const t="function"===typeof e?e():e;return super.extend(t)}};var $M=class{constructor(e){this.find=e.find,this.handler=e.handler}};function QM(e){const{editor:t,state:n,from:r,to:o,rule:i,pasteEvent:s,dropEvent:a}=e,{commands:l,chain:c,can:u}=new FP({editor:t,state:n}),d=[];n.doc.nodesBetween(r,o,(e,t)=>{var h,p,f,m,g;if((null==(p=null==(h=e.type)?void 0:h.spec)?void 0:p.code)||!(e.isText||e.isTextblock||e.isInline))return;const v=null!=(g=null!=(m=null==(f=e.content)?void 0:f.size)?m:e.nodeSize)?g:0,y=Math.max(r,t),b=Math.min(o,t+v);if(y>=b)return;const w=((e,t,n)=>{if(XP(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(t=>{const n=[t.text];return n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n}):[]})(e.isText?e.text||"":e.textBetween(y-t,b-t,void 0,"\ufffc"),i.find,s);w.forEach(e=>{if(void 0===e.index)return;const t=y+e.index+1,r=t+e[0].length,o={from:n.tr.mapping.map(t),to:n.tr.mapping.map(r)},h=i.handler({state:n,range:o,match:e,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});d.push(h)})});return d.every(e=>null!==e)}var JM=null;function XM(e){const{editor:t,rules:n}=e;let r,o=null,i=!1,s=!1,a="undefined"!==typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{r="undefined"!==typeof DragEvent?new DragEvent("drop"):null}catch(u){r=null}const l=e=>{let{state:n,from:o,to:i,rule:s,pasteEvt:l}=e;const c=n.tr,u=RP({state:n,transaction:c});if(QM({editor:t,state:u,from:Math.max(o-1,0),to:i.b-1,rule:s,pasteEvent:l,dropEvent:r})&&c.steps.length){try{r="undefined"!==typeof DragEvent?new DragEvent("drop"):null}catch(d){r=null}return a="undefined"!==typeof ClipboardEvent?new ClipboardEvent("paste"):null,c}},c=n.map(e=>new TD({view(e){const n=n=>{var r;o=(null==(r=e.dom.parentElement)?void 0:r.contains(n.target))?e.dom.parentElement:null,o&&(JM=t)},r=()=>{JM&&(JM=null)};return window.addEventListener("dragstart",n),window.addEventListener("dragend",r),{destroy(){window.removeEventListener("dragstart",n),window.removeEventListener("dragend",r)}}},props:{handleDOMEvents:{drop:(e,t)=>{if(s=o===e.dom.parentElement,r=t,!s){const e=JM;(null==e?void 0:e.isEditable)&&setTimeout(()=>{const t=e.state.selection;t&&e.commands.deleteRange({from:t.from,to:t.to})},10)}return!1},paste:(e,t)=>{var n;const r=null==(n=t.clipboardData)?void 0:n.getData("text/html");return a=t,i=!!(null==r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(t,n,r)=>{const o=t[0],c="paste"===o.getMeta("uiEvent")&&!i,u="drop"===o.getMeta("uiEvent")&&!s,d=o.getMeta("applyPasteRules"),h=!!d;if(!c&&!u&&!h)return;if(h){let{text:t}=d;"string"===typeof t||(t=Qj(uT.from(t),r.schema));const{from:n}=d,o=n+t.length,i=(e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null==(t=n.clipboardData)||t.setData("text/html",e),n})(t);return l({rule:e,state:r,from:n,to:{b:o},pasteEvt:i})}const p=n.doc.content.findDiffStart(r.doc.content),f=n.doc.content.findDiffEnd(r.doc.content);return"number"===typeof p&&f&&p!==f.b?l({rule:e,state:r,from:p,to:f,pasteEvt:a}):void 0}}));return c}var ZM=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=aM(e),this.schema=iM(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n=Gj(t,"addCommands",{name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:mM(t.name,this.schema)});return n?(0,i.A)((0,i.A)({},e),n()):e},{})}get plugins(){const{editor:e}=this,t=sM([...this.extensions].reverse()).flatMap(t=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:mM(t.name,this.schema)},r=[],o=Gj(t,"addKeyboardShortcuts",n);let s={};if("mark"===t.type&&Gj(t,"exitable",n)&&(s.ArrowRight=()=>GM.handleExit({editor:e,mark:t})),o){const t=Object.fromEntries(Object.entries(o()).map(t=>{let[n,r]=t;return[n,()=>r({editor:e})]}));s=(0,i.A)((0,i.A)({},s),t)}const a=new TD({props:{handleKeyDown:PP(s)}});r.push(a);const l=Gj(t,"addInputRules",n);if(yM(t,e.options.enableInputRules)&&l){const t=l();if(t&&t.length){const n=function(e){const{editor:t,rules:n}=e,r=new TD({state:{init:()=>null,apply(e,o,i){const s=e.getMeta(r);if(s)return s;const a=e.getMeta("applyInputRules");return!!a&&setTimeout(()=>{let{text:e}=a;"string"===typeof e||(e=Qj(uT.from(e),i.schema));const{from:o}=a,s=o+e.length;qM({editor:t,from:o,to:s,text:e,rules:n,plugin:r})}),e.selectionSet||e.docChanged?null:o}},props:{handleTextInput:(e,o,i,s)=>qM({editor:t,from:o,to:i,text:s,rules:n,plugin:r}),handleDOMEvents:{compositionend:e=>(setTimeout(()=>{const{$cursor:o}=e.state.selection;o&&qM({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(e,o){if("Enter"!==o.key)return!1;const{$cursor:i}=e.state.selection;return!!i&&qM({editor:t,from:i.pos,to:i.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}({editor:e,rules:t}),o=Array.isArray(n)?n:[n];r.push(...o)}}const c=Gj(t,"addPasteRules",n);if(yM(t,e.options.enablePasteRules)&&c){const t=c();if(t&&t.length){const n=XM({editor:e,rules:t});r.push(...n)}}const u=Gj(t,"addProseMirrorPlugins",n);if(u){const e=u();r.push(...e)}return r});return t}get attributes(){return eM(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Zj(this.extensions);return Object.fromEntries(t.filter(e=>!!Gj(e,"addNodeView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:YP(t.name,this.schema)},o=Gj(t,"addNodeView",r);if(!o)return[];return[t.name,(r,i,s,a,l)=>{const c=nM(r,n);return o()({node:r,view:i,getPos:s,decorations:a,innerDecorations:l,editor:e,extension:t,HTMLAttributes:c})}]}))}get markViews(){const{editor:e}=this,{markExtensions:t}=Zj(this.extensions);return Object.fromEntries(t.filter(e=>!!Gj(e,"addMarkView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:e,type:rj(t.name,this.schema)},o=Gj(t,"addMarkView",r);if(!o)return[];return[t.name,(r,i,s)=>{const a=nM(r,n);return o()({mark:r,view:i,inline:s,editor:e,extension:t,HTMLAttributes:a,updateAttributes:t=>{CR(r,e,t)}})}]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(e=>[e.name,e.storage])),e.forEach(e=>{var t;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:mM(e.name,this.schema)};if("mark"===e.type){(null==(t=Xj(Gj(e,"keepOnSplit",n)))||t)&&this.splittableMarks.push(e.name)}const r=Gj(e,"onBeforeCreate",n),o=Gj(e,"onCreate",n),i=Gj(e,"onUpdate",n),s=Gj(e,"onSelectionUpdate",n),a=Gj(e,"onTransaction",n),l=Gj(e,"onFocus",n),c=Gj(e,"onBlur",n),u=Gj(e,"onDestroy",n);r&&this.editor.on("beforeCreate",r),o&&this.editor.on("create",o),i&&this.editor.on("update",i),s&&this.editor.on("selectionUpdate",s),a&&this.editor.on("transaction",a),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),u&&this.editor.on("destroy",u)})}};ZM.resolve=aM,ZM.sort=sM,ZM.flatten=$j;MP({},{ClipboardTextSerializer:()=>tR,Commands:()=>nR,Delete:()=>rR,Drop:()=>oR,Editable:()=>iR,FocusEvents:()=>aR,Keymap:()=>lR,Paste:()=>cR,Tabindex:()=>uR,focusEventsPluginKey:()=>sR});var eR=class e extends KM{constructor(){super(...arguments),this.type="extension"}static create(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n="function"===typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"===typeof e?e():e;return super.extend(t)}},tR=eR.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new TD({key:new ND("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(e=>e.$from.pos)),l=Math.max(...s.map(e=>e.$to.pos)),c=uM(n);return lM(r,{from:a,to:l},(0,i.A)((0,i.A)({},void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{}),{},{textSerializers:c}))}}})]}}),nR=eR.create({name:"commands",addCommands:()=>(0,i.A)({},LP)}),rR=eR.create({name:"delete",onUpdate(e){let{transaction:t,appendedTransactions:n}=e;var r,o,i;const s=()=>{var e,r,o,i;if(null!=(i=null==(o=null==(r=null==(e=this.editor.options.coreExtensionOptions)?void 0:e.delete)?void 0:r.filterTransaction)?void 0:o.call(r,t))?i:t.getMeta("y-sync$"))return;const s=Yj(t.before,[t,...n]);pM(s).forEach(e=>{s.mapping.mapResult(e.oldRange.from).deletedAfter&&s.mapping.mapResult(e.oldRange.to).deletedBefore&&s.before.nodesBetween(e.oldRange.from,e.oldRange.to,(n,r)=>{const o=r+n.nodeSize-2,i=e.oldRange.from<=r&&o<=e.oldRange.to;this.editor.emit("delete",{type:"node",node:n,from:r,to:o,newFrom:s.mapping.map(r),newTo:s.mapping.map(o),deletedRange:e.oldRange,newRange:e.newRange,partial:!i,editor:this.editor,transaction:t,combinedTransform:s})})});const a=s.mapping;s.steps.forEach((e,n)=>{var r,o;if(e instanceof AA){const i=a.slice(n).map(e.from,-1),l=a.slice(n).map(e.to),c=a.invert().map(i,-1),u=a.invert().map(l),d=null==(r=s.doc.nodeAt(i-1))?void 0:r.marks.some(t=>t.eq(e.mark)),h=null==(o=s.doc.nodeAt(l))?void 0:o.marks.some(t=>t.eq(e.mark));this.editor.emit("delete",{type:"mark",mark:e.mark,from:e.from,to:e.to,deletedRange:{from:c,to:u},newRange:{from:i,to:l},partial:Boolean(h||d),editor:this.editor,transaction:t,combinedTransform:s})}})};null==(i=null==(o=null==(r=this.editor.options.coreExtensionOptions)?void 0:r.delete)?void 0:o.async)||i?setTimeout(s,0):s()}}),oR=eR.create({name:"drop",addProseMirrorPlugins(){return[new TD({key:new ND("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),iR=eR.create({name:"editable",addProseMirrorPlugins(){return[new TD({key:new ND("editable"),props:{editable:()=>this.editor.options.editable}})]}}),sR=new ND("focusEvents"),aR=eR.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new TD({key:sR,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),lR=eR.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.undoInputRule(),()=>t.command(e=>{let{tr:n}=e;const{selection:r,doc:o}=n,{empty:i,$anchor:s}=r,{pos:a,parent:l}=s,c=s.parent.isTextblock&&a>0?n.doc.resolve(a-1):s,u=c.parent.type.spec.isolating,d=s.pos-s.parentOffset,h=u&&1===c.parent.childCount?d===s.pos:lD.atStart(o).from===a;return!(!i||!l.type.isTextblock||l.textContent.length||!h||h&&"paragraph"===s.parent.type.name)&&t.clearNodes()}),()=>t.deleteSelection(),()=>t.joinBackward(),()=>t.selectNodeBackward()]}),t=()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.deleteSelection(),()=>t.deleteCurrentNode(),()=>t.joinForward(),()=>t.selectNodeForward()]}),n={Enter:()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()]}),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r=(0,i.A)({},n),o=(0,i.A)((0,i.A)({},n),{},{"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return uj()||Ej()?o:r},addProseMirrorPlugins(){return[new TD({key:new ND("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(e=>e.getMeta("composition")))return;const r=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),o=e.some(e=>e.getMeta("preventClearDocument"));if(!r||o)return;const{empty:i,from:s,to:a}=t.selection,l=lD.atStart(t.doc).from,c=lD.atEnd(t.doc).to;if(i||!(s===l&&a===c))return;if(!wM(n.doc))return;const u=n.tr,d=RP({state:n,transaction:u}),{commands:h}=new FP({editor:this.editor,state:d});return h.clearNodes(),u.steps.length?u:void 0}})]}}),cR=eR.create({name:"paste",addProseMirrorPlugins(){return[new TD({key:new ND("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),uR=eR.create({name:"tabindex",addProseMirrorPlugins(){return[new TD({key:new ND("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),dR=class e{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!=(e=this.actualDepth)?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return void console.error("You can\u2019t set content on a block node. Tried to set content on ".concat(this.name," at ").concat(this.pos));t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new e(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new e(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new e(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,s=this.pos+r+(i?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(s);if(!o&&a.depth<=this.depth)return;const l=new e(a,this.editor,o,o?n:null);o&&(l.actualDepth=this.depth+1),t.push(new e(a,this.editor,o,o?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===e)if(Object.keys(t).length>0){const e=r.node.attrs,n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=n[r];if(e[o]!==t[o])break}}else n=r;r=r.parent}return n}querySelector(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];if(!this.children||0===this.children.length)return r;const o=Object.keys(t);return this.children.forEach(i=>{if(!(n&&r.length>0)){if(i.node.type.name===e){o.every(e=>t[e]===i.node.attrs[e])&&r.push(i)}n&&r.length>0||(r=r.concat(i.querySelectorAll(e,t,n)))}}),r}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,(0,i.A)((0,i.A)({},this.node.attrs),e)),this.editor.view.dispatch(t)}};var hR=class extends VM{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:"undefined"!==typeof document?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:e=>{let{error:t}=e;throw t},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",e=>{let{event:t,slice:n,moved:r}=e;return this.options.onDrop(t,n,r)}),this.on("paste",e=>{let{event:t,slice:n}=e;return this.options.onPaste(t,n)}),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=lj(t,this.options.autofocus);this.editorState=SD.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if("undefined"===typeof document)throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;(null==e?void 0:e.editor)&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(".".concat(this.className)).length)try{"function"===typeof this.css.remove?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(pw){console.warn("Failed to remove CSS element:",pw)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&"undefined"!==typeof document&&(this.css=function(e,t,n){const r=document.querySelector("style[data-tiptap-style".concat(n?"-".concat(n):"","]"));if(null!==r)return r;const o=document.createElement("style");return t&&o.setAttribute("nonce",t),o.setAttribute("data-tiptap-style".concat(n?"-".concat(n):""),""),o.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(o),o}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}',this.options.injectNonce))}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=(0,i.A)((0,i.A)({},this.options),e),this.editorView&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if("state"===t)return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error("[tiptap error]: The editor view is not available. Cannot access view['".concat(t,"']. The editor may not be mounted yet."))}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=Jj(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(e=>{const t="string"===typeof e?"".concat(e,"$"):e.key;n=n.filter(e=>!e.key.startsWith(t))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[iR,tR.configure({blockSeparator:null==(t=null==(e=this.options.coreExtensionOptions)?void 0:e.clipboardTextSerializer)?void 0:t.blockSeparator}),nR,aR,lR,uR,oR,cR,rR].filter(e=>"object"!==typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[e.name]):[],...this.options.extensions].filter(e=>["extension","node","mark"].includes(null==e?void 0:e.type));this.extensionManager=new ZM(n,this)}createCommandManager(){this.commandManager=new FP({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=Hj(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(G1){if(!(G1 instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(G1.message))throw G1;this.emit("contentError",{editor:this,error:G1,disableCollaboration:()=>{"collaboration"in this.storage&&"object"===typeof this.storage.collaboration&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(e=>"collaboration"!==e.name),this.createExtensionManager()}}),e=Hj(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var t;this.editorView=new vP(e,(0,i.A)((0,i.A)({},this.options.editorProps),{},{attributes:(0,i.A)({role:"textbox"},null==(t=this.options.editorProps)?void 0:t.attributes),dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews}));const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className="".concat(this.className," ").concat(this.view.dom.className)}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach(e=>{var t;return null==(t=this.capturedTransaction)?void 0:t.step(e)}):void(this.capturedTransaction=e);const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),o=n.includes(e),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!o)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=n.findLast(e=>e.getMeta("focus")||e.getMeta("blur")),a=null==s?void 0:s.getMeta("focus"),l=null==s?void 0:s.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:s}),l&&this.emit("blur",{editor:this,event:l.event,transaction:s}),e.getMeta("preventUpdate")||!n.some(e=>e.docChanged)||i.doc.eq(t.doc)||this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return dM(this.state,e)}isActive(e,t){const n="string"===typeof e?e:null,r="string"===typeof e?t:e;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return Aj(e,null,n)||vM(e,null,n);const r=Pj(t,e.schema);return"node"===r?Aj(e,t,n):"mark"===r&&vM(e,t,n)}(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Qj(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return cM(this.state.doc,{blockSeparator:t,textSerializers:(0,i.A)((0,i.A)({},uM(this.schema)),n)})}get isEmpty(){return wM(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return null==(t=null==(e=this.editorView)?void 0:e.isDestroyed)||t}$node(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null==(n=this.$doc)?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new dR(t,this)}get $doc(){return this.$pos(0)}};function pR(e){return new HM({find:e.find,handler:t=>{let{state:n,range:r,match:o}=t;const i=Xj(e.getAttributes,void 0,o);if(!1===i||null===i)return null;const{tr:s}=n,a=o[o.length-1],l=o[0];if(a){const t=l.search(/\S/),o=r.from+l.indexOf(a),c=o+a.length;if(fM(r.from,r.to,n.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>o).length)return null;c<r.to&&s.delete(c,r.to),o>r.from&&s.delete(r.from+t,o);const u=r.from+t+a.length;s.addMark(r.from+t,u,e.type.create(i||{})),s.removeStoredMark(e.type)}},undoable:e.undoable})}function fR(e){return new HM({find:e.find,handler:t=>{let{state:n,range:r,match:o}=t;const i=Xj(e.getAttributes,void 0,o)||{},{tr:s}=n,a=r.from;let l=r.to;const c=e.type.create(i);if(o[1]){let e=a+o[0].lastIndexOf(o[1]);e>l?e=l:l=e+o[1].length;const t=o[0][o[0].length-1];s.insertText(t,a+o[0].length-1),s.replaceWith(e,l,c)}else if(o[0]){const t=e.type.isInline?a:a-1;s.insert(t,e.type.create(i)).delete(s.mapping.map(a),s.mapping.map(l))}s.scrollIntoView()},undoable:e.undoable})}function mR(e){if(!(null==e?void 0:e.trim()))return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,e=>(n.push(e),"__QUOTED_".concat(n.length-1,"__"))),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const e=o.map(e=>e.trim().slice(1));t.class=e.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(t.id=i[1]);Array.from(r.matchAll(/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g)).forEach(e=>{let[,r,o]=e;var i;const s=parseInt((null==(i=o.match(/__QUOTED_(\d+)__/))?void 0:i[1])||"0",10),a=n[s];a&&(t[r]=a.slice(1,-1))});const s=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();if(s){s.split(/\s+/).filter(Boolean).forEach(e=>{e.match(/^[a-zA-Z][\w-]*$/)&&(t[e]=!0)})}return t}function gR(e){if(!e||0===Object.keys(e).length)return"";const t=[];if(e.class){String(e.class).split(/\s+/).filter(Boolean).forEach(e=>t.push(".".concat(e)))}return e.id&&t.push("#".concat(e.id)),Object.entries(e).forEach(e=>{let[n,r]=e;"class"!==n&&"id"!==n&&(!0===r?t.push(n):!1!==r&&null!=r&&t.push("".concat(n,'="').concat(String(r),'"')))}),t.join(" ")}function vR(e){const{nodeName:t,name:n,parseAttributes:r=mR,serializeAttributes:o=gR,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:l}=e,c=n||t;return{parseMarkdown:(e,n)=>{const r=(0,i.A)((0,i.A)({},s),e.attributes);return n.createNode(t,r,[])},markdownTokenizer:{name:t,level:"block",start(e){var t;const n=new RegExp("^:::".concat(c,"(?:\\s|$)"),"m"),r=null==(t=e.match(n))?void 0:t.index;return void 0!==r?r:-1},tokenize(e,n,o){const i=new RegExp("^:::".concat(c,"(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)")),s=e.match(i);if(!s)return;const l=s[1]||"",u=r(l);return a.find(e=>!(e in u))?void 0:{type:t,raw:s[0],attributes:u}}},renderMarkdown:e=>{const t=(e=>{if(!l)return e;const t={};return l.forEach(n=>{n in e&&(t[n]=e[n])}),t})(e.attrs||{}),n=o(t),r=n?" {".concat(n,"}"):"";return":::".concat(c).concat(r," :::")}}}function yR(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=mR,serializeAttributes:s=gR,defaultAttributes:a={},content:l="block",allowedAttributes:c}=e,u=n||t;return{parseMarkdown:(e,n)=>{let o;if(r){const t=r(e);o="string"===typeof t?[{type:"text",text:t}]:t}else o="block"===l?n.parseChildren(e.tokens||[]):n.parseInline(e.tokens||[]);const s=(0,i.A)((0,i.A)({},a),e.attributes);return n.createNode(t,s,o)},markdownTokenizer:{name:t,level:"block",start(e){var t;const n=new RegExp("^:::".concat(u),"m"),r=null==(t=e.match(n))?void 0:t.index;return void 0!==r?r:-1},tokenize(e,n,r){var i;const s=new RegExp("^:::".concat(u,"(?:\\s+\\{([^}]*)\\})?\\s*\\n")),a=e.match(s);if(!a)return;const[c,d=""]=a,h=o(d);let p=1;const f=c.length;let m="";const g=/^:::([\w-]*)(\s.*)?/gm,v=e.slice(f);for(g.lastIndex=0;;){const n=g.exec(v);if(null===n)break;const o=n.index,s=n[1];if(!(null==(i=n[2])?void 0:i.endsWith(":::")))if(s)p+=1;else if(p-=1,0===p){const i=v.slice(0,o);m=i.trim();const s=e.slice(0,f+o+n[0].length);let a=[];if(m)if("block"===l)for(a=r.blockTokens(i),a.forEach(e=>{!e.text||e.tokens&&0!==e.tokens.length||(e.tokens=r.inlineTokens(e.text))});a.length>0;){const e=a[a.length-1];if("paragraph"!==e.type||e.text&&""!==e.text.trim())break;a.pop()}else a=r.inlineTokens(m);return{type:t,raw:s,attributes:h,content:m,tokens:a}}}}},renderMarkdown:(e,t)=>{const n=(e=>{if(!c)return e;const t={};return c.forEach(n=>{n in e&&(t[n]=e[n])}),t})(e.attrs||{}),r=s(n),o=r?" {".concat(r,"}"):"",i=t.renderChildren(e.content||[],"\n\n");return":::".concat(u).concat(o,"\n\n").concat(i,"\n\n:::")}}}function bR(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;null!==r;){const[,o,i,s]=r;t[o]=i||s,r=n.exec(e)}return t}function wR(e){return Object.entries(e).filter(e=>{let[,t]=e;return void 0!==t&&null!==t}).map(e=>{let[t,n]=e;return"".concat(t,'="').concat(n,'"')}).join(" ")}function xR(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=bR,serializeAttributes:s=wR,defaultAttributes:a={},selfClosing:l=!1,allowedAttributes:c}=e,u=n||t,d=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(e,n)=>{const o=(0,i.A)((0,i.A)({},a),e.attributes);if(l)return n.createNode(t,o);const s=r?r(e):e.content||"";return s?n.createNode(t,o,[n.createTextNode(s)]):n.createNode(t,o,[])},markdownTokenizer:{name:t,level:"inline",start(e){const t=l?new RegExp("\\[".concat(d,"\\s*[^\\]]*\\]")):new RegExp("\\[".concat(d,"\\s*[^\\]]*\\][\\s\\S]*?\\[\\/").concat(d,"\\]")),n=e.match(t),r=null==n?void 0:n.index;return void 0!==r?r:-1},tokenize(e,n,r){const i=l?new RegExp("^\\[".concat(d,"\\s*([^\\]]*)\\]")):new RegExp("^\\[".concat(d,"\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/").concat(d,"\\]")),s=e.match(i);if(!s)return;let a="",c="";if(l){const[,e]=s;c=e}else{const[,e,t]=s;c=e,a=t||""}const u=o(c.trim());return{type:t,raw:s[0],content:a.trim(),attributes:u}}},renderMarkdown:e=>{let t="";r?t=r(e):e.content&&e.content.length>0&&(t=e.content.filter(e=>"text"===e.type).map(e=>e.text).join(""));const n=(e=>{if(!c)return e;const t={};return c.forEach(n=>{n in e&&(t[n]=e[n])}),t})(e.attrs||{}),o=s(n),i=o?" ".concat(o):"";return l?"[".concat(u).concat(i,"]"):"[".concat(u).concat(i,"]").concat(t,"[/").concat(u,"]")}}}function kR(e,t,n){var r,o,i,s;const a=e.split("\n"),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<a.length;){const e=a[u],h=e.match(t.itemPattern);if(!h){if(l.length>0)break;if(""===e.trim()){u+=1;continue}return}const p=t.extractItemData(h),{indentLevel:f,mainContent:m}=p;c="".concat(c).concat(e,"\n");const g=[m];for(u+=1;u<a.length;){const e=a[u];if(""===e.trim()){const t=a.slice(u+1).findIndex(e=>""!==e.trim());if(-1===t)break;if(((null==(o=null==(r=a[u+1+t].match(/^(\s*)/))?void 0:r[1])?void 0:o.length)||0)>f){g.push(e),c="".concat(c).concat(e,"\n"),u+=1;continue}break}if(!(((null==(s=null==(i=e.match(/^(\s*)/))?void 0:i[1])?void 0:s.length)||0)>f))break;g.push(e),c="".concat(c).concat(e,"\n"),u+=1}let v;const y=g.slice(1);if(y.length>0){const e=y.map(e=>e.slice(f+d)).join("\n");e.trim()&&(v=t.customNestedParser?t.customNestedParser(e):n.blockTokens(e))}const b=t.createToken(p,v);l.push(b)}if(0!==l.length)return{items:l,raw:c.trim()}}function _R(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o="function"===typeof n?n(r):n,[i,...s]=e.content,a=t.renderChildren([i]),l=["".concat(o).concat(a)];return s&&s.length>0&&s.forEach(e=>{const n=t.renderChildren([e]);if(n){const e=n.split("\n").map(e=>e?t.indent(e):"").join("\n");l.push(e)}}),l.join("\n")}function CR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{state:r}=t,{doc:o,tr:s}=r,a=e;o.descendants((t,r)=>{const o=s.mapping.map(r),l=s.mapping.map(r)+t.nodeSize;let c=null;if(t.marks.forEach(e=>{if(e!==a)return!1;c=e}),!c)return;let u=!1;if(Object.keys(n).forEach(e=>{n[e]!==c.attrs[e]&&(u=!0)}),u){const t=e.type.create((0,i.A)((0,i.A)({},e.attrs),n));s.removeMark(o,l,e.type),s.addMark(o,l,t)}}),s.docChanged&&t.view.dispatch(s)}MP({},{createAtomBlockMarkdownSpec:()=>vR,createBlockMarkdownSpec:()=>yR,createInlineMarkdownSpec:()=>xR,parseAttributes:()=>mR,parseIndentedBlocks:()=>kR,renderNestedMarkdownContent:()=>_R,serializeAttributes:()=>gR});var SR=class e extends KM{constructor(){super(...arguments),this.type="node"}static create(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n="function"===typeof t?t():t;return new e(n)}configure(e){return super.configure(e)}extend(e){const t="function"===typeof e?e():e;return super.extend(t)}},ER=class{constructor(e,t,n){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options=(0,i.A)({stopEvent:null,ignoreMutation:null},n),this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,n,r,o,i,s,a;const{view:l}=this.editor,c=e.target,u=3===c.nodeType?null==(t=c.parentElement)?void 0:t.closest("[data-drag-handle]"):c.closest("[data-drag-handle]");if(!this.dom||(null==(n=this.contentDOM)?void 0:n.contains(c))||!u)return;let d=0,h=0;if(this.dom!==u){const t=this.dom.getBoundingClientRect(),n=u.getBoundingClientRect(),a=null!=(o=e.offsetX)?o:null==(r=e.nativeEvent)?void 0:r.offsetX,l=null!=(s=e.offsetY)?s:null==(i=e.nativeEvent)?void 0:i.offsetY;d=n.x-t.x+a,h=n.y-t.y+l}const p=this.dom.cloneNode(!0);try{const e=this.dom.getBoundingClientRect();p.style.width="".concat(Math.round(e.width),"px"),p.style.height="".concat(Math.round(e.height),"px"),p.style.boxSizing="border-box",p.style.pointerEvents="none"}catch(y){}let f=null;try{f=document.createElement("div"),f.style.position="absolute",f.style.top="-9999px",f.style.left="-9999px",f.style.pointerEvents="none",f.appendChild(p),document.body.appendChild(f),null==(a=e.dataTransfer)||a.setDragImage(p,d,h)}finally{f&&setTimeout(()=>{try{null==f||f.remove()}catch(e){}},0)}const m=this.getPos();if("number"!==typeof m)return;const g=fD.create(l.state.doc,m),v=l.state.tr.setSelection(g);l.dispatch(v)}stopEvent(e){var t;if(!this.dom)return!1;if("function"===typeof this.options.stopEvent)return this.options.stopEvent({event:e});const n=e.target;if(!(this.dom.contains(n)&&!(null==(t=this.contentDOM)?void 0:t.contains(n))))return!1;const r=e.type.startsWith("drag"),o="drop"===e.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!o&&!r)return!0;const{isEditable:i}=this.editor,{isDragging:s}=this,a=!!this.node.type.spec.draggable,l=fD.isSelectable(this.node),c="copy"===e.type,u="paste"===e.type,d="cut"===e.type,h="mousedown"===e.type;if(!a&&l&&r&&e.target===this.dom&&e.preventDefault(),a&&r&&!s&&e.target===this.dom)return e.preventDefault(),!1;if(a&&i&&!s&&h){const e=n.closest("[data-drag-handle]");e&&(this.dom===e||this.dom.contains(e))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(s||o||c||u||d||h&&l)}ignoreMutation(e){if(!this.dom||!this.contentDOM)return!0;if("function"===typeof this.options.ignoreMutation)return this.options.ignoreMutation({mutation:e});if(this.node.isLeaf||this.node.isAtom)return!0;if("selection"===e.type)return!1;if(this.dom.contains(e.target)&&"childList"===e.type&&(uj()||cj())&&this.editor.isFocused){if([...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(e=>e.isContentEditable))return!1}return this.contentDOM===e.target&&"attributes"===e.type||!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(t=>{let{tr:n}=t;const r=this.getPos();return"number"===typeof r&&(n.setNodeMarkup(r,void 0,(0,i.A)((0,i.A)({},this.node.attrs),e)),!0)})}deleteNode(){const e=this.getPos();if("number"!==typeof e)return;const t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}};function TR(e){return new $M({find:e.find,handler:t=>{let{state:n,range:r,match:o,pasteEvent:i}=t;const s=Xj(e.getAttributes,void 0,o,i);if(!1===s||null===s)return null;const{tr:a}=n,l=o[o.length-1],c=o[0];let u=r.to;if(l){const t=c.search(/\S/),o=r.from+c.indexOf(l),i=o+l.length;if(fM(r.from,r.to,n.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>o).length)return null;i<r.to&&a.delete(i,r.to),o>r.from&&a.delete(r.from+t,o),u=r.from+t+l.length,a.addMark(r.from+t,u,e.type.create(s||{})),a.removeStoredMark(e.type)}}})}var AR=n(2756),DR=n(8443);const NR=["editor","innerRef"];var OR=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):t&&(t.current=e)})}},IR=e=>{let{contentComponent:t}=e;const n=(0,iT.useSyncExternalStore)(t.subscribe,t.getSnapshot,t.getServerSnapshot);return(0,Et.jsx)(Et.Fragment,{children:Object.values(n)})};var PR=class extends e.Component{constructor(t){var n;super(t),this.editorContentRef=e.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:Boolean(null==(n=t.editor)?void 0:n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(e.view.dom),e.setOptions({element:t}),e.contentComponent=function(){const e=new Set;let t={};return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),getSnapshot:()=>t,getServerSnapshot:()=>t,setRenderer(n,r){t=(0,i.A)((0,i.A)({},t),{},{[n]:xy.createPortal(r.reactElement,r.element,n)}),e.forEach(e=>e())},removeRenderer(n){const r=(0,i.A)({},t);delete r[n],t=r,e.forEach(e=>e())}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(e=>e.hasContentComponentInitialized?e:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!(null==(e=t.view.dom)?void 0:e.firstChild))return;const n=document.createElement("div");n.append(t.view.dom),t.setOptions({element:n})}catch(n){}}}render(){const e=this.props,{editor:t,innerRef:n}=e,r=(0,o.A)(e,NR);return(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("div",(0,i.A)({ref:OR(n,this.editorContentRef)},r)),(null==t?void 0:t.contentComponent)&&(0,Et.jsx)(IR,{contentComponent:t.contentComponent})]})}},jR=(0,e.forwardRef)((t,n)=>{const r=e.useMemo(()=>Math.floor(4294967295*Math.random()).toString(),[t.editor]);return e.createElement(PR,(0,i.A)({key:r,innerRef:n},t))}),MR=e.memo(jR),RR="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,FR=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(e=>e())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};var LR="undefined"===typeof window,zR=LR||Boolean("undefined"!==typeof window&&window.next),BR=class e{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(e=>e())}getInitialEditor(){return void 0===this.options.current.immediatelyRender?LR||zR?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){var e=this;const t=(0,i.A)((0,i.A)({},this.options.current),{},{onBeforeCreate:function(){for(var t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null==(n=(t=e.options.current).onBeforeCreate)?void 0:n.call(t,...o)},onBlur:function(){for(var t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null==(n=(t=e.options.current).onBlur)?void 0:n.call(t,...o)},onCreate:function(){for(var t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null==(n=(t=e.options.current).onCreate)?void 0:n.call(t,...o)},onDestroy:function(){for(var t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null==(n=(t=e.options.current).onDestroy)?void 0:n.call(t,...o)},onFocus:function(){for(var t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null==(n=(t=e.options.current).onFocus)?void 0:n.call(t,...o)},onSelectionUpdate:function(){for(var t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null==(n=(t=e.options.current).onSelectionUpdate)?void 0:n.call(t,...o)},onTransaction:function(){for(var t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null==(n=(t=e.options.current).onTransaction)?void 0:n.call(t,...o)},onUpdate:function(){for(var t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null==(n=(t=e.options.current).onUpdate)?void 0:n.call(t,...o)},onContentError:function(){for(var t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null==(n=(t=e.options.current).onContentError)?void 0:n.call(t,...o)},onDrop:function(){for(var t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null==(n=(t=e.options.current).onDrop)?void 0:n.call(t,...o)},onPaste:function(){for(var t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null==(n=(t=e.options.current).onPaste)?void 0:n.call(t,...o)},onDelete:function(){for(var t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null==(n=(t=e.options.current).onDelete)?void 0:n.call(t,...o)}});return new hR(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(n=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)||("extensions"===n&&e.extensions&&t.extensions?e.extensions.length===t.extensions.length&&e.extensions.every((e,n)=>{var r;return e===(null==(r=t.extensions)?void 0:r[n])}):e[n]===t[n]))}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===t.length?e.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions((0,i.A)((0,i.A)({},this.options.current),{},{editable:this.editor.isEditable})):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps)return void(this.previousDeps=e);const t=this.previousDeps.length===e.length&&this.previousDeps.every((t,n)=>t===e[n]);if(t)return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{this.isComponentMounted&&this.instanceId===e?t&&t.setOptions(this.options.current):t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function UR(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=(0,e.useRef)(t);r.current=t;const[o]=(0,e.useState)(()=>new BR(r)),i=(0,iT.useSyncExternalStore)(o.subscribe,o.getEditor,o.getServerSnapshot);return(0,e.useDebugValue)(i),(0,e.useEffect)(o.onRender(n)),function(t){var n;const[r]=(0,e.useState)(()=>new FR(t.editor)),o=(0,DR.useSyncExternalStoreWithSelector)(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,null!=(n=t.equalityFn)?n:AR);RR(()=>r.watch(t.editor),[t.editor,r]),(0,e.useDebugValue)(o)}({editor:i,selector:e=>{let{transactionNumber:n}=e;return!1===t.shouldRerenderOnTransaction||void 0===t.shouldRerenderOnTransaction?null:t.immediatelyRender&&0===n?0:n+1}}),i}var VR=(0,e.createContext)({editor:null});VR.Consumer;var HR=(0,e.createContext)({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),qR=()=>(0,e.useContext)(HR);var WR=e.forwardRef((e,t)=>{const{onDragStart:n}=qR(),r=e.as||"div";return(0,Et.jsx)(r,(0,i.A)((0,i.A)({},e),{},{ref:t,"data-node-view-wrapper":"",onDragStart:n,style:(0,i.A)({whiteSpace:"normal"},e.style)}))});function YR(e){return!("function"!==typeof e||!e.prototype||!e.prototype.isReactComponent)}function KR(e){return!("object"!==typeof e||!e.$$typeof||"Symbol(react.forward_ref)"!==e.$$typeof.toString()&&"react.forward_ref"!==e.$$typeof.description)}var GR=class{constructor(e,t){let{editor:n,props:r={},as:o="div",className:i=""}=t;this.ref=null,this.id=Math.floor(4294967295*Math.random()).toString(),this.component=e,this.editor=n,this.props=r,this.element=document.createElement(o),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.editor.isInitialized?(0,xy.flushSync)(()=>{this.render()}):queueMicrotask(()=>{this.render()})}render(){var t;const n=this.component,r=this.props,o=this.editor,s=function(){try{if(e.version)return parseInt(e.version.split(".")[0],10)>=19}catch(t){}return!1}(),a=function(e){if(YR(e))return!0;if(KR(e))return!0;if(function(e){return!("object"!==typeof e||!e.$$typeof||"Symbol(react.memo)"!==e.$$typeof.toString()&&"react.memo"!==e.$$typeof.description)}(e)){const t=e.type;if(t)return YR(t)||KR(t)}return!1}(n),l=(0,i.A)({},r);!l.ref||s||a||delete l.ref,l.ref||!s&&!a||(l.ref=e=>{this.ref=e}),this.reactElement=(0,Et.jsx)(n,(0,i.A)({},l)),null==(t=null==o?void 0:o.contentComponent)||t.setRenderer(this.id,this)}updateProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props=(0,i.A)((0,i.A)({},this.props),e),this.render()}destroy(){var e;const t=this.editor;null==(e=null==t?void 0:t.contentComponent)||e.removeRenderer(this.id);try{this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}catch(n){}}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}};e.createContext({markViewContentRef:()=>{}});var $R=class extends ER{constructor(e,t,n){if(super(e,t,n),!this.node.isLeaf){this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.dataset.nodeViewWrapper="",this.contentDOMElement.style.whiteSpace="inherit";const e=this.dom.querySelector("[data-node-view-content]");if(!e)return;e.appendChild(this.contentDOMElement)}}mount(){var t=this;const n={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.updateAttributes(e)},deleteNode:()=>this.deleteNode(),ref:(0,e.createRef)()};if(!this.component.displayName){const e=e=>e.charAt(0).toUpperCase()+e.substring(1);this.component.displayName=e(this.extension.name)}const r={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:e=>{e&&this.contentDOMElement&&e.firstChild!==this.contentDOMElement&&(e.hasAttribute("data-node-view-wrapper")&&e.removeAttribute("data-node-view-wrapper"),e.appendChild(this.contentDOMElement))}},o=this.component,i=(0,e.memo)(t=>(0,Et.jsx)(HR.Provider,{value:r,children:(0,e.createElement)(o,t)}));i.displayName="ReactNodeView";let s=this.node.isInline?"span":"div";this.options.as&&(s=this.options.as);const{className:a=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new GR(i,{editor:this.editor,props:n,as:s,className:"node-".concat(this.node.type.name," ").concat(a).trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var e;if(this.renderer.element.firstElementChild&&!(null==(e=this.renderer.element.firstElementChild)?void 0:e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection,n=this.getPos();if("number"===typeof n)if(e<=n&&t>=n+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t,n){const r=e=>{this.renderer.updateProps(e),"function"===typeof this.options.attrs&&this.updateElementAttributes()};if(e.type!==this.node.type)return!1;if("function"===typeof this.options.update){const o=this.node,i=this.decorations,s=this.innerDecorations;return this.node=e,this.decorations=t,this.innerDecorations=n,this.options.update({oldNode:o,oldDecorations:i,newNode:e,newDecorations:t,oldInnerDecorations:s,innerDecorations:n,updateProps:()=>r({node:e,decorations:t,innerDecorations:n})})}return e===this.node&&this.decorations===t&&this.innerDecorations===n||(this.node=e,this.decorations=t,this.innerDecorations=n,r({node:e,decorations:t,innerDecorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let e={};if("function"===typeof this.options.attrs){const t=this.editor.extensionManager.attributes,n=nM(this.node,t);e=this.options.attrs({node:this.node,HTMLAttributes:n})}else e=this.options.attrs;this.renderer.updateAttributes(e)}}};var QR=SR.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,"\n\n"):""}),JR=QR,XR=SR.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML(e){let{HTMLAttributes:t}=e;return["p",tM(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];return 1===n.length&&"image"===n[0].type?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>e&&Array.isArray(e.content)?t.renderChildren(e.content):"",addCommands(){return{setParagraph:()=>e=>{let{commands:t}=e;return t.setNode(this.name)}}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),ZR=XR,eF=SR.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""});function tF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new TD({view:t=>new nF(t,e)})}class nF{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=t.width)&&void 0!==n?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}})}destroy(){this.handlers.forEach(e=>{let{name:t,handler:n}=e;return this.editorView.dom.removeEventListener(t,n)})}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r=this.editorView.dom,o=r.getBoundingClientRect(),i=o.width/r.offsetWidth,s=o.height/r.offsetHeight;if(n){let n=t.nodeBefore,r=t.nodeAfter;if(n||r){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(t){let o=t.getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let a=this.width/2*s;e={left:o.left,right:o.right,top:i-a,bottom:i+a}}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos),n=this.width/2*i;e={left:t.left-n,right:t.left+n,top:t.top,bottom:t.bottom}}let a,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!c||c==document.body&&"static"==getComputedStyle(c).position)a=-pageXOffset,l=-pageYOffset;else{let e=c.getBoundingClientRect(),t=e.width/c.offsetWidth,n=e.height/c.offsetHeight;a=e.left-c.scrollLeft*t,l=e.top-c.scrollTop*n}this.element.style.left=(e.left-a)/i+"px",this.element.style.top=(e.top-l)/s+"px",this.element.style.width=(e.right-e.left)/i+"px",this.element.style.height=(e.bottom-e.top)/s+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,t,e):r;if(t&&!o){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=WA(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class rF extends lD{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return rF.valid(n)?new rF(n):lD.near(n)}content(){return gT.empty}eq(e){return e instanceof rF&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new rF(e.resolve(t.pos))}getBookmark(){return new oF(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||iF(e.type))return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||iF(e.type))return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e:for(;;){if(!n&&rF.valid(e))return e;let r=e.pos,o=null;for(let n=e.depth;;n--){let i=e.node(n);if(t>0?e.indexAfter(n)<i.childCount:e.index(n)>0){o=i.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let s=e.doc.resolve(r);if(rF.valid(s))return s}for(;;){let i=t>0?o.firstChild:o.lastChild;if(!i){if(o.isAtom&&!o.isText&&!fD.isSelectable(o)){e=e.doc.resolve(r+o.nodeSize*t),n=!1;continue e}break}o=i,r+=t;let s=e.doc.resolve(r);if(rF.valid(s))return s}return null}}}rF.prototype.visible=!1,rF.findFrom=rF.findGapCursorFrom,lD.jsonID("gapcursor",rF);class oF{constructor(e){this.pos=e}map(e){return new oF(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return rF.valid(t)?new rF(t):lD.near(t)}}function iF(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}const sF=PP({ArrowLeft:aF("horiz",-1),ArrowRight:aF("horiz",1),ArrowUp:aF("vert",-1),ArrowDown:aF("vert",1)});function aF(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,o){let i=e.selection,s=t>0?i.$to:i.$from,a=i.empty;if(i instanceof hD){if(!o.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=e.doc.resolve(t>0?s.after():s.before())}let l=rF.findGapCursorFrom(s,t,a);return!!l&&(r&&r(e.tr.setSelection(new rF(l))),!0)}}function lF(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!rF.valid(r))return!1;let o=e.posAtCoords({left:n.clientX,top:n.clientY});return!(o&&o.inside>-1&&fD.isSelectable(e.state.doc.nodeAt(o.inside)))&&(e.dispatch(e.state.tr.setSelection(new rF(r))),!0)}function cF(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof rF))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let o=uT.empty;for(let s=r.length-1;s>=0;s--)o=uT.from(r[s].createAndFill(null,o));let i=e.state.tr.replace(n.pos,n.pos,new gT(o,0,0));return i.setSelection(hD.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function uF(e){if(!(e.selection instanceof rF))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",YI.create(e.doc,[HI.widget(e.selection.head,t,{key:"gapcursor"})])}var dF=200,hF=function(){};hF.prototype.append=function(e){return e.length?(e=hF.from(e),!this.length&&e||e.length<dF&&this.leafAppend(e)||this.length<dF&&e.leafPrepend(this)||this.appendInner(e)):this},hF.prototype.prepend=function(e){return e.length?hF.from(e).append(this):this},hF.prototype.appendInner=function(e){return new fF(this,e)},hF.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?hF.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},hF.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},hF.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},hF.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(t,n){return r.push(e(t,n))},t,n),r},hF.from=function(e){return e instanceof hF?e:e&&e.length?new pF(e):hF.empty};var pF=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=dF)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=dF)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(hF);hF.empty=new pF([]);var fF=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(hF);const mF=hF;class gF{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,o=this.items.length;for(;;o--){if(this.items.get(o-1).selection){--o;break}}t&&(n=this.remapping(o,this.items.length),r=n.maps.length);let i,s,a=e.tr,l=[],c=[];return this.items.forEach((e,t)=>{if(!e.step)return n||(n=this.remapping(o,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new vF(e.map));let t,o=e.step.map(n.slice(r));o&&a.maybeStep(o).doc&&(t=a.mapping.maps[a.mapping.maps.length-1],l.push(new vF(t,void 0,void 0,l.length+c.length))),r--,t&&n.appendMap(t,r)}else a.maybeStep(e.step);return e.selection?(i=n?e.selection.map(n.slice(r)):e.selection,s=new gF(this.items.slice(0,o).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:s,transform:a,selection:i}}addTransform(e,t,n,r){let o=[],i=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let n,l=e.steps[c].invert(e.docs[c]),u=new vF(e.mapping.maps[c],l,t);(n=a&&a.merge(u))&&(u=n,c?o.pop():s=s.slice(0,s.length-1)),o.push(u),t&&(i++,t=void 0),r||(a=u)}let l=i-n.depth;return l>bF&&(s=function(e,t){let n;return e.forEach((e,r)=>{if(e.selection&&0==t--)return n=r,!1}),e.slice(n)}(s,l),i-=l),new gF(s.append(o),i)}remapping(e,t){let n=new kA;return this.items.forEach((t,r)=>{let o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)},e,t),n}addMaps(e){return 0==this.eventCount?this:new gF(this.items.append(e.map(e=>new vF(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,s=this.eventCount;this.items.forEach(e=>{e.selection&&s--},r);let a=t;this.items.forEach(t=>{let r=o.getMirror(--a);if(null==r)return;i=Math.min(i,r);let l=o.maps[r];if(t.step){let i=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(o.slice(a+1,r));c&&s++,n.push(new vF(l,i,c))}else n.push(new vF(l))},r);let l=[];for(let d=t;d<i;d++)l.push(new vF(o.maps[d]));let c=this.items.slice(0,r).append(l).append(n),u=new gF(c,s);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items.length,t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach((i,s)=>{if(s>=e)r.push(i),i.selection&&o++;else if(i.step){let e=i.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let a=i.selection&&i.selection.map(t.slice(n));a&&o++;let l,c=new vF(s.invert(),e,a),u=r.length-1;(l=r.length&&r[u].merge(c))?r[u]=l:r.push(c)}}else i.map&&n--},this.items.length,0),new gF(mF.from(r.reverse()),o)}}gF.empty=new gF(mF.empty,0);class vF{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new vF(t.getMap().invert(),t,this.selection)}}}class yF{constructor(e,t,n,r,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=o}}const bF=20;function wF(e){let t=[];for(let n=e.length-1;n>=0&&0==t.length;n--)e[n].forEach((e,n,r,o)=>t.push(r,o));return t}function xF(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}let kF=!1,_F=null;function CF(e){let t=e.plugins;if(_F!=t){kF=!1,_F=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){kF=!0;break}}return kF}const SF=new ND("history"),EF=new ND("closeHistory");function TF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new TD({key:SF,state:{init:()=>new yF(gF.empty,gF.empty,null,0,-1),apply:(t,n,r)=>function(e,t,n,r){let o,i=n.getMeta(SF);if(i)return i.historyState;n.getMeta(EF)&&(e=new yF(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(SF))return s.getMeta(SF).redo?new yF(e.done.addTransform(n,void 0,r,CF(t)),e.undone,wF(n.mapping.maps),e.prevTime,e.prevComposition):new yF(e.done,e.undone.addTransform(n,void 0,r,CF(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new yF(e.done.rebased(n,o),e.undone.rebased(n,o),xF(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new yF(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),xF(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let o=n.getMeta("composition"),i=0==e.prevTime||!s&&e.prevComposition!=o&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,r)=>{for(let o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)}),n}(n,e.prevRanges)),a=s?xF(e.prevRanges,n.mapping):wF(n.mapping.maps);return new yF(e.done.addTransform(n,i?t.selection.getBookmark():void 0,r,CF(t)),gF.empty,a,n.time,null==o?e.prevComposition:o)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?DF:"historyRedo"==n?NF:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}function AF(e,t){return(n,r)=>{let o=SF.getState(n);if(!o||0==(e?o.undone:o.done).eventCount)return!1;if(r){let i=function(e,t,n){let r=CF(t),o=SF.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let s=i.selection.resolve(i.transform.doc),a=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),o,r),l=new yF(n?a:i.remaining,n?i.remaining:a,null,0,-1);return i.transform.setSelection(s).setMeta(SF,{redo:n,historyState:l})}(o,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const DF=AF(!1,!0),NF=AF(!0,!0);AF(!1,!1),AF(!0,!1);eR.create({name:"characterCount",addOptions:()=>({limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(e=>""!==e).length}),addStorage:()=>({characters:()=>0,words:()=>0}),onBeforeCreate(){this.storage.characters=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc;if("textSize"===((null==e?void 0:e.mode)||this.options.mode)){const e=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(e)}return t.nodeSize},this.storage.words=e=>{const t=(null==e?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new TD({key:new ND("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const o=this.options.limit;if(null===o||void 0===o||0===o)return void(e=!0);const i=this.storage.characters({node:r.doc});if(i>o){const t=0,n=i-o;console.warn("[CharacterCount] Initial content exceeded limit of ".concat(o," characters. Content was automatically trimmed."));const s=r.tr.deleteRange(t,n);return e=!0,s}e=!0},filterTransaction:(e,t)=>{const n=this.options.limit;if(!e.docChanged||0===n||null===n||void 0===n)return!0;const r=this.storage.characters({node:t.doc}),o=this.storage.characters({node:e.doc});if(o<=n)return!0;if(r>n&&o>n&&o<=r)return!0;if(r>n&&o>n&&o>r)return!1;if(!e.getMeta("paste"))return!1;const i=e.selection.$head.pos,s=i-(o-n),a=i;e.deleteRange(s,a);return!(this.storage.characters({node:e.doc})>n)}})]}}),eR.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[tF(this.options)]}}),eR.create({name:"focus",addOptions:()=>({className:"has-focus",mode:"all"}),addProseMirrorPlugins(){return[new TD({key:new ND("focus"),props:{decorations:e=>{let{doc:t,selection:n}=e;const{isEditable:r,isFocused:o}=this.editor,{anchor:i}=n,s=[];if(!r||!o)return YI.create(t,[]);let a=0;"deepest"===this.options.mode&&t.descendants((e,t)=>{if(e.isText)return;if(!(i>=t&&i<=t+e.nodeSize-1))return!1;a+=1});let l=0;return t.descendants((e,t)=>{if(e.isText)return!1;if(!(i>=t&&i<=t+e.nodeSize-1))return!1;l+=1;if("deepest"===this.options.mode&&a-l>0||"shallowest"===this.options.mode&&l>1)return"deepest"===this.options.mode;s.push(HI.node(t,t+e.nodeSize,{class:this.options.className}))}),YI.create(t,s)}}})]}}),eR.create({name:"gapCursor",addProseMirrorPlugins:()=>[new TD({props:{decorations:uF,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&rF.valid(n)?new rF(n):null,handleClick:lF,handleKeyDown:sF,handleDOMEvents:{beforeinput:cF}}})],extendNodeSchema(e){var t;return{allowGapCursor:null!=(t=Xj(Gj(e,"allowGapCursor",{name:e.name,options:e.options,storage:e.storage})))?t:null}}});var OF=eR.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something \u2026",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new TD({key:new ND("placeholder"),props:{decorations:e=>{let{doc:t,selection:n}=e;const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:o}=n,i=[];if(!r)return null;const s=this.editor.isEmpty;return t.descendants((e,t)=>{const n=o>=t&&o<=t+e.nodeSize,r=!e.isLeaf&&wM(e);if((n||!this.options.showOnlyCurrent)&&r){const r=[this.options.emptyNodeClass];s&&r.push(this.options.emptyEditorClass);const o=HI.node(t,t+e.nodeSize,{class:r.join(" "),"data-placeholder":"function"===typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});i.push(o)}return this.options.includeChildren}),YI.create(t,i)}}})]}});eR.create({name:"selection",addOptions:()=>({className:"selection"}),addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new TD({key:new ND("selection"),props:{decorations:n=>n.selection.empty||e.isFocused||!e.isEditable||n.selection instanceof fD||e.view.dragging?null:YI.create(n.doc,[HI.inline(n.selection.from,n.selection.to,{class:t.className})])}})]}});function IF(e){let{types:t,node:n}=e;return n&&Array.isArray(t)&&t.includes(n.type)||(null==n?void 0:n.type)===t}eR.create({name:"trailingNode",addOptions:()=>({node:void 0,notAfter:[]}),addProseMirrorPlugins(){var e;const t=new ND(this.name),n=(null==(e=this.editor.schema.topNodeType.contentMatch.defaultType)?void 0:e.name)||this.options.node||"paragraph",r=Object.entries(this.editor.schema.nodes).map(e=>{let[,t]=e;return t}).filter(e=>(this.options.notAfter||[]).concat(n).includes(e.name));return[new TD({key:t,appendTransaction:(e,r,o)=>{const{doc:i,tr:s,schema:a}=o,l=t.getState(o),c=i.content.size,u=a.nodes[n];if(l)return s.insert(c,u.create())},state:{init:(e,t)=>!IF({node:t.tr.doc.lastChild,types:r}),apply:(e,t)=>{if(!e.docChanged)return t;return!IF({node:e.doc.lastChild,types:r})}}})]}}),eR.create({name:"undoRedo",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>e=>{let{state:t,dispatch:n}=e;return DF(t,n)},redo:()=>e=>{let{state:t,dispatch:n}=e;return NF(t,n)}}),addProseMirrorPlugins(){return[TF(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-\u044f":()=>this.editor.commands.undo(),"Shift-Mod-\u044f":()=>this.editor.commands.redo()}}});var PF=OF,jF=GM.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML(e){let{HTMLAttributes:t}=e;return["u",tM(this.options.HTMLAttributes,t),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown:(e,t)=>"++".concat(t.renderChildren(e),"++"),markdownTokenizer:{name:"underline",level:"inline",start:e=>e.indexOf("++"),tokenize(e,t,n){const r=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!r)return;const o=r[2].trim();return{type:"underline",raw:r[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleUnderline:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetUnderline:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),MF=jF;const RF=["children"];var FF=(e,t)=>{if("slot"===e)return 0;if(e instanceof Function)return e(t);const n=null!=t?t:{},{children:r}=n,i=(0,o.A)(n,RF);if("svg"===e)throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,i,r]},LF=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,zF=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,BF=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,UF=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,VF=GM.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML(e){let{HTMLAttributes:t}=e;return FF("strong",(0,i.A)((0,i.A)({},tM(this.options.HTMLAttributes,t)),{},{children:FF("slot",{})}))},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>"**".concat(t.renderChildren(e),"**"),addCommands(){return{setBold:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleBold:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetBold:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[pR({find:LF,type:this.type}),pR({find:BF,type:this.type})]},addPasteRules(){return[TR({find:zF,type:this.type}),TR({find:UF,type:this.type})]}}),HF=VF,qF=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,WF=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,YF=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,KF=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,GF=GM.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML(e){let{HTMLAttributes:t}=e;return["em",tM(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>e=>{let{commands:t}=e;return t.setMark(this.name)},toggleItalic:()=>e=>{let{commands:t}=e;return t.toggleMark(this.name)},unsetItalic:()=>e=>{let{commands:t}=e;return t.unsetMark(this.name)}}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>"*".concat(t.renderChildren(e),"*"),addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[pR({find:qF,type:this.type}),pR({find:YF,type:this.type})]},addPasteRules(){return[TR({find:WF,type:this.type}),TR({find:KF,type:this.type})]}}),$F=GF;const QF="numeric",JF="ascii",XF="alpha",ZF="asciinumeric",eL="alphanumeric",tL="domain",nL="emoji",rL="scheme",oL="slashscheme",iL="whitespace";function sL(e,t){return e in t||(t[e]=[]),t[e]}function aL(e,t,n){t[QF]&&(t[ZF]=!0,t[eL]=!0),t[JF]&&(t[ZF]=!0,t[XF]=!0),t[ZF]&&(t[eL]=!0),t[XF]&&(t[eL]=!0),t[eL]&&(t[tL]=!0),t[nL]&&(t[tL]=!0);for(const r in t){const t=sL(r,n);t.indexOf(e)<0&&t.push(e)}}function lL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.j={},this.jr=[],this.jd=null,this.t=e}lL.groups={},lL.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const n=t.jr[r][0],o=t.jr[r][1];if(o&&n.test(e))return o}return t.jd},has(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let o=0;o<e.length;o++)this.tt(e[o],t,n,r)},tr(e,t,n,r){let o;return r=r||lL.groups,t&&t.j?o=t:(o=new lL(t),n&&r&&aL(t,n,r)),this.jr.push([e,o]),o},ts(e,t,n,r){let o=this;const i=e.length;if(!i)return o;for(let s=0;s<i-1;s++)o=o.tt(e[s]);return o.tt(e[i-1],t,n,r)},tt(e,t,n,r){r=r||lL.groups;const o=this;if(t&&t.j)return o.j[e]=t,t;const i=t;let s,a=o.go(e);if(a?(s=new lL,Object.assign(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new lL,i){if(r)if(s.t&&"string"===typeof s.t){const e=Object.assign(function(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}(s.t,r),n);aL(i,e,r)}else n&&aL(i,n,r);s.t=i}return o.j[e]=s,s}};const cL=(e,t,n,r,o)=>e.ta(t,n,r,o),uL=(e,t,n,r,o)=>e.tr(t,n,r,o),dL=(e,t,n,r,o)=>e.ts(t,n,r,o),hL=(e,t,n,r,o)=>e.tt(t,n,r,o),pL="WORD",fL="UWORD",mL="ASCIINUMERICAL",gL="ALPHANUMERICAL",vL="LOCALHOST",yL="TLD",bL="UTLD",wL="SCHEME",xL="SLASH_SCHEME",kL="NUM",_L="WS",CL="NL",SL="OPENBRACE",EL="CLOSEBRACE",TL="OPENBRACKET",AL="CLOSEBRACKET",DL="OPENPAREN",NL="CLOSEPAREN",OL="OPENANGLEBRACKET",IL="CLOSEANGLEBRACKET",PL="FULLWIDTHLEFTPAREN",jL="FULLWIDTHRIGHTPAREN",ML="LEFTCORNERBRACKET",RL="RIGHTCORNERBRACKET",FL="LEFTWHITECORNERBRACKET",LL="RIGHTWHITECORNERBRACKET",zL="FULLWIDTHLESSTHAN",BL="FULLWIDTHGREATERTHAN",UL="AMPERSAND",VL="APOSTROPHE",HL="ASTERISK",qL="AT",WL="BACKSLASH",YL="BACKTICK",KL="CARET",GL="COLON",$L="COMMA",QL="DOLLAR",JL="DOT",XL="EQUALS",ZL="EXCLAMATION",ez="HYPHEN",tz="PERCENT",nz="PIPE",rz="PLUS",oz="POUND",iz="QUERY",sz="QUOTE",az="FULLWIDTHMIDDLEDOT",lz="SEMI",cz="SLASH",uz="TILDE",dz="UNDERSCORE",hz="EMOJI",pz="SYM";var fz=Object.freeze({__proto__:null,ALPHANUMERICAL:gL,AMPERSAND:UL,APOSTROPHE:VL,ASCIINUMERICAL:mL,ASTERISK:HL,AT:qL,BACKSLASH:WL,BACKTICK:YL,CARET:KL,CLOSEANGLEBRACKET:IL,CLOSEBRACE:EL,CLOSEBRACKET:AL,CLOSEPAREN:NL,COLON:GL,COMMA:$L,DOLLAR:QL,DOT:JL,EMOJI:hz,EQUALS:XL,EXCLAMATION:ZL,FULLWIDTHGREATERTHAN:BL,FULLWIDTHLEFTPAREN:PL,FULLWIDTHLESSTHAN:zL,FULLWIDTHMIDDLEDOT:az,FULLWIDTHRIGHTPAREN:jL,HYPHEN:ez,LEFTCORNERBRACKET:ML,LEFTWHITECORNERBRACKET:FL,LOCALHOST:vL,NL:CL,NUM:kL,OPENANGLEBRACKET:OL,OPENBRACE:SL,OPENBRACKET:TL,OPENPAREN:DL,PERCENT:tz,PIPE:nz,PLUS:rz,POUND:oz,QUERY:iz,QUOTE:sz,RIGHTCORNERBRACKET:RL,RIGHTWHITECORNERBRACKET:LL,SCHEME:wL,SEMI:lz,SLASH:cz,SLASH_SCHEME:xL,SYM:pz,TILDE:uz,TLD:yL,UNDERSCORE:dz,UTLD:bL,UWORD:fL,WORD:pL,WS:_L});const mz=/[a-z]/,gz=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088F\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5C\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDC-\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7DC\uA7F1-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD40-\uDD59\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC7\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDB0-\uDDDB\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDEA0-\uDEB8\uDEBB-\uDED3\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3\uDFF2\uDFF3]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDEC0-\uDEDE\uDEE0-\uDEE2\uDEE4\uDEE5\uDEE7-\uDEED\uDEF0-\uDEF4\uDEFE\uDEFF\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79])/,vz=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED8\uDEDC-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE7C\uDE80-\uDE8A\uDE8E-\uDEC6\uDEC8\uDECD-\uDEDC\uDEDF-\uDEEA\uDEEF-\uDEF8])/,yz=/\d/,bz=/\s/;let wz=null,xz=null;function kz(e,t){const n=function(e){const t=[],n=e.length;let r=0;for(;r<n;){let o,i=e.charCodeAt(r),s=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(s),r+=s.length}return t}(t.replace(/[A-Z]/g,e=>e.toLowerCase())),r=n.length,o=[];let i=0,s=0;for(;s<r;){let a=e,l=null,c=0,u=null,d=-1,h=-1;for(;s<r&&(l=a.go(n[s]));)a=l,a.accepts()?(d=0,h=0,u=a):d>=0&&(d+=n[s].length,h++),c+=n[s].length,i+=n[s].length,s++;i-=d,s-=h,c-=d,o.push({t:u.t,v:t.slice(i-c,i),s:i-c,e:i})}return o}function _z(e,t,n,r,o){let i;const s=t.length;for(let a=0;a<s-1;a++){const n=t[a];e.j[n]?i=e.j[n]:(i=new lL(r),i.jr=o.slice(),e.j[n]=i),e=i}return i=new lL(n),i.jr=o.slice(),e.j[t[s-1]]=i,i}function Cz(e){const t=[],n=[];let r=0;for(;r<e.length;){let o=0;for(;"0123456789".indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let t=parseInt(e.substring(r,r+o),10);t>0;t--)n.pop();r+=o}else n.push(e[r]),r++}return t}const Sz={defaultProtocol:"http",events:null,format:Tz,formatHref:Tz,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Ez(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object.assign({},Sz);e&&(n=Object.assign(n,e instanceof Ez?e.o:e));const r=n.ignoreTags,o=[];for(let i=0;i<r.length;i++)o.push(r[i].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=o}function Tz(e){return e}Ez.prototype={o:Sz,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=null!=t;let o=this.o[e];return o?("object"===typeof o?(o=n.t in o?o[n.t]:Sz[e],"function"===typeof o&&r&&(o=o(t,n))):"function"===typeof o&&r&&(o=o(t,n.t,n)),o):o},getObj(e,t,n){let r=this.o[e];return"function"===typeof r&&null!=t&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function Az(e,t){this.t="token",this.v=e,this.tk=t}function Dz(e,t){class n extends Az{constructor(t,n){super(t,n),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}Az.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"\u2026":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sz.defaultProtocol;return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),o=e.get("tagName",n,t),i=this.toFormattedString(e),s={},a=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return s.href=r,a&&(s.class=a),l&&(s.target=l),c&&(s.rel=c),u&&Object.assign(s,u),{tagName:o,attributes:s,content:i,eventListeners:d}}};const Nz=Dz("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Oz=Dz("text"),Iz=Dz("nl"),Pz=Dz("url",{isLink:!0,toHref(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sz.defaultProtocol;return this.hasProtocol()?this.v:"".concat(e,"://").concat(this.v)},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==vL&&e[1].t===GL}});const jz=e=>new lL(e);function Mz(e,t,n){const r=n[0].s,o=n[n.length-1].e;return new e(t.slice(r,o),n)}const Rz="undefined"!==typeof console&&console&&console.warn||(()=>{}),Fz="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Lz={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function zz(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Lz.initialized&&Rz('linkifyjs: already initialized - will not register custom scheme "'.concat(e,'" ').concat(Fz)),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');Lz.customSchemes.push([e,t])}function Bz(){Lz.scanner=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t={};lL.groups=t;const n=new lL;null==wz&&(wz=Cz("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xf6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==xz&&(xz=Cz("\u03b5\u03bb1\u03c52\u0431\u04331\u0435\u043b3\u0434\u0435\u0442\u04384\u0435\u044e2\u043a\u0430\u0442\u043e\u043b\u0438\u043a6\u043e\u043c3\u043c\u043a\u04342\u043e\u043d1\u0441\u043a\u0432\u04306\u043e\u043d\u043b\u0430\u0439\u043d5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043a\u04403\u049b\u0430\u04373\u0570\u0561\u05753\u05d9\u05e9\u05e8\u05d0\u05dc5\u05e7\u05d5\u05dd3\u0627\u0628\u0648\u0638\u0628\u064a5\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062f\u06464\u0628\u062d\u0631\u064a\u06465\u062c\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062f\u064a\u06296\u0639\u0644\u064a\u0627\u06465\u0645\u063a\u0631\u06285\u0645\u0627\u0631\u0627\u062a5\u06cc\u0631\u0627\u06465\u0628\u0627\u0631\u062a2\u0632\u0627\u06314\u064a\u062a\u06433\u06be\u0627\u0631\u062a5\u062a\u0648\u0646\u06334\u0633\u0648\u062f\u0627\u06463\u0631\u064a\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064a\u06466\u0642\u0637\u06313\u0643\u0627\u062b\u0648\u0644\u064a\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064a\u0633\u064a\u06275\u0648\u0631\u064a\u062a\u0627\u0646\u064a\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067e\u0627\u06a9\u0633\u062a\u0627\u06467\u0680\u0627\u0631\u062a4\u0915\u0949\u092e3\u0928\u0947\u091f3\u092d\u093e\u0930\u09240\u092e\u094d3\u094b\u09245\u0938\u0902\u0917\u0920\u09285\u09ac\u09be\u0982\u09b2\u09be5\u09ad\u09be\u09b0\u09a42\u09f0\u09a44\u0a2d\u0a3e\u0a30\u0a244\u0aad\u0abe\u0ab0\u0aa44\u0b2d\u0b3e\u0b30\u0b244\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe6\u0bb2\u0b99\u0bcd\u0b95\u0bc86\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd11\u0c2d\u0c3e\u0c30\u0c24\u0c4d5\u0cad\u0cbe\u0cb0\u0ca44\u0d2d\u0d3e\u0d30\u0d24\u0d025\u0dbd\u0d82\u0d9a\u0dcf4\u0e04\u0e2d\u0e213\u0e44\u0e17\u0e223\u0ea5\u0eb2\u0ea73\u10d2\u10d42\u307f\u3093\u306a3\u30a2\u30de\u30be\u30f34\u30af\u30e9\u30a6\u30c94\u30b0\u30fc\u30b0\u30eb4\u30b3\u30e02\u30b9\u30c8\u30a23\u30bb\u30fc\u30eb3\u30d5\u30a1\u30c3\u30b7\u30e7\u30f36\u30dd\u30a4\u30f3\u30c84\u4e16\u754c2\u4e2d\u4fe11\u56fd1\u570b1\u6587\u7f513\u4e9a\u9a6c\u900a3\u4f01\u4e1a2\u4f5b\u5c712\u4fe1\u606f2\u5065\u5eb72\u516b\u53662\u516c\u53f81\u76ca2\u53f0\u6e7e1\u70632\u5546\u57ce1\u5e971\u68072\u5609\u91cc0\u5927\u9152\u5e975\u5728\u7ebf2\u5927\u62ff2\u5929\u4e3b\u65593\u5a31\u4e502\u5bb6\u96fb2\u5e7f\u4e1c2\u5fae\u535a2\u6148\u55842\u6211\u7231\u4f603\u624b\u673a2\u62db\u80582\u653f\u52a11\u5e9c2\u65b0\u52a0\u57612\u95fb2\u65f6\u5c1a2\u66f8\u7c4d2\u673a\u67842\u6de1\u9a6c\u95213\u6e38\u620f2\u6fb3\u95802\u70b9\u770b2\u79fb\u52a82\u7ec4\u7ec7\u673a\u67844\u7f51\u57401\u5e971\u7ad91\u7edc2\u8054\u901a2\u8c37\u6b4c2\u8d2d\u72692\u901a\u8ca92\u96c6\u56e22\u96fb\u8a0a\u76c8\u79d14\u98de\u5229\u6d663\u98df\u54c12\u9910\u53852\u9999\u683c\u91cc\u62c93\u6e2f2\ub2f7\ub1371\ucef42\uc0bc\uc1312\ud55c\uad6d2")),hL(n,"'",VL),hL(n,"{",SL),hL(n,"}",EL),hL(n,"[",TL),hL(n,"]",AL),hL(n,"(",DL),hL(n,")",NL),hL(n,"<",OL),hL(n,">",IL),hL(n,"\uff08",PL),hL(n,"\uff09",jL),hL(n,"\u300c",ML),hL(n,"\u300d",RL),hL(n,"\u300e",FL),hL(n,"\u300f",LL),hL(n,"\uff1c",zL),hL(n,"\uff1e",BL),hL(n,"&",UL),hL(n,"*",HL),hL(n,"@",qL),hL(n,"`",YL),hL(n,"^",KL),hL(n,":",GL),hL(n,",",$L),hL(n,"$",QL),hL(n,".",JL),hL(n,"=",XL),hL(n,"!",ZL),hL(n,"-",ez),hL(n,"%",tz),hL(n,"|",nz),hL(n,"+",rz),hL(n,"#",oz),hL(n,"?",iz),hL(n,'"',sz),hL(n,"/",cz),hL(n,";",lz),hL(n,"~",uz),hL(n,"_",dz),hL(n,"\\",WL),hL(n,"\u30fb",az);const r=uL(n,yz,kL,{[QF]:!0});uL(r,yz,r);const o=uL(r,mz,mL,{[ZF]:!0}),i=uL(r,gz,gL,{[eL]:!0}),s=uL(n,mz,pL,{[JF]:!0});uL(s,yz,o),uL(s,mz,s),uL(o,yz,o),uL(o,mz,o);const a=uL(n,gz,fL,{[XF]:!0});uL(a,mz),uL(a,yz,i),uL(a,gz,a),uL(i,yz,i),uL(i,mz),uL(i,gz,i);const l=hL(n,"\n",CL,{[iL]:!0}),c=hL(n,"\r",_L,{[iL]:!0}),u=uL(n,bz,_L,{[iL]:!0});hL(n,"\ufffc",u),hL(c,"\n",l),hL(c,"\ufffc",u),uL(c,bz,u),hL(u,"\r"),hL(u,"\n"),uL(u,bz,u),hL(u,"\ufffc",u);const d=uL(n,vz,hz,{[nL]:!0});hL(d,"#"),uL(d,vz,d),hL(d,"\ufe0f",d);const h=hL(d,"\u200d");hL(h,"#"),uL(h,vz,d);const p=[[mz,s],[yz,o]],f=[[mz,null],[gz,a],[yz,i]];for(let m=0;m<wz.length;m++)_z(n,wz[m],yL,pL,p);for(let m=0;m<xz.length;m++)_z(n,xz[m],bL,fL,f);aL(yL,{tld:!0,ascii:!0},t),aL(bL,{utld:!0,alpha:!0},t),_z(n,"file",wL,pL,p),_z(n,"mailto",wL,pL,p),_z(n,"http",xL,pL,p),_z(n,"https",xL,pL,p),_z(n,"ftp",xL,pL,p),_z(n,"ftps",xL,pL,p),aL(wL,{scheme:!0,ascii:!0},t),aL(xL,{slashscheme:!0,ascii:!0},t),e=e.sort((e,t)=>e[0]>t[0]?1:-1);for(let m=0;m<e.length;m++){const t=e[m][0],r=e[m][1]?{[rL]:!0}:{[oL]:!0};t.indexOf("-")>=0?r[tL]=!0:mz.test(t)?yz.test(t)?r[ZF]=!0:r[JF]=!0:r[QF]=!0,dL(n,t,t,r)}return dL(n,"localhost",vL,{ascii:!0}),n.jd=new lL(pz),{start:n,tokens:Object.assign({groups:t},fz)}}(Lz.customSchemes);for(let e=0;e<Lz.tokenQueue.length;e++)Lz.tokenQueue[e][1]({scanner:Lz.scanner});Lz.parser=function(e){let{groups:t}=e;const n=t.domain.concat([UL,HL,qL,WL,YL,KL,QL,XL,ez,kL,tz,nz,rz,oz,cz,pz,uz,dz]),r=[VL,GL,$L,JL,ZL,tz,iz,sz,lz,OL,IL,SL,EL,AL,TL,DL,NL,PL,jL,ML,RL,FL,LL,zL,BL],o=[UL,VL,HL,WL,YL,KL,QL,XL,ez,SL,EL,tz,nz,rz,oz,iz,cz,pz,uz,dz],i=jz(),s=hL(i,uz);cL(s,o,s),cL(s,t.domain,s);const a=jz(),l=jz(),c=jz();cL(i,t.domain,a),cL(i,t.scheme,l),cL(i,t.slashscheme,c),cL(a,o,s),cL(a,t.domain,a);const u=hL(a,qL);hL(s,qL,u),hL(l,qL,u),hL(c,qL,u);const d=hL(s,JL);cL(d,o,s),cL(d,t.domain,s);const h=jz();cL(u,t.domain,h),cL(h,t.domain,h);const p=hL(h,JL);cL(p,t.domain,h);const f=jz(Nz);cL(p,t.tld,f),cL(p,t.utld,f),hL(u,vL,f);const m=hL(h,ez);hL(m,ez,m),cL(m,t.domain,h),cL(f,t.domain,h),hL(f,JL,p),hL(f,ez,m);const g=hL(f,GL);cL(g,t.numeric,Nz);const v=hL(a,ez),y=hL(a,JL);hL(v,ez,v),cL(v,t.domain,a),cL(y,o,s),cL(y,t.domain,a);const b=jz(Pz);cL(y,t.tld,b),cL(y,t.utld,b),cL(b,t.domain,a),cL(b,o,s),hL(b,JL,y),hL(b,ez,v),hL(b,qL,u);const w=hL(b,GL),x=jz(Pz);cL(w,t.numeric,x);const k=jz(Pz),_=jz();cL(k,n,k),cL(k,r,_),cL(_,n,k),cL(_,r,_),hL(b,cz,k),hL(x,cz,k);const C=hL(l,GL),S=hL(c,GL),E=hL(S,cz),T=hL(E,cz);cL(l,t.domain,a),hL(l,JL,y),hL(l,ez,v),cL(c,t.domain,a),hL(c,JL,y),hL(c,ez,v),cL(C,t.domain,k),hL(C,cz,k),hL(C,iz,k),cL(T,t.domain,k),cL(T,n,k),hL(T,cz,k);const A=[[SL,EL],[TL,AL],[DL,NL],[OL,IL],[PL,jL],[ML,RL],[FL,LL],[zL,BL]];for(let D=0;D<A.length;D++){const[e,t]=A[D],o=hL(k,e);hL(_,e,o),hL(o,t,k);const i=jz(Pz);cL(o,n,i);const s=jz();cL(o,r),cL(i,n,i),cL(i,r,s),cL(s,n,i),cL(s,r,s),hL(i,t,k),hL(s,t,k)}return hL(i,vL,b),hL(i,CL,Iz),{start:i,tokens:fz}}(Lz.scanner.tokens);for(let e=0;e<Lz.pluginQueue.length;e++)Lz.pluginQueue[e][1]({scanner:Lz.scanner,parser:Lz.parser});return Lz.initialized=!0,Lz}function Uz(e){return Lz.initialized||Bz(),function(e,t,n){let r=n.length,o=0,i=[],s=[];for(;o<r;){let a=e,l=null,c=null,u=0,d=null,h=-1;for(;o<r&&!(l=a.go(n[o].t));)s.push(n[o++]);for(;o<r&&(c=l||a.go(n[o].t));)l=null,a=c,a.accepts()?(h=0,d=a):h>=0&&h++,o++,u++;if(h<0)o-=u,o<r&&(s.push(n[o]),o++);else{s.length>0&&(i.push(Mz(Oz,t,s)),s=[]),o-=h,u-=h;const e=d.t,r=n.slice(o-u,o);i.push(Mz(e,t,r))}}return s.length>0&&i.push(Mz(Oz,t,s)),i}(Lz.parser.start,e,kz(Lz.scanner.start,e))}function Vz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t&&"object"===typeof t){if(n)throw Error("linkifyjs: Invalid link type ".concat(t,"; must be a string"));n=t,t=null}const r=new Ez(n),o=Uz(e),i=[];for(let s=0;s<o.length;s++){const e=o[s];!e.isLink||t&&e.t!==t||!r.check(e)||i.push(e.toFormattedObject(r))}return i}Uz.scan=kz;var Hz="[\0- \xa0\u1680\u180e\u2000-\u2029\u205f\u3000]",qz=new RegExp(Hz),Wz=new RegExp("".concat(Hz,"$")),Yz=new RegExp(Hz,"g");function Kz(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(e=>{const t="string"===typeof e?e:e.scheme;t&&n.push(t)}),!e||e.replace(Yz,"").match(new RegExp("^(?:(?:".concat(n.join("|"),"):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))"),"i"))}var Gz=GM.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{"string"!==typeof e?zz(e.scheme,e.optionalSlashes):zz(e)})},onDestroy(){lL.groups={},Lz.scanner=null,Lz.parser=null,Lz.tokenQueue=[],Lz.pluginQueue=[],Lz.customSchemes=[],Lz.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Kz(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}),addAttributes(){return{href:{default:null,parseHTML:e=>e.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!(!t||!this.options.isAllowedUri(t,{defaultValidate:e=>!!Kz(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&null}}]},renderHTML(e){let{HTMLAttributes:t}=e;return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Kz(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",tM(this.options.HTMLAttributes,t),0]:["a",tM(this.options.HTMLAttributes,(0,i.A)((0,i.A)({},t),{},{href:""})),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=(null==(n=e.attrs)?void 0:n.href)||"",o=t.renderChildren(e);return"[".concat(o,"](").concat(r,")")},addCommands(){return{setLink:e=>t=>{let{chain:n}=t;const{href:r}=e;return!!this.options.isAllowedUri(r,{defaultValidate:e=>!!Kz(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&n().setMark(this.name,e).setMeta("preventAutolink",!0).run()},toggleLink:e=>t=>{let{chain:n}=t;const{href:r}=e||{};return!(r&&!this.options.isAllowedUri(r,{defaultValidate:e=>!!Kz(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol}))&&n().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>e=>{let{chain:t}=e;return t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}}},addPasteRules(){return[TR({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,o=Vz(e).filter(e=>e.isLink&&this.options.isAllowedUri(e.value,{defaultValidate:e=>!!Kz(e,n),protocols:n,defaultProtocol:r}));o.length&&o.forEach(e=>{this.options.shouldAutoLink(e.value)&&t.push({text:e.value,data:{href:e.href},index:e.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:null==(t=e.data)?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(function(e){return new TD({key:new ND("autolink"),appendTransaction:(t,n,r)=>{const o=t.some(e=>e.docChanged)&&!n.doc.eq(r.doc),s=t.some(e=>e.getMeta("preventAutolink"));if(!o||s)return;const{tr:a}=r;return pM(Yj(n.doc,[...t])).forEach(t=>{let{newRange:n}=t;const o=function(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(e,t)=>{n(e)&&r.push({node:e,pos:t})}),r}(r.doc,n,e=>e.isTextblock);let s,l;if(o.length>1)s=o[0],l=r.doc.textBetween(s.pos,s.pos+s.node.nodeSize,void 0," ");else if(o.length){const e=r.doc.textBetween(n.from,n.to," "," ");if(!Wz.test(e))return;s=o[0],l=r.doc.textBetween(s.pos,n.to,void 0," ")}if(s&&l){const t=l.split(qz).filter(Boolean);if(t.length<=0)return!1;const n=t[t.length-1],o=s.pos+l.lastIndexOf(n);if(!n)return!1;const u=Uz(n).map(t=>t.toObject(e.defaultProtocol));if(!(1===(c=u).length?c[0].isLink:3===c.length&&c[1].isLink&&["()","[]"].includes(c[0].value+c[2].value)))return!1;u.filter(e=>e.isLink).map(e=>(0,i.A)((0,i.A)({},e),{},{from:o+e.start+1,to:o+e.end+1})).filter(e=>!r.schema.marks.code||!r.doc.rangeHasMark(e.from,e.to,r.schema.marks.code)).filter(t=>e.validate(t.value)).filter(t=>e.shouldAutoLink(t.value)).forEach(t=>{fM(t.from,t.to,r.doc).some(t=>t.mark.type===e.type)||a.addMark(t.from,t.to,e.type.create({href:t.href}))})}var c}),a.steps.length?a:void 0}})}({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:e=>this.options.isAllowedUri(e,{defaultValidate:e=>!!Kz(e,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),!0===this.options.openOnClick&&e.push(function(e){return new TD({key:new ND("handleClickLink"),props:{handleClick:(t,n,r)=>{var o,i;if(0!==r.button)return!1;if(!t.editable)return!1;let s=null;if(r.target instanceof HTMLAnchorElement)s=r.target;else{let e=r.target;const t=[];for(;"DIV"!==e.nodeName;)t.push(e),e=e.parentNode;s=t.find(e=>"A"===e.nodeName)}if(!s)return!1;const a=dM(t.state,e.type.name),l=null!=(o=null==s?void 0:s.href)?o:a.href,c=null!=(i=null==s?void 0:s.target)?i:a.target;return e.enableClickSelection&&e.editor.commands.extendMarkRange(e.type.name),!(!s||!l)&&(window.open(l,c),!0)}}})}({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(function(e){return new TD({key:new ND("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:o}=e,{state:i}=t,{selection:s}=i,{empty:a}=s;if(a)return!1;let l="";r.content.forEach(e=>{l+=e.textContent});const c=Vz(l,{defaultProtocol:e.defaultProtocol}).find(e=>e.isLink&&e.value===l);return!(!l||!c||void 0!==o&&!o(c.href))&&e.editor.commands.setMark(e.type,{href:c.href})}}})}({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),$z=Gz,Qz=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];return!e.children.length||t>20||Array.from(e.children).forEach(e=>{"SPAN"===e.tagName?n.push(e):e.children.length&&n.push(...Qz(e,t+1))}),n},Jz=GM.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{},mergeNestedSpanStyles:!0}),parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>!!e.hasAttribute("style")&&(this.options.mergeNestedSpanStyles&&(e=>{if(!e.children.length)return;const t=Qz(e);t&&t.forEach(e=>{var t,n;const r=e.getAttribute("style"),o=null==(n=null==(t=e.parentElement)?void 0:t.closest("span"))?void 0:n.getAttribute("style");e.setAttribute("style","".concat(o,";").concat(r))})})(e),{})}]},renderHTML(e){let{HTMLAttributes:t}=e;return["span",tM(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:e=>t=>{let{commands:n}=t;return n.toggleMark(this.name,e)},removeEmptyTextStyle:()=>e=>{let{tr:t}=e;const{selection:n}=t;return t.doc.nodesBetween(n.from,n.to,(e,n)=>{if(e.isTextblock)return!0;e.marks.filter(e=>e.type===this.type).some(e=>Object.values(e.attrs).some(e=>!!e))||t.removeMark(n,n+e.nodeSize,this.type)}),!0}}}}),Xz=eR.create({name:"backgroundColor",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const e=n.split(";").map(e=>e.trim()).filter(Boolean);for(let t=e.length-1;t>=0;t-=1){const n=e[t].split(":");if(n.length>=2){const e=n[0].trim().toLowerCase(),t=n.slice(1).join(":").trim();if("background-color"===e)return t.replace(/['"]+/g,"")}}}return null==(t=e.style.backgroundColor)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:"background-color: ".concat(e.backgroundColor)}:{}}}}]},addCommands:()=>({setBackgroundColor:e=>t=>{let{chain:n}=t;return n().setMark("textStyle",{backgroundColor:e}).run()},unsetBackgroundColor:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}})}),Zz=eR.create({name:"color",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const e=n.split(";").map(e=>e.trim()).filter(Boolean);for(let t=e.length-1;t>=0;t-=1){const n=e[t].split(":");if(n.length>=2){const e=n[0].trim().toLowerCase(),t=n.slice(1).join(":").trim();if("color"===e)return t.replace(/['"]+/g,"")}}}return null==(t=e.style.color)?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:"color: ".concat(e.color)}:{}}}}]},addCommands:()=>({setColor:e=>t=>{let{chain:n}=t;return n().setMark("textStyle",{color:e}).run()},unsetColor:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}})}),eB=eR.create({name:"fontFamily",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:"font-family: ".concat(e.fontFamily)}:{}}}}]},addCommands:()=>({setFontFamily:e=>t=>{let{chain:n}=t;return n().setMark("textStyle",{fontFamily:e}).run()},unsetFontFamily:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}})}),tB=eR.create({name:"fontSize",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:"font-size: ".concat(e.fontSize)}:{}}}}]},addCommands:()=>({setFontSize:e=>t=>{let{chain:n}=t;return n().setMark("textStyle",{fontSize:e}).run()},unsetFontSize:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}})}),nB=eR.create({name:"lineHeight",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:"line-height: ".concat(e.lineHeight)}:{}}}}]},addCommands:()=>({setLineHeight:e=>t=>{let{chain:n}=t;return n().setMark("textStyle",{lineHeight:e}).run()},unsetLineHeight:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}})});eR.create({name:"textStyleKit",addExtensions(){const e=[];return!1!==this.options.backgroundColor&&e.push(Xz.configure(this.options.backgroundColor)),!1!==this.options.color&&e.push(Zz.configure(this.options.color)),!1!==this.options.fontFamily&&e.push(eB.configure(this.options.fontFamily)),!1!==this.options.fontSize&&e.push(tB.configure(this.options.fontSize)),!1!==this.options.lineHeight&&e.push(nB.configure(this.options.lineHeight)),!1!==this.options.textStyle&&e.push(Jz.configure(this.options.textStyle)),e}});const rB=eR.create({name:"fontSize",addOptions:()=>({types:["textStyle"],defaultSize:"16px"}),addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:this.options.defaultSize,parseHTML:e=>e.style.fontSize||this.options.defaultSize,renderHTML:e=>({style:"font-size: ".concat(e.fontSize||this.options.defaultSize)})}}}]},addCommands(){return{setFontSize:e=>t=>{let{chain:n}=t;return n().setMark("textStyle",{fontSize:e||this.options.defaultSize}).run()},unsetFontSize:()=>e=>{let{chain:t}=e;return t().setMark("textStyle",{fontSize:this.options.defaultSize}).run()}}}}),oB=rB;var iB=SR.create({name:"hardBreak",markdownTokenName:"br",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML(e){let{HTMLAttributes:t}=e;return["br",tM(this.options.HTMLAttributes,t)]},renderText:()=>"\n",renderMarkdown:(e,t)=>t.indent("\n"),parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>e=>{let{commands:t,chain:n,state:r,editor:o}=e;return t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:e,storedMarks:t}=r;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:s}=o.extensionManager,a=t||e.$to.parentOffset&&e.$from.marks();return n().insertContent({type:this.name}).command(e=>{let{tr:t,dispatch:n}=e;if(n&&a&&i){const e=a.filter(e=>s.includes(e.type.name));t.ensureMarks(e)}return!0}).run()})])}}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),sB=iB,aB=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,lB=SR.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML(e){let{HTMLAttributes:t}=e;return["img",tM(this.options.HTMLAttributes,t)]},parseMarkdown:(e,t)=>t.createNode("image",{src:e.href,title:e.title,alt:e.text}),renderMarkdown:e=>{var t,n,r,o,i,s;const a=null!=(n=null==(t=e.attrs)?void 0:t.src)?n:"",l=null!=(o=null==(r=e.attrs)?void 0:r.alt)?o:"",c=null!=(s=null==(i=e.attrs)?void 0:i.title)?s:"";return c?"![".concat(l,"](").concat(a,' "').concat(c,'")'):"![".concat(l,"](").concat(a,")")},addCommands(){return{setImage:e=>t=>{let{commands:n}=t;return n.insertContent({type:this.name,attrs:e})}}},addInputRules(){return[fR({find:aB,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),cB=lB,uB=n(4432),dB=["className","cssModule","variant","innerRef"];function hB(){return hB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hB.apply(this,arguments)}function pB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mB(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var gB={active:yy().bool,"aria-label":yy().string,onClick:yy().func,variant:yy().oneOf(["white"]),className:yy().string,cssModule:yy().object,innerRef:yy().oneOfType([yy().object,yy().string,yy().func])};function vB(t){var n=t.className,r=(t.cssModule,t.variant),o=t.innerRef,i=mB(t,dB),s=Ty(wy()(n,"btn-close",r&&"btn-close-".concat(r)));return e.createElement("button",hB({ref:o,type:"button",className:s},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pB(Object(n),!0).forEach(function(t){fB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({"aria-label":"close"},i)))}vB.propTypes=gB;const yB=vB;var bB=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"];function wB(){return wB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wB.apply(this,arguments)}function xB(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var kB={active:yy().bool,"aria-label":yy().string,block:yy().bool,children:yy().node,className:yy().string,cssModule:yy().object,close:yy().bool,color:yy().string,disabled:yy().bool,innerRef:yy().oneOfType([yy().object,yy().func,yy().string]),onClick:yy().func,outline:yy().bool,size:yy().string,tag:Oy};function _B(t){var n=(0,e.useCallback)(function(e){if(!t.disabled)return t.onClick?t.onClick(e):void 0;e.preventDefault()},[t.onClick,t.disabled]),r=t.active,o=t["aria-label"],i=t.block,s=t.className,a=t.close,l=t.cssModule,c=t.color,u=void 0===c?"secondary":c,d=t.outline,h=t.size,p=t.tag,f=void 0===p?"button":p,m=t.innerRef,g=xB(t,bB);if(a)return e.createElement(yB,g);var v="btn".concat(d?"-outline":"","-").concat(u),y=Ty(wy()(s,"btn",v,!!h&&"btn-".concat(h),!!i&&"d-block w-100",{active:r,disabled:t.disabled}),l);return g.href&&"button"===f&&(f="a"),e.createElement(f,wB({type:"button"===f&&g.onClick?"button":void 0},g,{className:y,ref:m,onClick:n,"aria-label":o}))}_B.propTypes=kB;const CB=_B;var SB=n(8527);function EB(e){let{node:t}=e;const{label:n,backgroundColor:r,textColor:o,padding:i,borderRadius:s,borderColor:a,borderWidth:l,actionUrl:c}=t.attrs;return(0,Et.jsx)(WR,{style:{display:"inline-block"},children:(0,Et.jsx)("button",{type:"button",contentEditable:!1,style:{backgroundColor:r,color:o,padding:i,borderRadius:s,border:"".concat(l," solid ").concat(a),cursor:"pointer"},onClick:()=>{c?window.open(c,"_blank"):console.log("No action defined")},children:n})})}const TB=SR.create({name:"buttonNode",group:"inline",inline:!0,atom:!0,addOptions:()=>({HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow"}}),addAttributes(){return{id:{default:null},label:{default:"Click me"},backgroundColor:{default:"#007bff"},textColor:{default:"#ffffff"},padding:{default:"4px 8px"},borderRadius:{default:"4px"},borderColor:{default:"transparent"},borderWidth:{default:"1px"},actionUrl:{default:""},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel}}},addCommands(){return{setButtonNode:e=>t=>{var n,r;let{commands:o}=t;const s=(0,i.A)({},e);return s.id||(s.id=(0,SB.v4)()),null!==(n=s.target)&&void 0!==n||(s.target=this.options.HTMLAttributes.target),null!==(r=s.rel)&&void 0!==r||(s.rel=this.options.HTMLAttributes.rel),o.insertContent({type:this.name,attrs:s})},updateButtonNode:e=>t=>{let{commands:n}=t;return n.updateAttributes(this.name,e)}}},parseHTML:()=>[{tag:"button[data-button-node]",getAttrs:e=>{var t,n,r,o,i,s,a,l;const c=e,u=getComputedStyle(c);return{id:c.getAttribute("data-id"),label:null!==(t=null!==(n=c.getAttribute("data-label"))&&void 0!==n?n:c.textContent)&&void 0!==t?t:"",backgroundColor:null!==(r=c.getAttribute("data-background-color"))&&void 0!==r?r:u.backgroundColor,textColor:null!==(o=c.getAttribute("data-text-color"))&&void 0!==o?o:u.color,padding:null!==(i=c.getAttribute("data-padding"))&&void 0!==i?i:u.padding,borderRadius:null!==(s=c.getAttribute("data-border-radius"))&&void 0!==s?s:u.borderRadius,borderColor:null!==(a=c.getAttribute("data-border-color"))&&void 0!==a?a:u.borderColor,borderWidth:null!==(l=c.getAttribute("data-border-width"))&&void 0!==l?l:u.borderWidth,actionUrl:c.getAttribute("data-action-url"),target:c.getAttribute("target"),rel:c.getAttribute("rel")}}}],renderHTML(e){let{node:t}=e;const{id:n,label:r,backgroundColor:o,textColor:i,padding:s,borderRadius:a,borderColor:l,borderWidth:c,actionUrl:u,target:d,rel:h}=t.attrs,p="\n      background-color: ".concat(o,";\n      color: ").concat(i,";\n      padding: ").concat(s,";\n      border-radius: ").concat(a,";\n      border: ").concat(c," solid ").concat(l,";\n      cursor: pointer;\n    ").trim(),f=u?"window.open('".concat(u.replace(/'/g,"\\'"),"', '").concat(d,"')"):void 0;return["button",tM({"data-button-node":"","data-id":n,"data-label":r,"data-background-color":o,"data-text-color":i,"data-padding":s,"data-border-radius":a,"data-border-color":l,"data-border-width":c,"data-action-url":u,onclick:f,target:d,rel:h,style:p,type:"button"}),r]},addNodeView:()=>function(e,t){return n=>n.editor.contentComponent?new $R(e,n,t):{}}(EB)});var AB=n(7514),DB={},NB=function(e,t,n,r){var o=e+"-"+t+"-"+n+(r?"-server":"");if(DB[o])return DB[o];var i=function(e,t,n,r){if("undefined"===typeof document&&!r)return null;var o=r?new r:document.createElement("canvas");o.width=2*n,o.height=2*n;var i=o.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,o.width,o.height),i.fillStyle=t,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),o.toDataURL()):null}(e,t,n,r);return DB[o]=i,i},OB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IB=function(t){var n=t.white,r=t.grey,o=t.size,i=t.renderers,s=t.borderRadius,a=t.boxShadow,l=t.children,c=(0,AB.Ay)({default:{grid:{borderRadius:s,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+NB(n,r,o,i.canvas)+") center left"}}});return(0,e.isValidElement)(l)?e.cloneElement(l,OB({},l.props,{style:OB({},l.props.style,c.grid)})):e.createElement("div",{style:c.grid})};IB.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};const PB=IB;var jB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MB=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function RB(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var FB=function(t){function n(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=r=RB(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),r.handleChange=function(e){var t=function(e,t,n,r,o){var i=o.clientWidth,s=o.clientHeight,a="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,c=a-(o.getBoundingClientRect().left+window.pageXOffset),u=l-(o.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var d=void 0;if(d=u<0?0:u>s?1:Math.round(100*u/s)/100,t.a!==d)return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}else{var h=void 0;if(r!==(h=c<0?0:c>i?1:Math.round(100*c/i)/100))return{h:t.h,s:t.s,l:t.l,a:h,source:"rgb"}}return null}(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},RB(r,t)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),MB(n,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var t=this,n=this.props.rgb,r=(0,AB.Ay)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+n.r+","+n.g+","+n.b+", 0) 0%,\n           rgba("+n.r+","+n.g+","+n.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*n.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+n.r+","+n.g+","+n.b+", 0) 0%,\n           rgba("+n.r+","+n.g+","+n.b+", 1) 100%)"},pointer:{left:0,top:100*n.a+"%"}},overwrite:jB({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return e.createElement("div",{style:r.alpha},e.createElement("div",{style:r.checkboard},e.createElement(PB,{renderers:this.props.renderers})),e.createElement("div",{style:r.gradient}),e.createElement("div",{style:r.container,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},e.createElement("div",{style:r.pointer},this.props.pointer?e.createElement(this.props.pointer,this.props):e.createElement("div",{style:r.slider}))))}}]),n}(e.PureComponent||e.Component);const LB=FB;var zB=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var BB=[38,40],UB=1;const VB=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleBlur=function(){t.state.blurValue&&t.setState({value:t.state.blurValue,blurValue:null})},t.handleChange=function(e){t.setUpdatedValue(e.target.value,e)},t.handleKeyDown=function(e){var n,r=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(r)&&(n=e.keyCode,BB.indexOf(n)>-1)){var o=t.getArrowOffset(),i=38===e.keyCode?r+o:r-o;t.setUpdatedValue(i,e)}},t.handleDrag=function(e){if(t.props.dragLabel){var n=Math.round(t.props.value+e.movementX);n>=0&&n<=t.props.dragMax&&t.props.onChange&&t.props.onChange(t.getValueObjectWithLabel(n),e)}},t.handleMouseDown=function(e){t.props.dragLabel&&(e.preventDefault(),t.handleDrag(e),window.addEventListener("mousemove",t.handleDrag),window.addEventListener("mouseup",t.handleMouseUp))},t.handleMouseUp=function(){t.unbindEventListeners()},t.unbindEventListeners=function(){window.removeEventListener("mousemove",t.handleDrag),window.removeEventListener("mouseup",t.handleMouseUp)},t.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},t.inputId="rc-editable-input-"+UB++,t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),zB(n,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var t=this,n=(0,AB.Ay)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return e.createElement("div",{style:n.wrap},e.createElement("input",{id:this.inputId,style:n.input,ref:function(e){return t.input=e},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?e.createElement("label",{htmlFor:this.inputId,style:n.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),n}(e.PureComponent||e.Component);var HB=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function qB(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var WB=function(t){function n(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=r=qB(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),r.handleChange=function(e){var t=function(e,t,n,r){var o=r.clientWidth,i=r.clientHeight,s="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,a="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=s-(r.getBoundingClientRect().left+window.pageXOffset),c=a-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var u=void 0;if(u=c<0?359:c>i?0:360*(-100*c/i+100)/100,n.h!==u)return{h:u,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var d=void 0;if(d=l<0?0:l>o?359:100*l/o*360/100,n.h!==d)return{h:d,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null}(e,r.props.direction,r.props.hsl,r.container);t&&"function"===typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},qB(r,t)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),HB(n,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var t=this,n=this.props.direction,r=void 0===n?"horizontal":n,o=(0,AB.Ay)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===r});return e.createElement("div",{style:o.hue},e.createElement("div",{className:"hue-"+r,style:o.container,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},e.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),e.createElement("div",{style:o.pointer},this.props.pointer?e.createElement(this.props.pointer,this.props):e.createElement("div",{style:o.slider}))))}}]),n}(e.PureComponent||e.Component);const YB=WB;const KB=function(){this.__data__=[],this.size=0};const GB=function(e,t){return e===t||e!==e&&t!==t};const $B=function(e,t){for(var n=e.length;n--;)if(GB(e[n][0],t))return n;return-1};var QB=Array.prototype.splice;const JB=function(e){var t=this.__data__,n=$B(t,e);return!(n<0)&&(n==t.length-1?t.pop():QB.call(t,n,1),--this.size,!0)};const XB=function(e){var t=this.__data__,n=$B(t,e);return n<0?void 0:t[n][1]};const ZB=function(e){return $B(this.__data__,e)>-1};const eU=function(e,t){var n=this.__data__,r=$B(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function tU(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}tU.prototype.clear=KB,tU.prototype.delete=JB,tU.prototype.get=XB,tU.prototype.has=ZB,tU.prototype.set=eU;const nU=tU;const rU=function(){this.__data__=new nU,this.size=0};const oU=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const iU=function(e){return this.__data__.get(e)};const sU=function(e){return this.__data__.has(e)};const aU="object"==typeof global&&global&&global.Object===Object&&global;var lU="object"==typeof self&&self&&self.Object===Object&&self;const cU=aU||lU||Function("return this")();const uU=cU.Symbol;var dU=Object.prototype,hU=dU.hasOwnProperty,pU=dU.toString,fU=uU?uU.toStringTag:void 0;const mU=function(e){var t=hU.call(e,fU),n=e[fU];try{e[fU]=void 0;var r=!0}catch(G1){}var o=pU.call(e);return r&&(t?e[fU]=n:delete e[fU]),o};var gU=Object.prototype.toString;const vU=function(e){return gU.call(e)};var yU=uU?uU.toStringTag:void 0;const bU=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":yU&&yU in Object(e)?mU(e):vU(e)};const wU=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const xU=function(e){if(!wU(e))return!1;var t=bU(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const kU=cU["__core-js_shared__"];var _U=function(){var e=/[^.]+$/.exec(kU&&kU.keys&&kU.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const CU=function(e){return!!_U&&_U in e};var SU=Function.prototype.toString;const EU=function(e){if(null!=e){try{return SU.call(e)}catch(G1){}try{return e+""}catch(G1){}}return""};var TU=/^\[object .+?Constructor\]$/,AU=Function.prototype,DU=Object.prototype,NU=AU.toString,OU=DU.hasOwnProperty,IU=RegExp("^"+NU.call(OU).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const PU=function(e){return!(!wU(e)||CU(e))&&(xU(e)?IU:TU).test(EU(e))};const jU=function(e,t){return null==e?void 0:e[t]};const MU=function(e,t){var n=jU(e,t);return PU(n)?n:void 0};const RU=MU(cU,"Map");const FU=MU(Object,"create");const LU=function(){this.__data__=FU?FU(null):{},this.size=0};const zU=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var BU=Object.prototype.hasOwnProperty;const UU=function(e){var t=this.__data__;if(FU){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return BU.call(t,e)?t[e]:void 0};var VU=Object.prototype.hasOwnProperty;const HU=function(e){var t=this.__data__;return FU?void 0!==t[e]:VU.call(t,e)};const qU=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=FU&&void 0===t?"__lodash_hash_undefined__":t,this};function WU(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}WU.prototype.clear=LU,WU.prototype.delete=zU,WU.prototype.get=UU,WU.prototype.has=HU,WU.prototype.set=qU;const YU=WU;const KU=function(){this.size=0,this.__data__={hash:new YU,map:new(RU||nU),string:new YU}};const GU=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const $U=function(e,t){var n=e.__data__;return GU(t)?n["string"==typeof t?"string":"hash"]:n.map};const QU=function(e){var t=$U(this,e).delete(e);return this.size-=t?1:0,t};const JU=function(e){return $U(this,e).get(e)};const XU=function(e){return $U(this,e).has(e)};const ZU=function(e,t){var n=$U(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function eV(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}eV.prototype.clear=KU,eV.prototype.delete=QU,eV.prototype.get=JU,eV.prototype.has=XU,eV.prototype.set=ZU;const tV=eV;const nV=function(e,t){var n=this.__data__;if(n instanceof nU){var r=n.__data__;if(!RU||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new tV(r)}return n.set(e,t),this.size=n.size,this};function rV(e){var t=this.__data__=new nU(e);this.size=t.size}rV.prototype.clear=rU,rV.prototype.delete=oU,rV.prototype.get=iU,rV.prototype.has=sU,rV.prototype.set=nV;const oV=rV;const iV=function(){try{var e=MU(Object,"defineProperty");return e({},"",{}),e}catch(G1){}}();const sV=function(e,t,n){"__proto__"==t&&iV?iV(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};const aV=function(e,t,n){(void 0!==n&&!GB(e[t],n)||void 0===n&&!(t in e))&&sV(e,t,n)};const lV=function(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++o];if(!1===n(i[l],l,i))break}return t}};const cV=lV();var uV="object"==typeof exports&&exports&&!exports.nodeType&&exports,dV=uV&&"object"==typeof module&&module&&!module.nodeType&&module,hV=dV&&dV.exports===uV?cU.Buffer:void 0,pV=hV?hV.allocUnsafe:void 0;const fV=function(e,t){if(t)return e.slice();var n=e.length,r=pV?pV(n):new e.constructor(n);return e.copy(r),r};const mV=cU.Uint8Array;const gV=function(e){var t=new e.constructor(e.byteLength);return new mV(t).set(new mV(e)),t};const vV=function(e,t){var n=t?gV(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const yV=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var bV=Object.create;const wV=function(){function e(){}return function(t){if(!wU(t))return{};if(bV)return bV(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const xV=function(e,t){return function(n){return e(t(n))}};const kV=xV(Object.getPrototypeOf,Object);var _V=Object.prototype;const CV=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_V)};const SV=function(e){return"function"!=typeof e.constructor||CV(e)?{}:wV(kV(e))};const EV=function(e){return null!=e&&"object"==typeof e};const TV=function(e){return EV(e)&&"[object Arguments]"==bU(e)};var AV=Object.prototype,DV=AV.hasOwnProperty,NV=AV.propertyIsEnumerable;const OV=TV(function(){return arguments}())?TV:function(e){return EV(e)&&DV.call(e,"callee")&&!NV.call(e,"callee")};const IV=Array.isArray;const PV=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};const jV=function(e){return null!=e&&PV(e.length)&&!xU(e)};const MV=function(e){return EV(e)&&jV(e)};const RV=function(){return!1};var FV="object"==typeof exports&&exports&&!exports.nodeType&&exports,LV=FV&&"object"==typeof module&&module&&!module.nodeType&&module,zV=LV&&LV.exports===FV?cU.Buffer:void 0;const BV=(zV?zV.isBuffer:void 0)||RV;var UV=Function.prototype,VV=Object.prototype,HV=UV.toString,qV=VV.hasOwnProperty,WV=HV.call(Object);const YV=function(e){if(!EV(e)||"[object Object]"!=bU(e))return!1;var t=kV(e);if(null===t)return!0;var n=qV.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&HV.call(n)==WV};var KV={};KV["[object Float32Array]"]=KV["[object Float64Array]"]=KV["[object Int8Array]"]=KV["[object Int16Array]"]=KV["[object Int32Array]"]=KV["[object Uint8Array]"]=KV["[object Uint8ClampedArray]"]=KV["[object Uint16Array]"]=KV["[object Uint32Array]"]=!0,KV["[object Arguments]"]=KV["[object Array]"]=KV["[object ArrayBuffer]"]=KV["[object Boolean]"]=KV["[object DataView]"]=KV["[object Date]"]=KV["[object Error]"]=KV["[object Function]"]=KV["[object Map]"]=KV["[object Number]"]=KV["[object Object]"]=KV["[object RegExp]"]=KV["[object Set]"]=KV["[object String]"]=KV["[object WeakMap]"]=!1;const GV=function(e){return EV(e)&&PV(e.length)&&!!KV[bU(e)]};const $V=function(e){return function(t){return e(t)}};var QV="object"==typeof exports&&exports&&!exports.nodeType&&exports,JV=QV&&"object"==typeof module&&module&&!module.nodeType&&module,XV=JV&&JV.exports===QV&&aU.process,ZV=function(){try{var e=JV&&JV.require&&JV.require("util").types;return e||XV&&XV.binding&&XV.binding("util")}catch(G1){}}();var eH=ZV&&ZV.isTypedArray;const tH=eH?$V(eH):GV;const nH=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]};var rH=Object.prototype.hasOwnProperty;const oH=function(e,t,n){var r=e[t];rH.call(e,t)&&GB(r,n)&&(void 0!==n||t in e)||sV(e,t,n)};const iH=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),o?sV(n,a,l):oH(n,a,l)}return n};const sH=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var aH=/^(?:0|[1-9]\d*)$/;const lH=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&aH.test(e))&&e>-1&&e%1==0&&e<t};var cH=Object.prototype.hasOwnProperty;const uH=function(e,t){var n=IV(e),r=!n&&OV(e),o=!n&&!r&&BV(e),i=!n&&!r&&!o&&tH(e),s=n||r||o||i,a=s?sH(e.length,String):[],l=a.length;for(var c in e)!t&&!cH.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||lH(c,l))||a.push(c);return a};const dH=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var hH=Object.prototype.hasOwnProperty;const pH=function(e){if(!wU(e))return dH(e);var t=CV(e),n=[];for(var r in e)("constructor"!=r||!t&&hH.call(e,r))&&n.push(r);return n};const fH=function(e){return jV(e)?uH(e,!0):pH(e)};const mH=function(e){return iH(e,fH(e))};const gH=function(e,t,n,r,o,i,s){var a=nH(e,n),l=nH(t,n),c=s.get(l);if(c)aV(e,n,c);else{var u=i?i(a,l,n+"",e,t,s):void 0,d=void 0===u;if(d){var h=IV(l),p=!h&&BV(l),f=!h&&!p&&tH(l);u=l,h||p||f?IV(a)?u=a:MV(a)?u=yV(a):p?(d=!1,u=fV(l,!0)):f?(d=!1,u=vV(l,!0)):u=[]:YV(l)||OV(l)?(u=a,OV(a)?u=mH(a):wU(a)&&!xU(a)||(u=SV(l))):d=!1}d&&(s.set(l,u),o(u,l,r,i,s),s.delete(l)),aV(e,n,u)}};const vH=function e(t,n,r,o,i){t!==n&&cV(n,function(s,a){if(i||(i=new oV),wU(s))gH(t,n,a,r,e,o,i);else{var l=o?o(nH(t,a),s,a+"",t,n,i):void 0;void 0===l&&(l=s),aV(t,a,l)}},fH)};const yH=function(e){return e};const bH=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var wH=Math.max;const xH=function(e,t,n){return t=wH(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=wH(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),bH(e,this,a)}};const kH=function(e){return function(){return e}};const _H=iV?function(e,t){return iV(e,"toString",{configurable:!0,enumerable:!1,value:kH(t),writable:!0})}:yH;var CH=Date.now;const SH=function(e){var t=0,n=0;return function(){var r=CH(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};const EH=SH(_H);const TH=function(e,t){return EH(xH(e,t,yH),e+"")};const AH=function(e,t,n){if(!wU(n))return!1;var r=typeof t;return!!("number"==r?jV(n)&&lH(t,n.length):"string"==r&&t in n)&&GB(n[t],e)};const DH=function(e){return TH(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,s&&AH(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})};const NH=DH(function(e,t,n){vH(e,t,n)});var OH=function(t){var n=t.zDepth,r=t.radius,o=t.background,i=t.children,s=t.styles,a=void 0===s?{}:s,l=(0,AB.Ay)(NH({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+4*n+"px rgba(0,0,0,.24)",borderRadius:r,background:o}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":1===n});return e.createElement("div",{style:l.wrap},e.createElement("div",{style:l.bg}),e.createElement("div",{style:l.content},i))};OH.propTypes={background:yy().string,zDepth:yy().oneOf([0,1,2,3,4,5]),radius:yy().number,styles:yy().object},OH.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};const IH=OH;const PH=function(){return cU.Date.now()};var jH=/\s/;const MH=function(e){for(var t=e.length;t--&&jH.test(e.charAt(t)););return t};var RH=/^\s+/;const FH=function(e){return e?e.slice(0,MH(e)+1).replace(RH,""):e};const LH=function(e){return"symbol"==typeof e||EV(e)&&"[object Symbol]"==bU(e)};var zH=/^[-+]0x[0-9a-f]+$/i,BH=/^0b[01]+$/i,UH=/^0o[0-7]+$/i,VH=parseInt;const HH=function(e){if("number"==typeof e)return e;if(LH(e))return NaN;if(wU(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=wU(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=FH(e);var n=BH.test(e);return n||UH.test(e)?VH(e.slice(2),n?2:8):zH.test(e)?NaN:+e};var qH=Math.max,WH=Math.min;const YH=function(e,t,n){var r,o,i,s,a,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,c=t,s=e.apply(i,n)}function f(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=i}function m(){var e=PH();if(f(e))return g(e);a=setTimeout(m,function(e){var n=t-(e-l);return d?WH(n,i-(e-c)):n}(e))}function g(e){return a=void 0,h&&r?p(e):(r=o=void 0,s)}function v(){var e=PH(),n=f(e);if(r=arguments,o=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(m,t),u?p(e):s}(l);if(d)return clearTimeout(a),a=setTimeout(m,t),p(l)}return void 0===a&&(a=setTimeout(m,t)),s}return t=HH(t)||0,wU(n)&&(u=!!n.leading,i=(d="maxWait"in n)?qH(HH(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=o=a=void 0},v.flush=function(){return void 0===a?s:g(PH())},v};const KH=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return wU(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),YH(e,t,{leading:r,maxWait:t,trailing:o})};var GH=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var $H=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleChange=function(e){"function"===typeof t.props.onChange&&t.throttle(t.props.onChange,function(e,t,n){var r=n.getBoundingClientRect(),o=r.width,i=r.height,s="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,a="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,l=s-(n.getBoundingClientRect().left+window.pageXOffset),c=a-(n.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>o&&(l=o),c<0?c=0:c>i&&(c=i);var u=l/o,d=1-c/i;return{h:t.h,s:u,v:d,a:t.a,source:"hsv"}}(e,t.props.hsl,t.container),e)},t.handleMouseDown=function(e){t.handleChange(e);var n=t.getContainerRenderWindow();n.addEventListener("mousemove",t.handleChange),n.addEventListener("mouseup",t.handleMouseUp)},t.handleMouseUp=function(){t.unbindEventListeners()},t.throttle=KH(function(e,t,n){e(t,n)},50),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),GH(n,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var t=this,n=this.props.style||{},r=n.color,o=n.white,i=n.black,s=n.pointer,a=n.circle,l=(0,AB.Ay)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:r,white:o,black:i,pointer:s,circle:a}},{custom:!!this.props.style});return e.createElement("div",{style:l.color,ref:function(e){return t.container=e},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},e.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),e.createElement("div",{style:l.white,className:"saturation-white"},e.createElement("div",{style:l.black,className:"saturation-black"}),e.createElement("div",{style:l.pointer},this.props.pointer?e.createElement(this.props.pointer,this.props):e.createElement("div",{style:l.circle}))))}}]),n}(e.PureComponent||e.Component);const QH=$H;const JH=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const XH=xV(Object.keys,Object);var ZH=Object.prototype.hasOwnProperty;const eq=function(e){if(!CV(e))return XH(e);var t=[];for(var n in Object(e))ZH.call(e,n)&&"constructor"!=n&&t.push(n);return t};const tq=function(e){return jV(e)?uH(e):eq(e)};const nq=function(e,t){return function(n,r){if(null==n)return n;if(!jV(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&!1!==r(s[i],i,s););return n}};const rq=nq(function(e,t){return e&&cV(e,t,tq)});const oq=function(e){return"function"==typeof e?e:yH};const iq=function(e,t){return(IV(e)?JH:rq)(e,oq(t))};function sq(e){return sq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sq(e)}var aq=/^\s+/,lq=/\s+$/;function cq(e,t){if(t=t||{},(e=e||"")instanceof cq)return e;if(!(this instanceof cq))return new cq(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,o=null,i=null,s=!1,a=!1;"string"==typeof e&&(e=function(e){e=e.replace(aq,"").replace(lq,"").toLowerCase();var t,n=!1;if(Eq[e])e=Eq[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=Rq.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=Rq.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=Rq.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=Rq.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=Rq.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=Rq.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=Rq.hex8.exec(e))return{r:Oq(t[1]),g:Oq(t[2]),b:Oq(t[3]),a:Mq(t[4]),format:n?"name":"hex8"};if(t=Rq.hex6.exec(e))return{r:Oq(t[1]),g:Oq(t[2]),b:Oq(t[3]),format:n?"name":"hex"};if(t=Rq.hex4.exec(e))return{r:Oq(t[1]+""+t[1]),g:Oq(t[2]+""+t[2]),b:Oq(t[3]+""+t[3]),a:Mq(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=Rq.hex3.exec(e))return{r:Oq(t[1]+""+t[1]),g:Oq(t[2]+""+t[2]),b:Oq(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==sq(e)&&(Fq(e.r)&&Fq(e.g)&&Fq(e.b)?(t=function(e,t,n){return{r:255*Dq(e,255),g:255*Dq(t,255),b:255*Dq(n,255)}}(e.r,e.g,e.b),s=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):Fq(e.h)&&Fq(e.s)&&Fq(e.v)?(r=Pq(e.s),o=Pq(e.v),t=function(e,t,n){e=6*Dq(e,360),t=Dq(t,100),n=Dq(n,100);var r=Math.floor(e),o=e-r,i=n*(1-t),s=n*(1-o*t),a=n*(1-(1-o)*t),l=r%6,c=[n,s,i,i,a,n][l],u=[a,n,n,s,i,i][l],d=[i,i,a,n,n,s][l];return{r:255*c,g:255*u,b:255*d}}(e.h,r,o),s=!0,a="hsv"):Fq(e.h)&&Fq(e.s)&&Fq(e.l)&&(r=Pq(e.s),i=Pq(e.l),t=function(e,t,n){var r,o,i;function s(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=Dq(e,360),t=Dq(t,100),n=Dq(n,100),0===t)r=o=i=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=s(l,a,e+1/3),o=s(l,a,e),i=s(l,a,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,r,i),s=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=Aq(n),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function uq(e,t,n){e=Dq(e,255),t=Dq(t,255),n=Dq(n,255);var r,o,i=Math.max(e,t,n),s=Math.min(e,t,n),a=(i+s)/2;if(i==s)r=o=0;else{var l=i-s;switch(o=a>.5?l/(2-i-s):l/(i+s),i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:o,l:a}}function dq(e,t,n){e=Dq(e,255),t=Dq(t,255),n=Dq(n,255);var r,o,i=Math.max(e,t,n),s=Math.min(e,t,n),a=i,l=i-s;if(o=0===i?0:l/i,i==s)r=0;else{switch(i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:o,v:a}}function hq(e,t,n,r){var o=[Iq(Math.round(e).toString(16)),Iq(Math.round(t).toString(16)),Iq(Math.round(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function pq(e,t,n,r){return[Iq(jq(r)),Iq(Math.round(e).toString(16)),Iq(Math.round(t).toString(16)),Iq(Math.round(n).toString(16))].join("")}function fq(e,t){t=0===t?0:t||10;var n=cq(e).toHsl();return n.s-=t/100,n.s=Nq(n.s),cq(n)}function mq(e,t){t=0===t?0:t||10;var n=cq(e).toHsl();return n.s+=t/100,n.s=Nq(n.s),cq(n)}function gq(e){return cq(e).desaturate(100)}function vq(e,t){t=0===t?0:t||10;var n=cq(e).toHsl();return n.l+=t/100,n.l=Nq(n.l),cq(n)}function yq(e,t){t=0===t?0:t||10;var n=cq(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),cq(n)}function bq(e,t){t=0===t?0:t||10;var n=cq(e).toHsl();return n.l-=t/100,n.l=Nq(n.l),cq(n)}function wq(e,t){var n=cq(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,cq(n)}function xq(e){var t=cq(e).toHsl();return t.h=(t.h+180)%360,cq(t)}function kq(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=cq(e).toHsl(),r=[cq(e)],o=360/t,i=1;i<t;i++)r.push(cq({h:(n.h+i*o)%360,s:n.s,l:n.l}));return r}function _q(e){var t=cq(e).toHsl(),n=t.h;return[cq(e),cq({h:(n+72)%360,s:t.s,l:t.l}),cq({h:(n+216)%360,s:t.s,l:t.l})]}function Cq(e,t,n){t=t||6,n=n||30;var r=cq(e).toHsl(),o=360/n,i=[cq(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(cq(r));return i}function Sq(e,t){t=t||6;for(var n=cq(e).toHsv(),r=n.h,o=n.s,i=n.v,s=[],a=1/t;t--;)s.push(cq({h:r,s:o,v:i})),i=(i+a)%1;return s}cq.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=Aq(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=dq(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=dq(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=uq(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=uq(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return hq(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var i=[Iq(Math.round(e).toString(16)),Iq(Math.round(t).toString(16)),Iq(Math.round(n).toString(16)),Iq(jq(r))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*Dq(this._r,255))+"%",g:Math.round(100*Dq(this._g,255))+"%",b:Math.round(100*Dq(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*Dq(this._r,255))+"%, "+Math.round(100*Dq(this._g,255))+"%, "+Math.round(100*Dq(this._b,255))+"%)":"rgba("+Math.round(100*Dq(this._r,255))+"%, "+Math.round(100*Dq(this._g,255))+"%, "+Math.round(100*Dq(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Tq[hq(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+pq(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=cq(e);n="#"+pq(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return cq(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(vq,arguments)},brighten:function(){return this._applyModification(yq,arguments)},darken:function(){return this._applyModification(bq,arguments)},desaturate:function(){return this._applyModification(fq,arguments)},saturate:function(){return this._applyModification(mq,arguments)},greyscale:function(){return this._applyModification(gq,arguments)},spin:function(){return this._applyModification(wq,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(Cq,arguments)},complement:function(){return this._applyCombination(xq,arguments)},monochromatic:function(){return this._applyCombination(Sq,arguments)},splitcomplement:function(){return this._applyCombination(_q,arguments)},triad:function(){return this._applyCombination(kq,[3])},tetrad:function(){return this._applyCombination(kq,[4])}},cq.fromRatio=function(e,t){if("object"==sq(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:Pq(e[r]));e=n}return cq(e,t)},cq.equals=function(e,t){return!(!e||!t)&&cq(e).toRgbString()==cq(t).toRgbString()},cq.random=function(){return cq.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},cq.mix=function(e,t,n){n=0===n?0:n||50;var r=cq(e).toRgb(),o=cq(t).toRgb(),i=n/100;return cq({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},cq.readability=function(e,t){var n=cq(e),r=cq(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},cq.isReadable=function(e,t,n){var r,o,i=cq.readability(e,t);switch(o=!1,r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n),r.level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},cq.mostReadable=function(e,t,n){var r,o,i,s,a=null,l=0;o=(n=n||{}).includeFallbackColors,i=n.level,s=n.size;for(var c=0;c<t.length;c++)(r=cq.readability(e,t[c]))>l&&(l=r,a=cq(t[c]));return cq.isReadable(e,a,{level:i,size:s})||!o?a:(n.includeFallbackColors=!1,cq.mostReadable(e,["#fff","#000"],n))};var Eq=cq.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Tq=cq.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(Eq);function Aq(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Dq(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Nq(e){return Math.min(1,Math.max(0,e))}function Oq(e){return parseInt(e,16)}function Iq(e){return 1==e.length?"0"+e:""+e}function Pq(e){return e<=1&&(e=100*e+"%"),e}function jq(e){return Math.round(255*parseFloat(e)).toString(16)}function Mq(e){return Oq(e)/255}var Rq=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Fq(e){return!!Rq.CSS_UNIT.exec(e)}var Lq=function(e){var t=0,n=0;return iq(["r","g","b","a","h","s","l","v"],function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}}),t===n&&e},zq=function(e,t){var n=e.hex?cq(e.hex):cq(e),r=n.toHsl(),o=n.toHsv(),i=n.toRgb(),s=n.toHex();return 0===r.s&&(r.h=t||0,o.h=t||0),{hsl:r,hex:"000000"===s&&0===i.a?"transparent":"#"+s,rgb:i,hsv:o,oldHue:e.h||t||r.h,source:e.source}},Bq=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&cq(e).isValid()},Uq=function(e){if(!e)return"#fff";var t=zq(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},Vq=function(e,t){return cq(t+" ("+e.replace("\xb0","")+")")._ok},Hq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qq=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();const Wq=function(t){var n=function(n){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.handleChange=function(e,n){if(Lq(e)){var r=zq(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(Lq(e)){var r=zq(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=Hq({},zq(e.color,0)),t.debounce=YH(function(e,t,n){e(t,n)},100),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),qq(r,[{key:"render",value:function(){var n={};return this.props.onSwatchHover&&(n.onSwatchHover=this.handleSwatchHover),e.createElement(t,Hq({},this.props,this.state,{onChange:this.handleChange},n))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return Hq({},zq(e.color,t.oldHue))}}]),r}(e.PureComponent||e.Component);return n.propTypes=Hq({},t.propTypes),n.defaultProps=Hq({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n};var Yq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kq=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Gq(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var $q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const Qq=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function o(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=n=Gq(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(i))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},Gq(n,t)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,r),Kq(o,[{key:"render",value:function(){return e.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},e.createElement(t,Yq({},this.props,this.state)))}}]),o}(e.Component)}(function(t){var n=t.color,r=t.style,o=t.onClick,i=void 0===o?function(){}:o,s=t.onHover,a=t.title,l=void 0===a?n:a,c=t.children,u=t.focus,d=t.focusStyle,h=void 0===d?{}:d,p="transparent"===n,f=(0,AB.Ay)({default:{swatch:$q({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?h:{})}}),m={};return s&&(m.onMouseOver=function(e){return s(n,e)}),e.createElement("div",$q({style:f.swatch,onClick:function(e){return i(n,e)},title:l,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&i(n,e)}},m),c,p&&e.createElement(PB,{borderRadius:f.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))});const Jq=function(t){var n=t.direction,r=(0,AB.Ay)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===n});return e.createElement("div",{style:r.picker})};var Xq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zq=function(t){var n=t.rgb,r=t.hsl,o=t.width,i=t.height,s=t.onChange,a=t.direction,l=t.style,c=t.renderers,u=t.pointer,d=t.className,h=void 0===d?"":d,p=(0,AB.Ay)({default:{picker:{position:"relative",width:o,height:i},alpha:{radius:"2px",style:l}}});return e.createElement("div",{style:p.picker,className:"alpha-picker "+h},e.createElement(LB,Xq({},p.alpha,{rgb:n,hsl:r,pointer:u,renderers:c,onChange:s,direction:a})))};Zq.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Jq};Wq(Zq);const eW=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o};const tW=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const nW=function(e){return this.__data__.has(e)};function rW(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new tV;++t<n;)this.add(e[t])}rW.prototype.add=rW.prototype.push=tW,rW.prototype.has=nW;const oW=rW;const iW=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const sW=function(e,t){return e.has(t)};const aW=function(e,t,n,r,o,i){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=2&n?new oW:void 0;for(i.set(e,t),i.set(t,e);++d<a;){var f=e[d],m=t[d];if(r)var g=s?r(m,f,d,t,e,i):r(f,m,d,e,t,i);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!iW(t,function(e,t){if(!sW(p,t)&&(f===e||o(f,e,n,r,i)))return p.push(t)})){h=!1;break}}else if(f!==m&&!o(f,m,n,r,i)){h=!1;break}}return i.delete(e),i.delete(t),h};const lW=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n};const cW=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n};var uW=uU?uU.prototype:void 0,dW=uW?uW.valueOf:void 0;const hW=function(e,t,n,r,o,i,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new mV(e),new mV(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return GB(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=lW;case"[object Set]":var l=1&r;if(a||(a=cW),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=aW(a(e),a(t),r,o,i,s);return s.delete(e),u;case"[object Symbol]":if(dW)return dW.call(e)==dW.call(t)}return!1};const pW=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};const fW=function(e,t,n){var r=t(e);return IV(e)?r:pW(r,n(e))};const mW=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i};const gW=function(){return[]};var vW=Object.prototype.propertyIsEnumerable,yW=Object.getOwnPropertySymbols;const bW=yW?function(e){return null==e?[]:(e=Object(e),mW(yW(e),function(t){return vW.call(e,t)}))}:gW;const wW=function(e){return fW(e,tq,bW)};var xW=Object.prototype.hasOwnProperty;const kW=function(e,t,n,r,o,i){var s=1&n,a=wW(e),l=a.length;if(l!=wW(t).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in t:xW.call(t,u)))return!1}var d=i.get(e),h=i.get(t);if(d&&h)return d==t&&h==e;var p=!0;i.set(e,t),i.set(t,e);for(var f=s;++c<l;){var m=e[u=a[c]],g=t[u];if(r)var v=s?r(g,m,u,t,e,i):r(m,g,u,e,t,i);if(!(void 0===v?m===g||o(m,g,n,r,i):v)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return i.delete(e),i.delete(t),p};const _W=MU(cU,"DataView");const CW=MU(cU,"Promise");const SW=MU(cU,"Set");const EW=MU(cU,"WeakMap");var TW="[object Map]",AW="[object Promise]",DW="[object Set]",NW="[object WeakMap]",OW="[object DataView]",IW=EU(_W),PW=EU(RU),jW=EU(CW),MW=EU(SW),RW=EU(EW),FW=bU;(_W&&FW(new _W(new ArrayBuffer(1)))!=OW||RU&&FW(new RU)!=TW||CW&&FW(CW.resolve())!=AW||SW&&FW(new SW)!=DW||EW&&FW(new EW)!=NW)&&(FW=function(e){var t=bU(e),n="[object Object]"==t?e.constructor:void 0,r=n?EU(n):"";if(r)switch(r){case IW:return OW;case PW:return TW;case jW:return AW;case MW:return DW;case RW:return NW}return t});const LW=FW;var zW="[object Arguments]",BW="[object Array]",UW="[object Object]",VW=Object.prototype.hasOwnProperty;const HW=function(e,t,n,r,o,i){var s=IV(e),a=IV(t),l=s?BW:LW(e),c=a?BW:LW(t),u=(l=l==zW?UW:l)==UW,d=(c=c==zW?UW:c)==UW,h=l==c;if(h&&BV(e)){if(!BV(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new oV),s||tH(e)?aW(e,t,n,r,o,i):hW(e,t,l,n,r,o,i);if(!(1&n)){var p=u&&VW.call(e,"__wrapped__"),f=d&&VW.call(t,"__wrapped__");if(p||f){var m=p?e.value():e,g=f?t.value():t;return i||(i=new oV),o(m,g,n,r,i)}}return!!h&&(i||(i=new oV),kW(e,t,n,r,o,i))};const qW=function e(t,n,r,o,i){return t===n||(null==t||null==n||!EV(t)&&!EV(n)?t!==t&&n!==n:HW(t,n,r,o,e,i))};const WW=function(e,t,n,r){var o=n.length,i=o,s=!r;if(null==e)return!i;for(e=Object(e);o--;){var a=n[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){var l=(a=n[o])[0],c=e[l],u=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var d=new oV;if(r)var h=r(c,u,l,e,t,d);if(!(void 0===h?qW(u,c,3,r,d):h))return!1}}return!0};const YW=function(e){return e===e&&!wU(e)};const KW=function(e){for(var t=tq(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,YW(o)]}return t};const GW=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};const $W=function(e){var t=KW(e);return 1==t.length&&t[0][2]?GW(t[0][0],t[0][1]):function(n){return n===e||WW(n,e,t)}};var QW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,JW=/^\w*$/;const XW=function(e,t){if(IV(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!LH(e))||(JW.test(e)||!QW.test(e)||null!=t&&e in Object(t))};function ZW(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(ZW.Cache||tV),n}ZW.Cache=tV;const eY=ZW;var tY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nY=/\\(\\)?/g,rY=function(e){var t=eY(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(tY,function(e,n,r,o){t.push(r?o.replace(nY,"$1"):n||e)}),t});const oY=rY;var iY=uU?uU.prototype:void 0,sY=iY?iY.toString:void 0;const aY=function e(t){if("string"==typeof t)return t;if(IV(t))return eW(t,e)+"";if(LH(t))return sY?sY.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};const lY=function(e){return null==e?"":aY(e)};const cY=function(e,t){return IV(e)?e:XW(e,t)?[e]:oY(lY(e))};const uY=function(e){if("string"==typeof e||LH(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};const dY=function(e,t){for(var n=0,r=(t=cY(t,e)).length;null!=e&&n<r;)e=e[uY(t[n++])];return n&&n==r?e:void 0};const hY=function(e,t,n){var r=null==e?void 0:dY(e,t);return void 0===r?n:r};const pY=function(e,t){return null!=e&&t in Object(e)};const fY=function(e,t,n){for(var r=-1,o=(t=cY(t,e)).length,i=!1;++r<o;){var s=uY(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&PV(o)&&lH(s,o)&&(IV(e)||OV(e))};const mY=function(e,t){return null!=e&&fY(e,t,pY)};const gY=function(e,t){return XW(e)&&YW(t)?GW(uY(e),t):function(n){var r=hY(n,e);return void 0===r&&r===t?mY(n,e):qW(t,r,3)}};const vY=function(e){return function(t){return null==t?void 0:t[e]}};const yY=function(e){return function(t){return dY(t,e)}};const bY=function(e){return XW(e)?vY(uY(e)):yY(e)};const wY=function(e){return"function"==typeof e?e:null==e?yH:"object"==typeof e?IV(e)?gY(e[0],e[1]):$W(e):bY(e)};const xY=function(e,t){var n=-1,r=jV(e)?Array(e.length):[];return rq(e,function(e,o,i){r[++n]=t(e,o,i)}),r};const kY=function(e,t){return(IV(e)?eW:xY)(e,wY(t,3))};const _Y=function(t){var n=t.colors,r=t.onClick,o=t.onSwatchHover,i=(0,AB.Ay)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return e.createElement("div",{style:i.swatches},kY(n,function(t){return e.createElement(Qq,{key:t,color:t,style:i.swatch,onClick:r,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}})}),e.createElement("div",{style:i.clear}))};var CY=function(t){var n=t.onChange,r=t.onSwatchHover,o=t.hex,i=t.colors,s=t.width,a=t.triangle,l=t.styles,c=void 0===l?{}:l,u=t.className,d=void 0===u?"":u,h="transparent"===o,p=function(e,t){Bq(e)&&n({hex:e,source:"hex"},t)},f=(0,AB.Ay)(NH({default:{card:{width:s,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:o,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:Uq(o),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+o+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},c),{"hide-triangle":"hide"===a});return e.createElement("div",{style:f.card,className:"block-picker "+d},e.createElement("div",{style:f.triangle}),e.createElement("div",{style:f.head},h&&e.createElement(PB,{borderRadius:"6px 6px 0 0"}),e.createElement("div",{style:f.label},o)),e.createElement("div",{style:f.body},e.createElement(_Y,{colors:i,onClick:p,onSwatchHover:r}),e.createElement(VB,{style:{input:f.input},value:o,onChange:p})))};CY.propTypes={width:yy().oneOfType([yy().string,yy().number]),colors:yy().arrayOf(yy().string),triangle:yy().oneOf(["top","hide"]),styles:yy().object},CY.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Wq(CY);var SY={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},EY={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},TY={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},AY={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},DY={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},NY={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},OY={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},IY={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},PY={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},jY={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},MY={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},RY={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},FY={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},LY={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},zY={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},BY={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},UY={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},VY={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"};var HY=function(t){var n=t.color,r=t.onClick,o=t.onSwatchHover,i=t.hover,s=t.active,a=t.circleSize,l=t.circleSpacing,c=(0,AB.Ay)({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:i,active:s});return e.createElement("div",{style:c.swatch},e.createElement(Qq,{style:c.Swatch,color:n,onClick:r,onHover:o,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+n}}))};HY.defaultProps={circleSize:28,circleSpacing:14};const qY=(0,AB.H8)(HY);var WY=function(t){var n=t.width,r=t.onChange,o=t.onSwatchHover,i=t.colors,s=t.hex,a=t.circleSize,l=t.styles,c=void 0===l?{}:l,u=t.circleSpacing,d=t.className,h=void 0===d?"":d,p=(0,AB.Ay)(NH({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},c)),f=function(e,t){return r({hex:e,source:"hex"},t)};return e.createElement("div",{style:p.card,className:"circle-picker "+h},kY(i,function(t){return e.createElement(qY,{key:t,color:t,onClick:f,onSwatchHover:o,active:s===t.toLowerCase(),circleSize:a,circleSpacing:u})}))};WY.propTypes={width:yy().oneOfType([yy().string,yy().number]),circleSize:yy().number,circleSpacing:yy().number,styles:yy().object},WY.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[SY[500],EY[500],TY[500],AY[500],DY[500],NY[500],OY[500],IY[500],PY[500],jY[500],MY[500],RY[500],FY[500],LY[500],zY[500],BY[500],UY[500],VY[500]],styles:{}};Wq(WY);const YY=function(e){return void 0===e};var KY=n(9128),GY=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var $Y=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.toggleViews=function(){"hex"===t.state.view?t.setState({view:"rgb"}):"rgb"===t.state.view?t.setState({view:"hsl"}):"hsl"===t.state.view&&(1===t.props.hsl.a?t.setState({view:"hex"}):t.setState({view:"rgb"}))},t.handleChange=function(e,n){e.hex?Bq(e.hex)&&t.props.onChange({hex:e.hex,source:"hex"},n):e.r||e.g||e.b?t.props.onChange({r:e.r||t.props.rgb.r,g:e.g||t.props.rgb.g,b:e.b||t.props.rgb.b,source:"rgb"},n):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),t.props.onChange({h:t.props.hsl.h,s:t.props.hsl.s,l:t.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},n)):(e.h||e.s||e.l)&&("string"===typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"===typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),t.props.onChange({h:e.h||t.props.hsl.h,s:Number(YY(e.s)?t.props.hsl.s:e.s),l:Number(YY(e.l)?t.props.hsl.l:e.l),source:"hsl"},n))},t.showHighlight=function(e){e.currentTarget.style.background="#eee"},t.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?t.state={view:"rgb"}:t.state={view:e.view},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),GY(n,[{key:"render",value:function(){var t=this,n=(0,AB.Ay)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),r=void 0;return"hex"===this.state.view?r=e.createElement("div",{style:n.fields,className:"flexbox-fix"},e.createElement("div",{style:n.field},e.createElement(VB,{style:{input:n.input,label:n.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?r=e.createElement("div",{style:n.fields,className:"flexbox-fix"},e.createElement("div",{style:n.field},e.createElement(VB,{style:{input:n.input,label:n.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),e.createElement("div",{style:n.field},e.createElement(VB,{style:{input:n.input,label:n.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),e.createElement("div",{style:n.field},e.createElement(VB,{style:{input:n.input,label:n.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),e.createElement("div",{style:n.alpha},e.createElement(VB,{style:{input:n.input,label:n.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(r=e.createElement("div",{style:n.fields,className:"flexbox-fix"},e.createElement("div",{style:n.field},e.createElement(VB,{style:{input:n.input,label:n.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),e.createElement("div",{style:n.field},e.createElement(VB,{style:{input:n.input,label:n.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),e.createElement("div",{style:n.field},e.createElement(VB,{style:{input:n.input,label:n.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),e.createElement("div",{style:n.alpha},e.createElement(VB,{style:{input:n.input,label:n.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),e.createElement("div",{style:n.wrap,className:"flexbox-fix"},r,e.createElement("div",{style:n.toggle},e.createElement("div",{style:n.icon,onClick:this.toggleViews,ref:function(e){return t.icon=e}},e.createElement(KY.A,{style:n.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),n}(e.Component);$Y.defaultProps={view:"hex"};const QY=$Y;const JY=function(){var t=(0,AB.Ay)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return e.createElement("div",{style:t.picker})};const XY=function(){var t=(0,AB.Ay)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return e.createElement("div",{style:t.picker})};var ZY=function(t){var n=t.width,r=t.onChange,o=t.disableAlpha,i=t.rgb,s=t.hsl,a=t.hsv,l=t.hex,c=t.renderers,u=t.styles,d=void 0===u?{}:u,h=t.className,p=void 0===h?"":h,f=t.defaultView,m=(0,AB.Ay)(NH({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+i.r+", "+i.g+", "+i.b+", "+i.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:o});return e.createElement("div",{style:m.picker,className:"chrome-picker "+p},e.createElement("div",{style:m.saturation},e.createElement(QH,{style:m.Saturation,hsl:s,hsv:a,pointer:XY,onChange:r})),e.createElement("div",{style:m.body},e.createElement("div",{style:m.controls,className:"flexbox-fix"},e.createElement("div",{style:m.color},e.createElement("div",{style:m.swatch},e.createElement("div",{style:m.active}),e.createElement(PB,{renderers:c}))),e.createElement("div",{style:m.toggles},e.createElement("div",{style:m.hue},e.createElement(YB,{style:m.Hue,hsl:s,pointer:JY,onChange:r})),e.createElement("div",{style:m.alpha},e.createElement(LB,{style:m.Alpha,rgb:i,hsl:s,pointer:JY,renderers:c,onChange:r})))),e.createElement(QY,{rgb:i,hsl:s,hex:l,view:f,onChange:r,disableAlpha:o})))};ZY.propTypes={width:yy().oneOfType([yy().string,yy().number]),disableAlpha:yy().bool,styles:yy().object,defaultView:yy().oneOf(["hex","rgb","hsl"])},ZY.defaultProps={width:225,disableAlpha:!1,styles:{}};Wq(ZY);const eK=function(t){var n=t.color,r=t.onClick,o=void 0===r?function(){}:r,i=t.onSwatchHover,s=t.active,a=(0,AB.Ay)({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:Uq(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:s,"color-#FFFFFF":"#FFFFFF"===n,transparent:"transparent"===n});return e.createElement(Qq,{style:a.color,color:n,onClick:o,onHover:i,focusStyle:{boxShadow:"0 0 4px "+n}},e.createElement("div",{style:a.dot}))};const tK=function(t){var n=t.hex,r=t.rgb,o=t.onChange,i=(0,AB.Ay)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),s=function(e,t){e.r||e.g||e.b?o({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},t):o({hex:e.hex,source:"hex"},t)};return e.createElement("div",{style:i.fields,className:"flexbox-fix"},e.createElement("div",{style:i.active}),e.createElement(VB,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"hex",value:n,onChange:s}),e.createElement(VB,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:r.r,onChange:s}),e.createElement(VB,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:r.g,onChange:s}),e.createElement(VB,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:r.b,onChange:s}))};var nK=function(t){var n=t.onChange,r=t.onSwatchHover,o=t.colors,i=t.hex,s=t.rgb,a=t.styles,l=void 0===a?{}:a,c=t.className,u=void 0===c?"":c,d=(0,AB.Ay)(NH({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),h=function(e,t){e.hex?Bq(e.hex)&&n({hex:e.hex,source:"hex"},t):n(e,t)};return e.createElement(IH,{style:d.Compact,styles:l},e.createElement("div",{style:d.compact,className:"compact-picker "+u},e.createElement("div",null,kY(o,function(t){return e.createElement(eK,{key:t,color:t,active:t.toLowerCase()===i,onClick:h,onSwatchHover:r})}),e.createElement("div",{style:d.clear})),e.createElement(tK,{hex:i,rgb:s,onChange:h})))};nK.propTypes={colors:yy().arrayOf(yy().string),styles:yy().object},nK.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Wq(nK);const rK=(0,AB.H8)(function(t){var n=t.hover,r=t.color,o=t.onClick,i=t.onSwatchHover,s={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=(0,AB.Ay)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:s}},{hover:n});return e.createElement("div",{style:a.swatch},e.createElement(Qq,{color:r,onClick:o,onHover:i,focusStyle:s}))});var oK=function(t){var n=t.width,r=t.colors,o=t.onChange,i=t.onSwatchHover,s=t.triangle,a=t.styles,l=void 0===a?{}:a,c=t.className,u=void 0===c?"":c,d=(0,AB.Ay)(NH({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":"hide"===s,"top-left-triangle":"top-left"===s,"top-right-triangle":"top-right"===s,"bottom-left-triangle":"bottom-left"===s,"bottom-right-triangle":"bottom-right"===s}),h=function(e,t){return o({hex:e,source:"hex"},t)};return e.createElement("div",{style:d.card,className:"github-picker "+u},e.createElement("div",{style:d.triangleShadow}),e.createElement("div",{style:d.triangle}),kY(r,function(t){return e.createElement(rK,{color:t,key:t,onClick:h,onSwatchHover:i})}))};oK.propTypes={width:yy().oneOfType([yy().string,yy().number]),colors:yy().arrayOf(yy().string),triangle:yy().oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:yy().object},oK.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Wq(oK);const iK=function(t){var n=t.direction,r=(0,AB.Ay)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===n});return e.createElement("div",{style:r.picker})};var sK=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aK=function(t){var n=t.width,r=t.height,o=t.onChange,i=t.hsl,s=t.direction,a=t.pointer,l=t.styles,c=void 0===l?{}:l,u=t.className,d=void 0===u?"":u,h=(0,AB.Ay)(NH({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},c));return e.createElement("div",{style:h.picker,className:"hue-picker "+d},e.createElement(YB,sK({},h.hue,{hsl:i,pointer:a,onChange:function(e){return o({a:1,h:e.h,l:.5,s:1})},direction:s})))};aK.propTypes={styles:yy().object},aK.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:iK,styles:{}};Wq(aK);Wq(function(t){var n=t.onChange,r=t.hex,o=t.rgb,i=t.styles,s=void 0===i?{}:i,a=t.className,l=void 0===a?"":a,c=(0,AB.Ay)(NH({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},s)),u=function(e,t){e.hex?Bq(e.hex)&&n({hex:e.hex,source:"hex"},t):(e.r||e.g||e.b)&&n({r:e.r||o.r,g:e.g||o.g,b:e.b||o.b,source:"rgb"},t)};return e.createElement(IH,{styles:s},e.createElement("div",{style:c.material,className:"material-picker "+l},e.createElement(VB,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:r,onChange:u}),e.createElement("div",{style:c.split,className:"flexbox-fix"},e.createElement("div",{style:c.third},e.createElement(VB,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:o.r,onChange:u})),e.createElement("div",{style:c.third},e.createElement(VB,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:o.g,onChange:u})),e.createElement("div",{style:c.third},e.createElement(VB,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:o.b,onChange:u})))))});const lK=function(t){var n=t.onChange,r=t.rgb,o=t.hsv,i=t.hex,s=(0,AB.Ay)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(e,t){e["#"]?Bq(e["#"])&&n({hex:e["#"],source:"hex"},t):e.r||e.g||e.b?n({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},t):(e.h||e.s||e.v)&&n({h:e.h||o.h,s:e.s||o.s,v:e.v||o.v,source:"hsv"},t)};return e.createElement("div",{style:s.fields},e.createElement(VB,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"h",value:Math.round(o.h),onChange:a}),e.createElement(VB,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"s",value:Math.round(100*o.s),onChange:a}),e.createElement(VB,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"v",value:Math.round(100*o.v),onChange:a}),e.createElement("div",{style:s.divider}),e.createElement(VB,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:a}),e.createElement(VB,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:a}),e.createElement(VB,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:a}),e.createElement("div",{style:s.divider}),e.createElement(VB,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"#",value:i.replace("#",""),onChange:a}),e.createElement("div",{style:s.fieldSymbols},e.createElement("div",{style:s.symbol},"\xb0"),e.createElement("div",{style:s.symbol},"%"),e.createElement("div",{style:s.symbol},"%")))};const cK=function(t){var n=t.hsl,r=(0,AB.Ay)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return e.createElement("div",{style:r.picker})};const uK=function(){var t=(0,AB.Ay)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return e.createElement("div",{style:t.pointer},e.createElement("div",{style:t.left},e.createElement("div",{style:t.leftInside})),e.createElement("div",{style:t.right},e.createElement("div",{style:t.rightInside})))};const dK=function(t){var n=t.onClick,r=t.label,o=t.children,i=t.active,s=(0,AB.Ay)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:i});return e.createElement("div",{style:s.button,onClick:n},r||o)};const hK=function(t){var n=t.rgb,r=t.currentColor,o=(0,AB.Ay)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return e.createElement("div",null,e.createElement("div",{style:o.label},"new"),e.createElement("div",{style:o.swatches},e.createElement("div",{style:o.new}),e.createElement("div",{style:o.current})),e.createElement("div",{style:o.label},"current"))};var pK=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var fK=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.state={currentColor:e.hex},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),pK(n,[{key:"render",value:function(){var t=this.props,n=t.styles,r=void 0===n?{}:n,o=t.className,i=void 0===o?"":o,s=(0,AB.Ay)(NH({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},r));return e.createElement("div",{style:s.picker,className:"photoshop-picker "+i},e.createElement("div",{style:s.head},this.props.header),e.createElement("div",{style:s.body,className:"flexbox-fix"},e.createElement("div",{style:s.saturation},e.createElement(QH,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:cK,onChange:this.props.onChange})),e.createElement("div",{style:s.hue},e.createElement(YB,{direction:"vertical",hsl:this.props.hsl,pointer:uK,onChange:this.props.onChange})),e.createElement("div",{style:s.controls},e.createElement("div",{style:s.top,className:"flexbox-fix"},e.createElement("div",{style:s.previews},e.createElement(hK,{rgb:this.props.rgb,currentColor:this.state.currentColor})),e.createElement("div",{style:s.actions},e.createElement(dK,{label:"OK",onClick:this.props.onAccept,active:!0}),e.createElement(dK,{label:"Cancel",onClick:this.props.onCancel}),e.createElement(lK,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),n}(e.Component);fK.propTypes={header:yy().string,styles:yy().object},fK.defaultProps={header:"Color Picker",styles:{}};const mK=Wq(fK);const gK=function(t){var n=t.onChange,r=t.rgb,o=t.hsl,i=t.hex,s=t.disableAlpha,a=(0,AB.Ay)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:s}),l=function(e,t){e.hex?Bq(e.hex)&&n({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?n({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,a:r.a,source:"rgb"},t):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,n({h:o.h,s:o.s,l:o.l,a:e.a,source:"rgb"},t))};return e.createElement("div",{style:a.fields,className:"flexbox-fix"},e.createElement("div",{style:a.double},e.createElement(VB,{style:{input:a.input,label:a.label},label:"hex",value:i.replace("#",""),onChange:l})),e.createElement("div",{style:a.single},e.createElement(VB,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),e.createElement("div",{style:a.single},e.createElement(VB,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),e.createElement("div",{style:a.single},e.createElement(VB,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),e.createElement("div",{style:a.alpha},e.createElement(VB,{style:{input:a.input,label:a.label},label:"a",value:Math.round(100*r.a),onChange:l,dragLabel:"true",dragMax:"100"})))};var vK=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yK=function(t){var n=t.colors,r=t.onClick,o=void 0===r?function(){}:r,i=t.onSwatchHover,s=(0,AB.Ay)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(e,t){o({hex:e,source:"hex"},t)};return e.createElement("div",{style:s.colors,className:"flexbox-fix"},n.map(function(t){var n="string"===typeof t?{color:t}:t,r=""+n.color+(n.title||"");return e.createElement("div",{key:r,style:s.swatchWrap},e.createElement(Qq,vK({},n,{style:s.swatch,onClick:a,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+n.color}})))}))};yK.propTypes={colors:yy().arrayOf(yy().oneOfType([yy().string,yy().shape({color:yy().string,title:yy().string})])).isRequired};const bK=yK;var wK=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xK=function(t){var n=t.width,r=t.rgb,o=t.hex,i=t.hsv,s=t.hsl,a=t.onChange,l=t.onSwatchHover,c=t.disableAlpha,u=t.presetColors,d=t.renderers,h=t.styles,p=void 0===h?{}:h,f=t.className,m=void 0===f?"":f,g=(0,AB.Ay)(NH({default:wK({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:c});return e.createElement("div",{style:g.picker,className:"sketch-picker "+m},e.createElement("div",{style:g.saturation},e.createElement(QH,{style:g.Saturation,hsl:s,hsv:i,onChange:a})),e.createElement("div",{style:g.controls,className:"flexbox-fix"},e.createElement("div",{style:g.sliders},e.createElement("div",{style:g.hue},e.createElement(YB,{style:g.Hue,hsl:s,onChange:a})),e.createElement("div",{style:g.alpha},e.createElement(LB,{style:g.Alpha,rgb:r,hsl:s,renderers:d,onChange:a}))),e.createElement("div",{style:g.color},e.createElement(PB,null),e.createElement("div",{style:g.activeColor}))),e.createElement(gK,{rgb:r,hsl:s,hex:o,onChange:a,disableAlpha:c}),e.createElement(bK,{colors:u,onClick:a,onSwatchHover:l}))};xK.propTypes={disableAlpha:yy().bool,width:yy().oneOfType([yy().string,yy().number]),styles:yy().object},xK.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Wq(xK);const kK=function(t){var n=t.hsl,r=t.offset,o=t.onClick,i=void 0===o?function(){}:o,s=t.active,a=t.first,l=t.last,c=(0,AB.Ay)({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+100*r+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:a,last:l});return e.createElement("div",{style:c.swatch,onClick:function(e){return i({h:n.h,s:.5,l:r,source:"hsl"},e)}})};const _K=function(t){var n=t.onClick,r=t.hsl,o=(0,AB.Ay)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),i=.1;return e.createElement("div",{style:o.swatches},e.createElement("div",{style:o.swatch},e.createElement(kK,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<i&&Math.abs(r.s-.5)<i,onClick:n,first:!0})),e.createElement("div",{style:o.swatch},e.createElement(kK,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<i&&Math.abs(r.s-.5)<i,onClick:n})),e.createElement("div",{style:o.swatch},e.createElement(kK,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<i&&Math.abs(r.s-.5)<i,onClick:n})),e.createElement("div",{style:o.swatch},e.createElement(kK,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<i&&Math.abs(r.s-.5)<i,onClick:n})),e.createElement("div",{style:o.swatch},e.createElement(kK,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<i&&Math.abs(r.s-.5)<i,onClick:n,last:!0})),e.createElement("div",{style:o.clear}))};const CK=function(){var t=(0,AB.Ay)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return e.createElement("div",{style:t.picker})};var SK=function(t){var n=t.hsl,r=t.onChange,o=t.pointer,i=t.styles,s=void 0===i?{}:i,a=t.className,l=void 0===a?"":a,c=(0,AB.Ay)(NH({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},s));return e.createElement("div",{style:c.wrap||{},className:"slider-picker "+l},e.createElement("div",{style:c.hue},e.createElement(YB,{style:c.Hue,hsl:n,pointer:o,onChange:r})),e.createElement("div",{style:c.swatches},e.createElement(_K,{hsl:n,onClick:r})))};SK.propTypes={styles:yy().object},SK.defaultProps={pointer:CK,styles:{}};Wq(SK);var EK=n(4371);const TK=function(t){var n=t.color,r=t.onClick,o=void 0===r?function(){}:r,i=t.onSwatchHover,s=t.first,a=t.last,l=t.active,c=(0,AB.Ay)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:Uq(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:s,last:a,active:l,"color-#FFFFFF":"#FFFFFF"===n,transparent:"transparent"===n});return e.createElement(Qq,{color:n,style:c.color,onClick:o,onHover:i,focusStyle:{boxShadow:"0 0 4px "+n}},e.createElement("div",{style:c.check},e.createElement(EK.A,null)))};const AK=function(t){var n=t.onClick,r=t.onSwatchHover,o=t.group,i=t.active,s=(0,AB.Ay)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return e.createElement("div",{style:s.group},kY(o,function(t,s){return e.createElement(TK,{key:t,color:t,active:t.toLowerCase()===i,first:0===s,last:s===o.length-1,onClick:n,onSwatchHover:r})}))};var DK=function(t){var n=t.width,r=t.height,o=t.onChange,i=t.onSwatchHover,s=t.colors,a=t.hex,l=t.styles,c=void 0===l?{}:l,u=t.className,d=void 0===u?"":u,h=(0,AB.Ay)(NH({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},c)),p=function(e,t){return o({hex:e,source:"hex"},t)};return e.createElement("div",{style:h.picker,className:"swatches-picker "+d},e.createElement(IH,null,e.createElement("div",{style:h.overflow},e.createElement("div",{style:h.body},kY(s,function(t){return e.createElement(AK,{key:t.toString(),group:t,active:a,onClick:p,onSwatchHover:i})}),e.createElement("div",{style:h.clear})))))};DK.propTypes={width:yy().oneOfType([yy().string,yy().number]),height:yy().oneOfType([yy().string,yy().number]),colors:yy().arrayOf(yy().arrayOf(yy().string)),styles:yy().object},DK.defaultProps={width:320,height:240,colors:[[SY[900],SY[700],SY[500],SY[300],SY[100]],[EY[900],EY[700],EY[500],EY[300],EY[100]],[TY[900],TY[700],TY[500],TY[300],TY[100]],[AY[900],AY[700],AY[500],AY[300],AY[100]],[DY[900],DY[700],DY[500],DY[300],DY[100]],[NY[900],NY[700],NY[500],NY[300],NY[100]],[OY[900],OY[700],OY[500],OY[300],OY[100]],[IY[900],IY[700],IY[500],IY[300],IY[100]],[PY[900],PY[700],PY[500],PY[300],PY[100]],["#194D33",jY[700],jY[500],jY[300],jY[100]],[MY[900],MY[700],MY[500],MY[300],MY[100]],[RY[900],RY[700],RY[500],RY[300],RY[100]],[FY[900],FY[700],FY[500],FY[300],FY[100]],[LY[900],LY[700],LY[500],LY[300],LY[100]],[zY[900],zY[700],zY[500],zY[300],zY[100]],[BY[900],BY[700],BY[500],BY[300],BY[100]],[UY[900],UY[700],UY[500],UY[300],UY[100]],[VY[900],VY[700],VY[500],VY[300],VY[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Wq(DK);var NK=function(t){var n=t.onChange,r=t.onSwatchHover,o=t.hex,i=t.colors,s=t.width,a=t.triangle,l=t.styles,c=void 0===l?{}:l,u=t.className,d=void 0===u?"":u,h=(0,AB.Ay)(NH({default:{card:{width:s,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},c),{"hide-triangle":"hide"===a,"top-left-triangle":"top-left"===a,"top-right-triangle":"top-right"===a}),p=function(e,t){Bq(e)&&n({hex:e,source:"hex"},t)};return e.createElement("div",{style:h.card,className:"twitter-picker "+d},e.createElement("div",{style:h.triangleShadow}),e.createElement("div",{style:h.triangle}),e.createElement("div",{style:h.body},kY(i,function(t,n){return e.createElement(Qq,{key:n,color:t,hex:t,style:h.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+t}})}),e.createElement("div",{style:h.hash},"#"),e.createElement(VB,{label:null,style:{input:h.input},value:o.replace("#",""),onChange:p}),e.createElement("div",{style:h.clear})))};NK.propTypes={width:yy().oneOfType([yy().string,yy().number]),triangle:yy().oneOf(["hide","top-left","top-right"]),colors:yy().arrayOf(yy().string),styles:yy().object},NK.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Wq(NK);var OK=function(t){var n=(0,AB.Ay)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(100*t.hsl.s)+"%, "+Math.round(100*t.hsl.l)+"%)"}}});return e.createElement("div",{style:n.picker})};OK.propTypes={hsl:yy().shape({h:yy().number,s:yy().number,l:yy().number,a:yy().number})},OK.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};const IK=OK;var PK=function(t){var n=(0,AB.Ay)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return e.createElement("div",{style:n.picker})};PK.propTypes={hsl:yy().shape({h:yy().number,s:yy().number,l:yy().number,a:yy().number})},PK.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};const jK=PK;const MK=function(t){var n=t.onChange,r=t.rgb,o=t.hsl,i=t.hex,s=t.hsv,a=function(e,t){if(e.hex)Bq(e.hex)&&n({hex:e.hex,source:"hex"},t);else if(e.rgb){var r=e.rgb.split(",");Vq(e.rgb,"rgb")&&n({r:r[0],g:r[1],b:r[2],a:1,source:"rgb"},t)}else if(e.hsv){var o=e.hsv.split(",");Vq(e.hsv,"hsv")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("\xb0",""),1==o[1]?o[1]=.01:1==o[2]&&(o[2]=.01),n({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsv"},t))}else if(e.hsl){var i=e.hsl.split(",");Vq(e.hsl,"hsl")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("\xb0",""),1==d[1]?d[1]=.01:1==d[2]&&(d[2]=.01),n({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsl"},t))}},l=(0,AB.Ay)({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),c=r.r+", "+r.g+", "+r.b,u=Math.round(o.h)+"\xb0, "+Math.round(100*o.s)+"%, "+Math.round(100*o.l)+"%",d=Math.round(s.h)+"\xb0, "+Math.round(100*s.s)+"%, "+Math.round(100*s.v)+"%";return e.createElement("div",{style:l.wrap,className:"flexbox-fix"},e.createElement("div",{style:l.fields},e.createElement("div",{style:l.double},e.createElement(VB,{style:{input:l.input,label:l.label},label:"hex",value:i,onChange:a})),e.createElement("div",{style:l.column},e.createElement("div",{style:l.single},e.createElement(VB,{style:{input:l.input2,label:l.label2},label:"rgb",value:c,onChange:a})),e.createElement("div",{style:l.single},e.createElement(VB,{style:{input:l.input2,label:l.label2},label:"hsv",value:d,onChange:a})),e.createElement("div",{style:l.single},e.createElement(VB,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:a})))))};var RK=function(t){var n=t.width,r=t.onChange,o=t.rgb,i=t.hsl,s=t.hsv,a=t.hex,l=t.header,c=t.styles,u=void 0===c?{}:c,d=t.className,h=void 0===d?"":d,p=(0,AB.Ay)(NH({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+o.r+", "+o.g+", "+o.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return e.createElement("div",{style:p.picker,className:"google-picker "+h},e.createElement("div",{style:p.head},l),e.createElement("div",{style:p.swatch}),e.createElement("div",{style:p.saturation},e.createElement(QH,{hsl:i,hsv:s,pointer:IK,onChange:r})),e.createElement("div",{style:p.body},e.createElement("div",{style:p.controls,className:"flexbox-fix"},e.createElement("div",{style:p.hue},e.createElement(YB,{style:p.Hue,hsl:i,radius:"4px",pointer:jK,onChange:r}))),e.createElement(MK,{rgb:o,hsl:i,hex:a,hsv:s,onChange:r})))};RK.propTypes={width:yy().oneOfType([yy().string,yy().number]),styles:yy().object,header:yy().string},RK.defaultProps={width:652,styles:{},header:"Color picker"};Wq(RK);function FK(t){let{name:n,label:r,value:o,onChange:i}=t;const[s,a]=(0,e.useState)(!1),l=()=>a(!0);return(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:n,children:r}),(0,Et.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,Et.jsx)("span",{style:{marginRight:8,cursor:"pointer"},className:"fa fa-eyedropper mobile-hide",onClick:l}),(0,Et.jsx)("div",{style:{backgroundColor:o,marginRight:8,border:"1px solid #ccc",height:20,width:20,cursor:"pointer"},onClick:l}),(0,Et.jsx)("input",{id:n,name:n,type:"text",className:"form-control",style:{flex:1},value:o,onChange:e=>i(e.target.value),placeholder:"#000"})]})]}),(0,Et.jsx)(Mb,{isOpen:s,children:(0,Et.jsx)(mK,{color:o,onChangeComplete:e=>{i(e.hex)},onAccept:()=>a(!1),onCancel:()=>a(!1)})})]})}var LK=eR.create({name:"textAlign",addOptions:()=>({types:[],alignments:["left","center","right","justify"],defaultAlignment:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:"text-align: ".concat(e.textAlign)}:{}}}}]},addCommands(){return{setTextAlign:e=>t=>{let{commands:n}=t;return!!this.options.alignments.includes(e)&&this.options.types.map(t=>n.updateAttributes(t,{textAlign:e})).every(e=>e)},unsetTextAlign:()=>e=>{let{commands:t}=e;return this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e)},toggleTextAlign:e=>t=>{let{editor:n,commands:r}=t;return!!this.options.alignments.includes(e)&&(n.isActive({textAlign:e})?r.unsetTextAlign():r.setTextAlign(e))}}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});const zK=["openInNewTab"],BK=t=>{var n,r;let{placeholder:s,form:a={},field:l={},label:c,sublabel:u,handleChange:d,allowParagraphAlignment:h,overrideMlbBlock:p,allowButtons:f}=t;const m=(0,e.useRef)(null),[g,v]=(0,e.useState)("16px"),[y,b]=(0,e.useState)(!1),[w,x]=(0,e.useState)(!1),[k,_]=(0,e.useState)({id:null,label:"Click me",backgroundColor:"#007bff",textColor:"#ffffff",padding:"4px 8px",borderRadius:"4px",borderColor:"transparent",borderWidth:"0px",actionUrl:"",openInNewTab:!0}),C="true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_FIREBASE_DATABASE:"https://sqwad-rebate-app.firebaseio.com",REACT_APP_FIREBASE_SENDER_ID:"827574824663",REACT_APP_FIREBASE_DOMAIN:"sqwad-rebate-app.firebaseapp.com",REACT_APP_SHOPIFY_SERVICE_URL:"https://ent-guns-supporters-corrections.trycloudflare.com",REACT_APP_FIREBASE_STORAGE_BUCKET:"sqwad-rebate-app.firebasestorage.app",REACT_APP_FIREBASE_KEY:"AIzaSyAQO8xXX2hfzeEwqXZu2KanqTXhU0hvzsM",REACT_APP_ID:"1:827574824663:web:b32ac87da74b6a81270a92",REACT_APP_FIREBASE_PROJECT_ID:"sqwad-rebate-app"}.REACT_APP_IS_MLB_TEAM,S=$z.options.HTMLAttributes||{target:"_blank",rel:"noopener noreferrer nofollow"},E=UR({extensions:[JR,ZR.configure({HTMLAttributes:{style:"min-height:24px"}}),eF,MF,HF,$F,cB.configure({inline:!0,draggable:!0,HTMLAttributes:{style:"max-width: 100%; height: auto;"}}),PF.configure({placeholder:s}),$z.configure({HTMLAttributes:S}),Jz,oB,sB,TB,...h?[LK.configure({types:["paragraph"]})]:[]],editorProps:{attributes:{class:"form-control"}},content:"",onUpdate:e=>{let{editor:t}=e,n=t.getHTML();ZS(n)&&(n=""),l.value!==n&&(a.setFieldValue(l.name,n),null===d||void 0===d||d(n))}});(0,e.useEffect)(()=>{E&&l.value&&E.getHTML()!==l.value&&E.commands.setContent(l.value)},[E,l.value]),(0,e.useEffect)(()=>{if(!E)return;const e=()=>{const{from:e,to:t}=E.state.selection,n=new Set;E.view.state.doc.nodesBetween(e,t,e=>{if(e.isText){const t=e.marks.find(e=>"textStyle"===e.type.name&&e.attrs.fontSize);n.add(t?t.attrs.fontSize:"16px")}}),v(1===n.size?[...n][0]:n.size>1?"":"16px")};return E.on("selectionUpdate",e),()=>E.off("selectionUpdate",e)},[E]);const T=(e,t)=>E.chain().focus()[e](t).run(),A=()=>b(!1),D=e=>t=>_(n=>(0,i.A)((0,i.A)({},n),{},{[e]:t.target.value})),N=e=>{E&&(E.state.selection.empty?E.chain().focus().command(t=>{let{tr:n}=t;return n.doc.descendants((t,r)=>{"paragraph"===t.type.name&&n.setNodeMarkup(r,t.type,(0,i.A)((0,i.A)({},t.attrs),{},{textAlign:e}),t.marks)}),!0}).run():E.chain().focus().setTextAlign(e).run())};return(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)(uB.Column,{style:{width:"100%",maxWidth:800,marginBottom:10},children:[(0,Et.jsx)(uB.Row,{children:(0,Et.jsx)("label",{htmlFor:l.id||l.name,children:c})}),(0,Et.jsx)(uB.Row,{children:(0,Et.jsx)("span",{className:"form-text",children:u})}),(0,Et.jsxs)(uB.Row,{className:"btn-group mb-3",style:{maxWidth:h?500:300},role:"group",children:[(0,Et.jsx)("button",{type:"button",onClick:()=>T("toggleBold"),className:"btn btn-light",children:(0,Et.jsx)("strong",{children:"B"})}),(0,Et.jsx)("button",{type:"button",onClick:()=>T("toggleItalic"),className:"btn btn-light",children:(0,Et.jsx)("em",{children:"I"})}),(0,Et.jsx)("button",{type:"button",onClick:()=>T("toggleUnderline"),className:"btn btn-light",children:(0,Et.jsx)("u",{children:"U"})}),(!C||p)&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("button",{type:"button",onClick:async()=>{const{value:e}=await fy().fire({title:"Enter URL",html:'\n            <input type="text" id="swal-input-url" class="swal2-input" placeholder="Enter your URL here">\n            <div style="text-align: left; margin-top: 10px;">\n                <input type="checkbox" id="swal-input-target" checked>\n                <label for="swal-input-target">Open in new window</label>\n            </div>\n            <div style="text-align: left; margin-top: 10px;">\n                <input type="checkbox" id="swal-input-target-2" checked>\n                <label for="swal-input-target-2">Validate URL</label>\n            </div>\n        ',focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Add Link",preConfirm:()=>{const e=document.getElementById("swal-input-url").value,t=document.getElementById("swal-input-target").checked;return document.getElementById("swal-input-target-2").checked&&!qS(e)&&fy().showValidationMessage("Invalid URL. Please ensure the URL format is correct"),{url:e,openInNewWindow:t}}});if(E&&e&&e.url){const t={href:e.url};e.openInNewWindow&&(t.target="_blank"),E.chain().focus().extendMarkRange("link").setLink(t).run()}},className:"btn btn-light",children:(0,Et.jsx)("i",{className:"fa fa-link"})}),(0,Et.jsx)("button",{type:"button",onClick:()=>T("unsetLink"),className:"btn btn-light",children:(0,Et.jsx)("i",{className:"fa fa-unlink"})})]}),(0,Et.jsx)("button",{type:"button",onClick:()=>E.chain().focus().splitBlock().run(),className:"btn btn-light",children:(0,Et.jsx)("i",{className:"fa fa-minus"})}),(0,Et.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.click()},className:"btn btn-light",children:(0,Et.jsx)("i",{className:"fa fa-image"})}),h&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("button",{type:"button",className:"btn btn-light",onClick:()=>N("left"),children:(0,Et.jsx)("i",{className:"fa fa-align-left"})}),(0,Et.jsx)("button",{type:"button",className:"btn btn-light",onClick:()=>{N("center")},children:(0,Et.jsx)("i",{className:"fa fa-align-center"})}),(0,Et.jsx)("button",{type:"button",className:"btn btn-light",onClick:()=>E.chain().focus().setTextAlign("right").run(),children:(0,Et.jsx)("i",{className:"fa fa-align-right"})}),(0,Et.jsx)("button",{type:"button",className:"btn btn-light",onClick:()=>E.chain().focus().setTextAlign("justify").run(),children:(0,Et.jsx)("i",{className:"fa fa-align-justify"})})]}),f&&(0,Et.jsx)("button",{type:"button",onClick:()=>{const{from:e,to:t}=E.state.selection,n=[];if(E.state.doc.nodesBetween(e,t,(e,t)=>{"buttonNode"===e.type.name&&n.push({node:e,pos:t})}),n.length){var r;const{node:e,pos:t}=n[0],o=null!==(r=e.attrs.target)&&void 0!==r?r:S.target;_((0,i.A)((0,i.A)({},e.attrs),{},{openInNewTab:o===S.target})),x(!0),E.chain().focus().setTextSelection({from:t,to:t+e.nodeSize}).run()}else _({id:null,label:"Click me",backgroundColor:"#007bff",textColor:"#ffffff",padding:"4px 8px",borderRadius:"4px",borderColor:"transparent",borderWidth:"0px",actionUrl:"",openInNewTab:!0}),x(!1);b(!0)},className:"btn btn-light",children:(0,Et.jsx)("i",{className:"fa fa-square"})}),(0,Et.jsxs)("select",{onChange:e=>{const t=e.target.value;v(t),T(t?"setFontSize":"unsetFontSize",t||void 0)},value:g,className:"form-select",style:{width:100},children:[(0,Et.jsx)("option",{value:"",children:"Size"}),["8px","12px","14px","16px","18px","20px","24px","28px","32px","48px","72px"].map(e=>(0,Et.jsx)("option",{value:e,children:e},e))]})]}),(0,Et.jsx)(uB.Row,{flexGrow:1,children:(0,Et.jsx)(MR,{editor:E,style:{width:"100%",fontFamily:"Helvetica"}})}),(0,Et.jsx)("input",{type:"file",accept:"image/*",ref:m,onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;const{error:r,imageUrl:o}=await(new Gb).upload_file(n);r?fy().fire("Error",r,"warning"):T("setImage",{src:o})},style:{display:"none"}}),(null===(n=a.touched)||void 0===n?void 0:n[l.name])&&(null===(r=a.errors)||void 0===r?void 0:r[l.name])&&(0,Et.jsx)("div",{className:"alert alert-danger mt-3",children:a.errors[l.name]})]}),(0,Et.jsxs)(Mb,{isOpen:y,toggle:A,children:[(0,Et.jsx)(Ub,{toggle:A,children:w?"Edit Button":"Insert Button"}),(0,Et.jsxs)(Kb,{style:{padding:20},children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{children:"Label"}),(0,Et.jsx)("input",{className:"form-control",value:k.label,onChange:D("label")})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{children:"Action URL"}),(0,Et.jsx)("input",{type:"url",className:"form-control",placeholder:"https://example.com",value:k.actionUrl,onChange:D("actionUrl")})]}),(0,Et.jsxs)("div",{className:"form-check mb-3",children:[(0,Et.jsx)("input",{id:"newTabCheck",type:"checkbox",className:"form-check-input",checked:k.openInNewTab,onChange:()=>_(e=>(0,i.A)((0,i.A)({},e),{},{openInNewTab:!e.openInNewTab}))}),(0,Et.jsx)("label",{htmlFor:"newTabCheck",className:"form-check-label",children:"Open in new tab"})]}),(0,Et.jsxs)("div",{className:"row mb-3",children:[(0,Et.jsx)("div",{className:"col",children:(0,Et.jsx)(FK,{name:"backgroundColor",label:"Background Color",value:k.backgroundColor,onChange:e=>_(t=>(0,i.A)((0,i.A)({},t),{},{backgroundColor:e}))})}),(0,Et.jsx)("div",{className:"col",children:(0,Et.jsx)(FK,{name:"textColor",label:"Text Color",value:k.textColor,onChange:e=>_(t=>(0,i.A)((0,i.A)({},t),{},{textColor:e}))})}),(0,Et.jsx)("div",{className:"col",children:(0,Et.jsx)(FK,{name:"borderColor",label:"Border Color",value:k.borderColor,onChange:e=>_(t=>(0,i.A)((0,i.A)({},t),{},{borderColor:e}))})})]}),(0,Et.jsxs)("div",{className:"form-group mb-3",children:[(0,Et.jsx)("label",{children:"Padding"}),(0,Et.jsx)("input",{className:"form-control",placeholder:"e.g. 4px 8px",value:k.padding,onChange:D("padding")})]}),(0,Et.jsxs)("div",{className:"form-group mb-3",children:[(0,Et.jsx)("label",{children:"Border Radius"}),(0,Et.jsx)("input",{className:"form-control",placeholder:"e.g. 4px",value:k.borderRadius,onChange:D("borderRadius")})]}),(0,Et.jsxs)("div",{className:"form-group mb-3",children:[(0,Et.jsx)("label",{children:"Border Size"}),(0,Et.jsx)("input",{className:"form-control",placeholder:"e.g. 1px",value:k.borderWidth,onChange:D("borderWidth")})]}),(0,Et.jsx)(CB,{color:"primary",block:!0,onClick:()=>{const{openInNewTab:e}=k,t=(0,o.A)(k,zK),n=(0,i.A)((0,i.A)({},t),{},{target:e?S.target:"_self",rel:S.rel}),r=E.chain().focus();w?r.updateButtonNode(n):r.setButtonNode(n),r.run(),A()},children:w?"Save":"Insert"})]})]})]})};class UK extends e.Component{constructor(e){super(e),this.onChangeDescription=e=>{this.setState({rewardDescription:e})},this.UploadImage=new Gb,this.state={ticketList:[],editingTicket:!1,rewardToEdit:null,imageUrl:null,modal:!1,emailImage:null,rewardName:"",rewardsList:[],rewardLink:"",rewardLinkButtonText:"",colorToShow:"#ffffff",colorToUpdate:"",colorPickerShow:!1,colorsTab:!0,rewardDescription:"",editTicketId:"",editTicketEmailImage:"",emailImagePreview:{},loading:!0,files:[]},this.handleSubmit=this.handleSubmit.bind(this),this.toggle=this.toggle.bind(this),this.handleChange=this.handleChange.bind(this)}componentDidMount(){AS(yS(database,"rewardsList"),e=>{const t=e.val()||{},n=Object.keys(t).map(e=>(0,i.A)((0,i.A)({},t[e]),{},{key:e}));this.setState({rewardsList:n,loading:!1})})}onDrop(e,t,n){t.length>0?QS.fire({title:"Image cannot be uploaded",text:"Make sure the image is less than 2mbs and it is an accepted file type"}):(this.setState({loading:!0}),this.UploadImage.upload_file(e[0]).then(t=>{if(this.setState({loading:!1}),t.error)QS.fire({title:"Image cannot be uploaded",text:t.error});else if(t.imageUrl){const r=n+"Preview",o=e[0];this.setState({[n]:t.imageUrl,[r]:{fileToUpdate:o,preview:URL.createObjectURL(o)}})}else QS.fire({title:"Image cannot be uploaded",text:"Something went wrong, please re-upload your image and try again!"})}))}componentWillUnmount(){URL.revokeObjectURL(this.state.emailImagePreview.preview)}handleChange(e){let t=e.target,n="checkbox"===t.type?t.checked:t.value;this.setState({[e.target.name]:n})}handleSubmit(e){if(e.preventDefault(),this.state.loading)return;const t=this.state.rewardName||"",n=this.state.rewardDisplayName||"",r=this.state.uniquePrizeToggle||!1,o=this.state.rewardLink||"",i=this.state.rewardLinkButtonText||"",s=this.state.rewardLinkButtonTextColor||"",a=this.state.rewardLinkButtonColor||"";let l=this.state.rewardDescription;const c=this.state.emailImage||this.state.editTicketEmailImage||"";if(!t)return void QS.fire({title:"Missing Info",text:"Please enter a name"});const u={},d=this.state.rewardToEdit&&this.state.rewardToEdit.key||wS(yS(database,"rewardsList")).key;u.rewardName=t,u.rewardDisplayName=n,u.emailImage=c,u.rewardLink=o,u.id=d,u.rewardLinkButtonText=i,u.rewardLinkButtonTextColor=s,u.rewardLinkButtonColor=a,u.uniquePrizeToggle=r,u.description=l,this.setState({loading:!0});const h=this;kS(yS(database,"rewardsList/".concat(u.id)),u).then(()=>{$S.fire({title:h.state.rewardToEdit?"Successfully Edited!":"Successfully Created!"}),h.setState({rewardDescription:"",fileEmailImage:null,rewardName:"",rewardDisplayName:"",emailImage:null,rewardLink:"",rewardLinkButtonText:"",rewardLinkButtonTextColor:"",rewardLinkButtonColor:"",rewardEmailName:"",rewardToEdit:null,emailImagePreview:{},editingTicket:!1,showButton:!1,modal:!1,loading:!1,isRedeemable:!1,expiresAtHours:"",expiresAtDateTime:"",templateText:"",vendorName:"",uniquePrizeToggle:!1})}).catch(e=>{console.error("Error updating document: ",e),h.setState({loading:!1}),QS.fire({title:"There was some error!",text:"Try again and if the problem persists try logging out and logging back in"})})}editTicket(e){e.preventDefault();const t=this.state.rewardsList[e.target.value];this.setState({modal:!0,rewardName:t.rewardName,rewardDisplayName:t.rewardDisplayName,rewardLink:t.rewardLink,rewardDescription:t.description,rewardLinkButtonText:t.rewardLinkButtonText,rewardLinkButtonColor:t.rewardLinkButtonColor,rewardLinkButtonTextColor:t.rewardLinkButtonTextColor,editTicketEmailImage:t.emailImage,rewardEmailName:t.rewardEmailName,showButton:t.showButton,isRedeemable:t.isRedeemable,uniquePrizeToggle:t.uniquePrizeToggle,rewardToEdit:t,editingTicket:!0,expiresAtHours:t.expiresAtHours,expiresAtDateTime:t.expiresAtDateTime,vendorName:t.vendorName,templateText:t.templateText})}async deleteTicket(e){e.preventDefault();const t=this.state.rewardsList[e.target.value];(await JS.fire({title:"Delete Prize?",text:"Are you sure you want to do this?  You will no longer be able to use this prize in any new games",confirmButtonText:"Delete"})).value&&xS(yS(database,"rewardsList/"+t.key)).catch(e=>{QS.fire({title:"There was some error!",text:"Try again and if the problem persists try logging out and logging back in"})})}toggle(){this.setState({modal:!this.state.modal,rewardName:"",rewardLink:"",rewardDescription:"",rewardLinkButtonText:"",rewardLinkButtonColor:"",rewardLinkButtonTextColor:"",editTicketEmailImage:null,rewardToEdit:null,editingTicket:!1,uniquePrizeToggle:!1,showButton:!1,isRedeemable:!1,templateText:"",vendorName:"",rewardEmailName:"",expiresAtHours:"",expiresAtDateTime:""})}render(){const e=this.state.rewardsList,t=this.state.emailImagePreview;return(0,Et.jsxs)("div",{className:"admin-wrapper",children:[(0,Et.jsx)("div",{className:"loading-screen",style:{display:this.state.loading?"block":"none"}}),(0,Et.jsx)(za,{}),(0,Et.jsx)(Va,{}),(0,Et.jsx)("div",{className:"admin-main-panel",children:(0,Et.jsx)("div",{className:"card",children:(0,Et.jsxs)("div",{className:"card-body",children:[(0,Et.jsx)("p",{className:"admin-header-text",style:{marginBottom:0},children:"Prizes"}),(0,Et.jsx)("p",{className:"admin-subheader-text",children:"These are prizes fans will receive when they win Prediction"}),(0,Et.jsx)("button",{className:"btn btn-primary btn-lg create-prize-button",style:{fontSize:20,marginLeft:20},onClick:this.toggle,children:"Add Prize"}),(0,Et.jsx)("div",{className:"admin-grid-container four-columns",style:{marginTop:20},children:e.map(function(e,t){return(0,Et.jsx)("div",{className:"card",children:(0,Et.jsxs)("div",{className:"card-body",align:"center",children:[(0,Et.jsx)("p",{style:{marginTop:5},children:e.rewardName}),(0,Et.jsx)("p",{children:(0,Et.jsx)("img",{width:"80%",height:"auto",src:e.emailImage,alt:""})}),(0,Et.jsxs)("button",{className:"btn btn-primary btn-lg edit-button",style:{marginRight:5,marginBottom:10},onClick:this.editTicket.bind(this),value:t,children:[(0,Et.jsx)("span",{className:"fa fa-ellipsis-v"})," Edit"]}),(0,Et.jsxs)("button",{className:"btn btn-primary btn-lg delete-button",style:{marginBottom:10},onClick:this.deleteTicket.bind(this),value:t,children:[(0,Et.jsx)("span",{className:"fa fa-trash-o"})," Delete"]})]})},t)},this)})]})})}),(0,Et.jsxs)(Mb,{isOpen:this.state.modal,toggle:this.toggle,style:{width:"90%"},id:"myModal",children:[(0,Et.jsx)(Ub,{toggle:this.toggle,children:"Add Prize"}),(0,Et.jsx)(Kb,{children:(0,Et.jsx)("div",{className:"container-out",children:(0,Et.jsx)("div",{className:"question-box",style:{border:"none"},children:(0,Et.jsxs)("form",{className:"pl-3 pr-3",onSubmit:this.handleSubmit,id:"create-email-form",children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"rewardName",children:"Prize Name (Only On The Admin)"}),(0,Et.jsx)("input",{id:"rewardName",name:"rewardName",type:"text",className:"form-control",value:this.state.rewardName,onChange:this.handleChange,placeholder:"My Sweet Prize"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"rewardDisplayName",children:"Prize Display Name (Optional)"}),(0,Et.jsx)("input",{id:"rewardDisplayName",name:"rewardDisplayName",type:"text",className:"form-control",value:this.state.rewardDisplayName,onChange:this.handleChange,placeholder:"My Sweet Prize"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsxs)("label",{htmlFor:"rewardLink",children:[!this.state.uniquePrizeToggle&&"Prize Link (Optional) OR ","Unique Prize Links ",(0,Et.jsx)("input",{type:"checkbox",checked:this.state.uniquePrizeToggle,id:"uniquePrizeToggle",name:"uniquePrizeToggle",onChange:this.handleChange})]}),!this.state.uniquePrizeToggle&&(0,Et.jsx)("input",{id:"rewardLink",name:"rewardLink",type:"url",className:"form-control",value:this.state.rewardLink,onChange:this.handleChange,placeholder:"https://my_sweet_prize_link.com"})]}),(this.state.rewardLink||this.state.uniquePrizeToggle)&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"rewardLinkButtonText",children:"Prize Link Button Text (Optional)"}),(0,Et.jsx)("input",{id:"rewardLinkButtonText",name:"rewardLinkButtonText",type:"text",className:"form-control",value:this.state.rewardLinkButtonText,onChange:this.handleChange,placeholder:"Reward Link"})]}),(0,Et.jsxs)("div",{className:"row",children:[(0,Et.jsx)("div",{className:"col-md-6",children:(0,Et.jsx)(FK,{name:"rewardLinkButtonTextColor",label:"Button Text Color",value:this.state.rewardLinkButtonTextColor,onChange:e=>this.handleChange({target:{name:"rewardLinkButtonTextColor",value:e}})})}),(0,Et.jsx)("div",{className:"col-md-6",children:(0,Et.jsx)(FK,{name:"rewardLinkButtonColor",label:"Button Color",value:this.state.rewardLinkButtonColor,onChange:e=>this.handleChange({target:{name:"rewardLinkButtonColor",value:e}})})})]})]}),(0,Et.jsx)("div",{className:"form-group",children:(0,Et.jsx)(BK,{field:{id:"rewardDescription",name:"rewardDescription",value:this.state.rewardDescription},form:{setFieldValue:(e,t)=>this.onChangeDescription(t)},label:"Prize Description",sublabel:"Describe the prize that the user will receive.",placeholder:"My Sweet Prize Description"})}),(0,Et.jsxs)("div",{className:"form-group",align:"center",children:[(0,Et.jsxs)("label",{htmlFor:"rewardEmailImage",style:{width:"100%"},children:["Prize Email Image",(0,Et.jsx)("span",{style:{cursor:"pointer",display:t.preview||this.state.editTicketEmailImage?"":"none"},onClick:()=>this.setState({editTicketEmailImage:null,fileUploaded:!1,emailImagePreview:{},emailImage:null}),children:"\u274c"})]}),(0,Et.jsx)("img",{src:this.state.editTicketEmailImage,width:"auto",height:"100px",style:{display:this.state.editingTicket?"":"none"},alt:""}),(0,Et.jsx)(oT,{onDrop:(e,t)=>this.onDrop(e,t,"emailImage"),preview:t.preview})]}),(0,Et.jsx)("div",{className:"form-group text-center",children:(0,Et.jsx)("button",{className:"btn btn-primary btn-lg submit-button",id:"submitButton",children:"Submit"})})]})})})})]})]})}}const VK=UK,HK=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,qK=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,WK=/\.(m3u8)($|\?)/i,YK=/\.(mpd)($|\?)/i,KK=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,GK=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,$K=/vimeo\.com\/(?!progressive_redirect).+/,QK=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,JK=/open\.spotify\.com\/(\w+)\/(\w+)/i,XK=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,ZK=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,eG=(e,t)=>{if(Array.isArray(e)){for(const n of e){if("string"===typeof n&&eG(n,t))return!0;if(eG(n.src,t))return!0}return!1}return t(e)},tG={html:e=>eG(e,e=>HK.test(e)||qK.test(e)),hls:e=>eG(e,e=>WK.test(e)),dash:e=>eG(e,e=>YK.test(e)),mux:e=>KK.test(e),youtube:e=>GK.test(e),vimeo:e=>$K.test(e)&&!qK.test(e)&&!WK.test(e),wistia:e=>QK.test(e),spotify:e=>JK.test(e),twitch:e=>XK.test(e),tiktok:e=>ZK.test(e)},nG=e.forwardRef((t,n)=>{const r=HK.test("".concat(t.src))?"audio":"video";return e.createElement(r,(0,i.A)((0,i.A)({},t),{},{ref:n}),t.children)});var rG=nG;var oG=[{key:"hls",name:"hls.js",canPlay:tG.hls,canEnablePIP:()=>!0,player:(0,e.lazy)(()=>Promise.all([n.e(372),n.e(788),n.e(262)]).then(n.bind(n,7890)))},{key:"dash",name:"dash.js",canPlay:tG.dash,canEnablePIP:()=>!0,player:(0,e.lazy)(()=>Promise.all([n.e(372),n.e(395)]).then(n.bind(n,8398)))},{key:"mux",name:"Mux",canPlay:tG.mux,canEnablePIP:()=>!0,player:(0,e.lazy)(()=>Promise.all([n.e(372),n.e(788),n.e(723)]).then(n.bind(n,9588)))},{key:"youtube",name:"YouTube",canPlay:tG.youtube,player:(0,e.lazy)(()=>n.e(446).then(n.bind(n,1702)))},{key:"vimeo",name:"Vimeo",canPlay:tG.vimeo,player:(0,e.lazy)(()=>n.e(173).then(n.bind(n,83)))},{key:"wistia",name:"Wistia",canPlay:tG.wistia,canEnablePIP:()=>!0,player:(0,e.lazy)(()=>n.e(340).then(n.bind(n,247)))},{key:"spotify",name:"Spotify",canPlay:tG.spotify,canEnablePIP:()=>!1,player:(0,e.lazy)(()=>n.e(771).then(n.bind(n,5869)))},{key:"twitch",name:"Twitch",canPlay:tG.twitch,canEnablePIP:()=>!1,player:(0,e.lazy)(()=>n.e(42).then(n.bind(n,4074)))},{key:"tiktok",name:"TikTok",canPlay:tG.tiktok,canEnablePIP:()=>!1,player:(0,e.lazy)(()=>n.e(85).then(n.bind(n,155)))},{key:"html",name:"html",canPlay:tG.html,canEnablePIP:()=>!0,player:rG}];const iG={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},sG=e.forwardRef((t,n)=>{const{playing:r,pip:o}=t,s=t.activePlayer,a=(0,e.useRef)(null),l=(0,e.useRef)(!0);(0,e.useEffect)(()=>{var e,n;a.current&&(a.current.paused&&!0===r&&a.current.play(),a.current.paused||!1!==r||a.current.pause(),a.current.playbackRate=null!=(e=t.playbackRate)?e:1,a.current.volume=null!=(n=t.volume)?n:1)}),(0,e.useEffect)(()=>{var e,t,n,r,i;if(a.current&&globalThis.document){if(o&&!document.pictureInPictureElement)try{null==(t=(e=a.current).requestPictureInPicture)||t.call(e)}catch(s){}if(!o&&document.pictureInPictureElement)try{null==(r=(n=a.current).exitPictureInPicture)||r.call(n),null==(i=document.exitPictureInPicture)||i.call(document)}catch(s){}}},[o]);if(!s)return null;const c={},u=["onReady","onStart"];for(const e in t)e.startsWith("on")&&!u.includes(e)&&(c[e]=t[e]);return e.createElement(s,(0,i.A)((0,i.A)({},c),{},{style:t.style,className:t.className,slot:t.slot,ref:(0,e.useCallback)(e=>{a.current=e,"function"===typeof n?n(e):null!==n&&(n.current=e)},[n]),src:t.src,crossOrigin:t.crossOrigin,preload:t.preload,controls:t.controls,muted:t.muted,autoPlay:t.autoPlay,loop:t.loop,playsInline:t.playsInline,config:t.config,onLoadStart:e=>{var n,r;l.current=!0,null==(n=t.onReady)||n.call(t),null==(r=t.onLoadStart)||r.call(t,e)},onPlay:e=>{var n,r;l.current&&(l.current=!1,null==(n=t.onStart)||n.call(t,e)),null==(r=t.onPlay)||r.call(t,e)}}),t.children)});sG.displayName="Player";var aG=sG;const lG=(0,e.lazy)(()=>n.e(353).then(n.bind(n,6887))),cG=[],uG=e=>{let{children:t}=e;return t};var dG=((t,n)=>{const r=e.forwardRef((r,o)=>{const s=(0,i.A)((0,i.A)({},iG),r),{src:a,slot:l,className:c,style:u,width:d,height:h,fallback:p,wrapper:f}=s,[m,g]=(0,e.useState)(!!s.light);(0,e.useEffect)(()=>{s.light?g(!0):g(!1)},[s.light]);const v=e=>{var t;g(!1),null==(t=s.onClickPreview)||t.call(s,e)},y=null==f?uG:f,b=!1===p?uG:e.Suspense;return e.createElement(y,{slot:l,className:c,style:(0,i.A)({width:d,height:h},u)},e.createElement(b,{fallback:p},m?(t=>{if(!t)return null;const{light:n,playIcon:r,previewTabIndex:o,oEmbedUrl:i,previewAriaLabel:a}=s;return e.createElement(lG,{src:t,light:n,playIcon:r,previewTabIndex:o,previewAriaLabel:a,oEmbedUrl:i,onClickPreview:v})})(a):(r=>{var a,u;const d=(e=>{for(const n of[...cG,...t])if(e&&n.canPlay(e))return n;return n||null})(r);if(!d)return null;const{style:h,width:p,height:f,wrapper:m}=s,g=null==(a=s.config)?void 0:a[d.key];return e.createElement(aG,(0,i.A)((0,i.A)({},s),{},{ref:o,activePlayer:null!=(u=d.player)?u:d,slot:m?void 0:l,className:m?void 0:c,style:m?{display:"block",width:"100%",height:"100%"}:(0,i.A)({display:"block",width:p,height:f},h),config:g}))})(a)))});return r.displayName="ReactPlayer",r.addCustomPlayer=e=>{cG.push(e)},r.removeCustomPlayers=()=>{cG.length=0},r.canPlay=e=>{if(e)for(const n of[...cG,...t])if(n.canPlay(e))return!0;return!1},r.canEnablePIP=e=>{var n;if(e)for(const r of[...cG,...t])if(r.canPlay(e)&&(null==(n=r.canEnablePIP)?void 0:n.call(r)))return!0;return!1},r})(oG,oG[oG.length-1]);class hG extends e.Component{constructor(e){super(e),this.handleRichTextChange=(e,t)=>{this.setState({[e]:t})},this.UploadImage=new Gb,this.state={questionsList:[],editingTicket:!1,selectedQuestion:{},newAnswerText:"",newAnswerImage:null,newAnswerImagePreview:{},currentAnswerList:[],currentQuestionTitle:"",rewardToEdit:null,imageUrl:null,modal:!1,editTicketId:"",loading:!0,add_image:!1,add_video:!1,videoLength:null,videoLink:"",duplicatingItem:!1,answerDescription:""},this.toggle=this.toggle.bind(this),this.handleChange=this.handleChange.bind(this),this.handleVideoChange=this.handleVideoChange.bind(this)}componentDidMount(){const e=yS(database,"questionsList");this.unsubscribe=AS(e,e=>{const t=e.val();if(!t)return void this.setState({questionsList:[],loading:!1});const n=Object.keys(t).map(e=>(0,i.A)({key:e},t[e]));this.setState({questionsList:n,loading:!1})})}componentWillUnmount(){this.unsubscribe&&this.unsubscribe()}handleChange(e){const t=e.target,n="checkbox"===t.type?t.checked:t.value;this.setState({[e.target.name]:n})}handleVideoChange(e){const t=this[e.target.name].files[0];this.setState({loading:!0}),this.UploadImage.upload_file(t).then(e=>{this.setState({loading:!1}),e&&e.error?QS.fire({title:"Video cannot be uploaded",text:e.error}):e&&e.imageUrl?this.setState({fileUploaded:!0,videoLink:e.imageUrl}):QS.fire({title:"Video cannot be uploaded",text:"Something went wrong, please re-upload your video and try again!"})})}onDrop(e,t,n){if(t.length>0)return void QS.fire({title:"Image cannot be uploaded",text:"Make sure the image is less than 2mbs and it is an accepted file type"});const r=e[0],o=n+"Preview";this.setState({[o]:{fileToUpdate:r,preview:URL.createObjectURL(r)}})}async answerToLocalArray(){let e=[...this.state.currentAnswerList],t=(this.state.newAnswerText||"").trim();const n=this.state.newAnswerImagePreview||{},r=this.state.add_image||!1;let o=this.state.answerDescription;if(!t)return void QS.fire({title:"Answer is blank",text:"Please enter an answer and try again"});if(t.length>72)return void QS.fire({title:"Answer is Too Long",text:"Answer cannot be longer than 72 characters"});let i=null;if(r&&null!==n&&void 0!==n&&n.preview)if(qS(n.preview))i=n.preview;else{this.setState({loading:!0});const e=await this.UploadImage.upload_file(n.fileToUpdate);if(this.setState({loading:!1}),!e||!e.imageUrl)return void QS.fire({title:"Image cannot be uploaded",text:"There was some issue with the image upload, please reupload and try again"});i=e.imageUrl}const s={answerText:t,id:wS(yS(database)).key,answerImage:i,answerImagePreview:i||null,order:e.length+1,answerDescription:o};e.push(s),this.setState({currentAnswerList:e,newAnswerText:"",newAnswerImagePreview:{},loading:!1,answerDescription:""})}createQuestion(){const{currentQuestionTitle:e,selectedQuestion:t,duplicatingItem:n,add_video:r,videoLink:o,videoLength:i}=this.state;let s=e||(null===t||void 0===t?void 0:t.questionText),a=[...this.state.currentAnswerList];if(n&&a.forEach(e=>{e.id=wS(yS(database)).key}),!s)return void QS.fire({title:"No Prediction",text:"Make sure to fill out the prediction section!"});let l=!!r&&o,c=!!r&&i;if(r&&l&&!qS(l))return void QS.fire({title:"Oh uh!",text:"Video link is not a valid URL"});if(r&&!l)return void QS.fire({title:"Oh uh!",text:"You indicated you want to add a video but haven't added a valid link or file"});if(a.length<2)return void QS.fire({title:"Incorrect Answers",text:"You need to add at least two answers"});a.forEach(e=>e.answerImagePreview=null);const u={questionText:s,answers:a,videoLink:l||"",videoLength:c||null};t&&t.key?kS(yS(database,"questionsList/".concat(t.key)),u).then(()=>{this.setState({modal:!1,selectedQuestion:{},videoLink:"",videoLength:null,add_video:!1,add_image:!1,currentAnswerList:[],duplicatingItem:!1})}).catch(e=>{console.error(e)}):wS(yS(database,"questionsList"),u).then(()=>{this.setState({selectedQuestion:{},currentAnswerList:[],videoLink:"",videoLength:null,add_video:!1,add_image:!1,currentQuestionTitle:"",newAnswerText:"",modal:!1,duplicatingItem:!1})}).catch(e=>{console.error(e)})}editQuestion(e){e.preventDefault();const t=e.target.value,n=this.state.questionsList[t];if(!n)return void QS.fire({title:"Oh uh!",text:"Something went wrong, refresh the page and try again!"});const r=!!n.videoLink;this.setState({modal:!0,currentQuestionTitle:n.questionText,videoLink:n.videoLink||"",add_video:r,videoLength:n.videoLength,selectedQuestion:n,currentAnswerList:[...n.answers],duplicatingItem:!1})}duplicateQuestion(e){e.preventDefault();const t=e.target.value,n=this.state.questionsList[t];if(!n)return void QS.fire({title:"Oh uh!",text:"Something went wrong, refresh the page and try again!"});const r=!!n.videoLink;this.setState({modal:!0,currentQuestionTitle:n.questionText,videoLink:n.videoLink||"",add_video:r,videoLength:n.videoLength,currentAnswerList:[...n.answers],duplicatingItem:!0})}async deleteTicket(e){e.preventDefault();const t=e.target.value,n=this.state.questionsList[t];if(!n)return;const r=await JS.fire({title:"Delete Prediction?",text:"Are you sure you want to do this?  You will no longer be able to use this prediction in any new games",confirmButtonText:"Delete"});r&&r.value&&xS(yS(database,"questionsList/".concat(n.key))).then(()=>{$S.fire({title:"Deleted!"})}).catch(()=>{QS.fire({title:"There was some error!",text:"Try again, and if the problem persists, try logging out and back in."})})}toggle(){this.setState(e=>({modal:!e.modal,editingTicket:!1,selectedQuestion:{},currentAnswerList:[],currentQuestionTitle:"",duplicatingItem:!1,add_image:!1}))}removeFromAnswerArray(e){let t=[...this.state.currentAnswerList];t.splice(e,1);for(let n=0;n<t.length;n++)t[n].order=n+1;this.setState({currentAnswerList:t})}editAnswer(e,t){this.removeFromAnswerArray(t);const n=e.answerImage,r=e.answerDescription;let o=!1;n&&(o=!0),this.setState({newAnswerText:e.answerText,newAnswerImagePreview:{preview:n},newAnswerImage:null,answerDescription:r,add_image:o})}changeOrder(e,t){const n=[...this.state.currentAnswerList],r=e.order;if(1===r&&1===t||r===n.length&&-1===t)return;const o=r-t,i=n.findIndex(t=>t.id===e.id),s=n.findIndex(e=>e.order===o);-1!==i&&-1!==s&&(n[i].order=o,n[s].order=r,this.setState({currentAnswerList:n}))}render(){const{loading:e,questionsList:t,currentAnswerList:n,newAnswerImagePreview:r,modal:o,add_video:i,videoLink:s,videoLength:a,answerDescription:l}=this.state;return(0,Et.jsxs)("div",{className:"admin-wrapper",children:[(0,Et.jsx)("div",{className:"loading-screen",style:{display:e?"block":"none"}}),(0,Et.jsx)(za,{}),(0,Et.jsx)(Va,{}),(0,Et.jsx)("div",{className:"admin-main-panel",children:(0,Et.jsx)("div",{className:"card",children:(0,Et.jsxs)("div",{className:"card-body",children:[(0,Et.jsx)("p",{className:"admin-header-text",style:{marginBottom:0},children:"Predictions"}),(0,Et.jsx)("p",{className:"admin-subheader-text",children:"These are predictions fans will respond to during the game"}),(0,Et.jsx)("button",{className:"btn btn-primary btn-lg create-prize-button",style:{fontSize:20,marginLeft:20},onClick:this.toggle,children:"Add Prediction"}),(0,Et.jsx)("div",{className:"admin-grid-container four-columns",style:{marginTop:20},children:t.map((e,t)=>{const n=e.answers.sort((e,t)=>e.order-t.order);return(0,Et.jsx)("div",{className:"card",children:(0,Et.jsxs)("div",{className:"card-body",align:"center",children:[(0,Et.jsx)("p",{style:{marginTop:5},children:e.questionText}),(0,Et.jsx)("ul",{style:{textAlign:"left"},children:n.map((e,t)=>(0,Et.jsxs)("li",{style:{listStyle:"none"},children:["- ",e.answerText,e.answerImage&&(0,Et.jsx)("img",{src:e.answerImage,width:"50px",height:"50px",alt:"",style:{marginLeft:5}})]},t))}),(0,Et.jsxs)("button",{className:"btn btn-primary btn-lg edit-button",style:{marginRight:5,marginBottom:10},onClick:this.editQuestion.bind(this),value:t,children:[(0,Et.jsx)("span",{className:"fa fa-ellipsis-v"})," Edit"]}),(0,Et.jsxs)("button",{className:"btn btn-primary btn-lg delete-button",style:{marginBottom:10},onClick:this.deleteTicket.bind(this),value:t,children:[(0,Et.jsx)("span",{className:"fa fa-trash-o"})," Delete"]}),(0,Et.jsx)("div",{className:"row",children:(0,Et.jsx)("div",{className:"col-lg-12",children:(0,Et.jsxs)("button",{className:"btn btn-primary btn-lg",style:{marginRight:5,marginBottom:10},onClick:this.duplicateQuestion.bind(this),value:t,children:[(0,Et.jsx)("span",{className:"fa fa-copy"})," Duplicate"]})})})]})},t)})})]})})}),(0,Et.jsxs)(Mb,{isOpen:o,toggle:this.toggle,style:{width:"90%"},id:"myModal",children:[(0,Et.jsx)(Ub,{toggle:this.toggle,children:"Add Prediction"}),(0,Et.jsx)(Kb,{children:(0,Et.jsxs)("div",{className:"container-out",children:[(0,Et.jsxs)("div",{className:"question-box question-form",children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"rewardName",children:"Prediction"}),(0,Et.jsx)("textarea",{id:"currentQuestionTitle",name:"currentQuestionTitle",className:"form-control",value:this.state.currentQuestionTitle,onChange:this.handleChange,placeholder:"Who will score the most points in the first quarter?"})]}),(0,Et.jsxs)("div",{className:"form-group row mb-3",children:[(0,Et.jsx)("span",{className:"col-md-1",style:{paddingRight:0,paddingTop:2},children:(0,Et.jsx)("input",{id:"add_video",name:"add_video",type:"checkbox",checked:i,onChange:this.handleChange})}),(0,Et.jsxs)("label",{className:"col-md-10 col-form-label",htmlFor:"add_video",style:{padding:0,margin:0},children:["Add Video (Optional)",i&&(0,Et.jsx)("span",{children:" -- Recommended: 16:9, 1280x720, < 20MB"})]})]}),i&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"form-group row",style:{textAlign:"center",alignItems:"center",display:this.state.fileUploaded?"none":""},children:[(0,Et.jsxs)("div",{className:"col-md-6",children:[(0,Et.jsx)("label",{htmlFor:"videoLink",children:"Video Link"}),(0,Et.jsx)("input",{type:"url",id:"videoLink",name:"videoLink",className:"form-control",value:s,onChange:this.handleChange,placeholder:"https://myvideolink.com"})]}),(0,Et.jsx)("div",{className:"col-md-1",children:(0,Et.jsx)("h2",{children:(0,Et.jsx)("b",{children:"OR"})})}),(0,Et.jsxs)("div",{className:"col-md-2",children:[(0,Et.jsx)("input",{style:{display:"none"},id:"raceVideoFile",name:"raceVideoFile",type:"file",ref:e=>{this.raceVideoFile=e},onChange:this.handleVideoChange}),(0,Et.jsx)("input",{className:"btn btn-primary btn-lg choose-image-button",type:"button",value:"Choose Video (MP4)",onClick:()=>document.getElementById("raceVideoFile").click()})]})]}),(0,Et.jsxs)("div",{style:{width:300,margin:"auto",textAlign:"center",display:s?"":"none"},children:["Preview",s&&(0,Et.jsx)("span",{style:{cursor:"pointer",marginLeft:10},onClick:()=>this.setState({videoLink:null,fileUploaded:!1},()=>{const e=document.getElementById("videoLink");e&&(e.value="")}),children:"\u274c"}),i&&s&&!a&&(0,Et.jsx)("p",{style:{color:"red"},children:"Video error: couldn't play or still loading"}),(0,Et.jsx)(dG,{style:{display:s?"":"none"},url:s,onDuration:e=>this.setState({videoLength:e}),onError:()=>this.setState({videoLength:null}),muted:!0,playing:!0,controls:!0,preload:"auto",width:"100%",height:"auto"})]})]})]}),(0,Et.jsxs)("div",{className:"container",children:[(0,Et.jsx)("h4",{children:"Answer Details"}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"companyTitle",children:"Add Answer Text:"}),(0,Et.jsx)("input",{id:"answerText",name:"newAnswerText",type:"text",value:this.state.newAnswerText,onChange:this.handleChange,className:"form-control",placeholder:"The Answer To Your Prediction"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"answerDescription",children:"Add Optional Answer Description: "}),(0,Et.jsx)(BK,{field:{id:"answerDescription",name:"answerDescription",value:l},form:{setFieldValue:(e,t)=>this.setState({answerDescription:t})},placeholder:""})]}),(0,Et.jsxs)("div",{className:"form-group row mb-3",children:[(0,Et.jsx)("span",{className:"col-md-1",style:{paddingRight:0,paddingTop:2},children:(0,Et.jsx)("input",{id:"add_image",name:"add_image",type:"checkbox",checked:this.state.add_image,onChange:this.handleChange})}),(0,Et.jsx)("label",{className:"col-md-10 col-form-label",style:{padding:0,margin:0},children:"Add Answer Image (Optional):"}),this.state.add_image&&(0,Et.jsx)(oT,{onDrop:(e,t)=>this.onDrop(e,t,"newAnswerImage"),preview:r.preview})]}),(0,Et.jsx)("center",{children:(0,Et.jsxs)("button",{className:"btn btn-primary btn-lg",onClick:()=>this.answerToLocalArray(),children:[(0,Et.jsx)("span",{className:"fa fa-plus"})," ADD ANSWER"]})}),(0,Et.jsx)("ol",{children:n.sort((e,t)=>e.order-t.order).map((e,t)=>(0,Et.jsxs)("li",{style:{marginTop:10},children:["Answer: ",e.answerText,e.answerImage&&(0,Et.jsx)("img",{src:e.answerImage,width:"50px",height:"50px",alt:"",style:{marginLeft:10}}),(0,Et.jsxs)("span",{style:{marginLeft:40},children:[(0,Et.jsxs)("div",{style:{display:"inline-block",marginLeft:10},children:[(0,Et.jsx)("button",{style:{display:0===t?"none":""},onClick:()=>this.changeOrder(e,1),children:"\u2b06"}),(0,Et.jsx)("button",{style:{display:t===n.length-1?"none":""},onClick:()=>this.changeOrder(e,-1),children:"\u2b07"})]}),(0,Et.jsx)("button",{className:"btn btn-primary btn-admin",style:{marginLeft:40},onClick:()=>this.editAnswer(e,t),children:(0,Et.jsx)("span",{className:"fa fa-pencil"})}),(0,Et.jsx)("button",{className:"btn btn-danger btn-admin",style:{float:"right"},onClick:()=>this.removeFromAnswerArray(t),children:(0,Et.jsx)("span",{className:"fa fa-trash"})})]})]},t))}),(0,Et.jsx)("div",{className:"form-group text-center",children:(0,Et.jsx)("button",{disabled:i&&s&&!a,className:"btn btn-primary btn-lg submit-button",onClick:()=>this.createQuestion(),children:"Submit Prediction"})})]})]})})]})]})}}const pG=hG;var fG=n(1577),mG=n(7511);function gG(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=gG(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function vG(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=gG(e))&&(r&&(r+=" "),r+=t);return r}Math.pow(10,8);const yG=6048e5,bG=6e4,wG=36e5,xG=Symbol.for("constructDateFrom");function kG(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&xG in e?e[xG](t):e instanceof Date?new e.constructor(t):new Date(t)}function _G(e,t){return kG(t||e,e)}function CG(e,t){var n;const r=()=>kG(null===t||void 0===t?void 0:t.in,NaN),o=null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2,i=function(e){const t={},n=e.split(SG.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],SG.timeZoneDelimiter.test(t.date)&&(t.date=e.split(SG.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=SG.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let s;if(i.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?o:100*i,restDateString:e.slice((r[1]||r[2]).length)}}(i.date,o);s=function(e,t){if(null===t)return new Date(NaN);const n=e.match(EG);if(!n)return new Date(NaN);const r=!!n[4],o=DG(n[1]),i=DG(n[2])-1,s=DG(n[3]),a=DG(n[4]),l=DG(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,a,l)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const o=r.getUTCDay()||7,i=7*(t-1)+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}(t,a,l):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(OG[t]||(IG(e)?29:28))}(t,i,s)&&function(e,t){return t>=1&&t<=(IG(e)?366:365)}(t,o)?(e.setUTCFullYear(t,i,Math.max(o,s)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!s||isNaN(+s))return r();const a=+s;let l,c=0;if(i.time&&(c=function(e){const t=e.match(TG);if(!t)return NaN;const n=NG(t[1]),r=NG(t[2]),o=NG(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,o))return NaN;return n*wG+r*bG+1e3*o}(i.time),isNaN(c)))return r();if(!i.timezone){const e=new Date(a+c),n=_G(0,null===t||void 0===t?void 0:t.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return l=function(e){if("Z"===e)return 0;const t=e.match(AG);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,o))return NaN;return n*(r*wG+o*bG)}(i.timezone),isNaN(l)?r():_G(a+c+l,null===t||void 0===t?void 0:t.in)}const SG={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},EG=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,TG=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,AG=/^([+-])(\d{2})(?::?(\d{2}))?$/;function DG(e){return e?parseInt(e):1}function NG(e){return e&&parseFloat(e.replace(",","."))||0}const OG=[31,null,31,30,31,30,31,31,30,31,30,31];function IG(e){return e%400===0||e%4===0&&e%100!==0}const PG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function jG(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const MG={date:jG({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:jG({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:jG({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},RG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function FG(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[o]||e.formattingValues[t]}else{const t=e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[o]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const LG={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:FG({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:FG({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:FG({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:FG({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:FG({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function zG(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;const s=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(a,e=>e.test(s)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(a,e=>e.test(s));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(s.length)}}}const BG={ordinalNumber:(UG={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(UG.matchPattern);if(!n)return null;const r=n[0],o=e.match(UG.parsePattern);if(!o)return null;let i=UG.valueCallback?UG.valueCallback(o[0]):o[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:e.slice(r.length)}}),era:zG({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:zG({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:zG({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:zG({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:zG({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var UG;const VG={code:"en-US",formatDistance:(e,t,n)=>{let r;const o=PG[e];return r="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:MG,formatRelative:(e,t,n,r)=>RG[e],localize:LG,match:BG,options:{weekStartsOn:0,firstWeekContainsDate:1}},HG=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},qG=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},WG={p:qG,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return HG(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",HG(r,t)).replace("{{time}}",qG(o,t))}},YG=/^D+$/,KG=/^Y+$/,GG=["D","DD","YY","YYYY"];function $G(e){return YG.test(e)}function QG(e){return KG.test(e)}function JG(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),GG.includes(e))throw new RangeError(r)}let XG={};function ZG(){return XG}function e$(){return Object.assign({},ZG())}var t$=n(4705);function n$(e,t){const n=function(e){var t;return"function"===typeof e&&(null===(t=e.prototype)||void 0===t?void 0:t.constructor)===e}(t)?new t(0):kG(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}class r${constructor(){(0,t$.A)(this,"subPriority",0)}validate(e,t){return!0}}class o$ extends r${constructor(e,t,n,r,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class i$ extends r${constructor(e,t){super(),(0,t$.A)(this,"priority",10),(0,t$.A)(this,"subPriority",-1),this.context=e||(e=>kG(t,e))}set(e,t){return t.timestampIsSet?e:kG(e,n$(e,this.context))}}class s${run(e,t,n,r){const o=this.parse(e,t,n,r);return o?{setter:new o$(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}const a$=/^(1[0-2]|0?\d)/,l$=/^(3[0-1]|[0-2]?\d)/,c$=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,u$=/^(5[0-3]|[0-4]?\d)/,d$=/^(2[0-3]|[0-1]?\d)/,h$=/^(2[0-4]|[0-1]?\d)/,p$=/^(1[0-1]|0?\d)/,f$=/^(1[0-2]|0?\d)/,m$=/^[0-5]?\d/,g$=/^[0-5]?\d/,v$=/^\d/,y$=/^\d{1,2}/,b$=/^\d{1,3}/,w$=/^\d{1,4}/,x$=/^-?\d+/,k$=/^-?\d/,_$=/^-?\d{1,2}/,C$=/^-?\d{1,3}/,S$=/^-?\d{1,4}/,E$=/^([+-])(\d{2})(\d{2})?|Z/,T$=/^([+-])(\d{2})(\d{2})|Z/,A$=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,D$=/^([+-])(\d{2}):(\d{2})|Z/,N$=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function O$(e,t){return e?{value:t(e.value),rest:e.rest}:e}function I$(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function P$(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*wG+i*bG+1e3*s),rest:t.slice(n[0].length)}}function j$(e){return I$(x$,e)}function M$(e,t){switch(e){case 1:return I$(v$,t);case 2:return I$(y$,t);case 3:return I$(b$,t);case 4:return I$(w$,t);default:return I$(new RegExp("^\\d{1,"+e+"}"),t)}}function R$(e,t){switch(e){case 1:return I$(k$,t);case 2:return I$(_$,t);case 3:return I$(C$,t);case 4:return I$(S$,t);default:return I$(new RegExp("^-?\\d{1,"+e+"}"),t)}}function F$(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function L$(e,t){const n=t>0,r=n?t:1-t;let o;if(r<=50)o=e||100;else{const t=r+50;o=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?o:1-o}function z$(e){return e%400===0||e%4===0&&e%100!==0}function B$(e,t){var n,r,o,i,s,a;const l=ZG(),c=null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==o?o:l.weekStartsOn)&&void 0!==r?r:null===(a=l.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==n?n:0,u=_G(e,null===t||void 0===t?void 0:t.in),d=u.getDay(),h=(d<c?7:0)+d-c;return u.setDate(u.getDate()-h),u.setHours(0,0,0,0),u}function U$(e,t){var n,r,o,i,s,a;const l=_G(e,null===t||void 0===t?void 0:t.in),c=l.getFullYear(),u=ZG(),d=null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==o?o:u.firstWeekContainsDate)&&void 0!==r?r:null===(a=u.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==n?n:1,h=kG((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(c+1,0,d),h.setHours(0,0,0,0);const p=B$(h,t),f=kG((null===t||void 0===t?void 0:t.in)||e,0);f.setFullYear(c,0,d),f.setHours(0,0,0,0);const m=B$(f,t);return+l>=+p?c+1:+l>=+m?c:c-1}function V$(e,t){return B$(e,(0,i.A)((0,i.A)({},t),{},{weekStartsOn:1}))}function H$(e,t){var n,r,o,i,s,a;const l=ZG(),c=null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==o?o:l.firstWeekContainsDate)&&void 0!==r?r:null===(a=l.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==n?n:1,u=U$(e,t),d=kG((null===t||void 0===t?void 0:t.in)||e,0);d.setFullYear(u,0,c),d.setHours(0,0,0,0);return B$(d,t)}function q$(e,t){const n=_G(e,null===t||void 0===t?void 0:t.in),r=+B$(n,t)-+H$(n,t);return Math.round(r/yG)+1}function W$(e,t,n){const r=_G(e,null===n||void 0===n?void 0:n.in),o=q$(r,n)-t;return r.setDate(r.getDate()-7*o),_G(r,null===n||void 0===n?void 0:n.in)}function Y$(e,t){const n=_G(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),o=kG(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const i=V$(o),s=kG(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=V$(s);return n.getTime()>=i.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function K$(e,t){const n=Y$(e,t),r=kG((null===t||void 0===t?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),V$(r)}function G$(e,t){const n=_G(e,null===t||void 0===t?void 0:t.in),r=+V$(n)-+K$(n);return Math.round(r/yG)+1}function $$(e,t,n){const r=_G(e,null===n||void 0===n?void 0:n.in),o=G$(r,n)-t;return r.setDate(r.getDate()-7*o),r}const Q$=[31,28,31,30,31,30,31,31,30,31,30,31],J$=[31,29,31,30,31,30,31,31,30,31,30,31];function X$(e,t,n){const r=_G(e,null===n||void 0===n?void 0:n.in);return isNaN(t)?kG((null===n||void 0===n?void 0:n.in)||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function Z$(e,t,n){var r,o,i,s,a,l;const c=ZG(),u=null!==(r=null!==(o=null!==(i=null!==(s=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==s?s:null===n||void 0===n||null===(a=n.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:c.weekStartsOn)&&void 0!==o?o:null===(l=c.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:0,d=_G(e,null===n||void 0===n?void 0:n.in),h=d.getDay(),p=7-u;return X$(d,t<0||t>6?t-(h+p)%7:((t%7+7)%7+p)%7-(h+p)%7,n)}function eQ(e,t){const n=_G(e,null===t||void 0===t?void 0:t.in).getDay();return 0===n?7:n}function tQ(e,t,n){const r=_G(e,null===n||void 0===n?void 0:n.in);return X$(r,t-eQ(r,n),n)}function nQ(e){const t=_G(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}const rQ={G:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",140),(0,t$.A)(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},y:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",130),(0,t$.A)(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return O$(M$(4,e),r);case"yo":return O$(n.ordinalNumber(e,{unit:"year"}),r);default:return O$(M$(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=L$(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const o="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}},Y:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",130),(0,t$.A)(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return O$(M$(4,e),r);case"Yo":return O$(n.ordinalNumber(e,{unit:"year"}),r);default:return O$(M$(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const o=U$(e,r);if(n.isTwoDigitYear){const t=L$(n.year,o);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),B$(e,r)}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),B$(e,r)}},R:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",130),(0,t$.A)(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return R$("R"===t?4:t.length,e)}set(e,t,n){const r=kG(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),V$(r)}},u:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",130),(0,t$.A)(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return R$("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},Q:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",120),(0,t$.A)(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"Q":case"QQ":return M$(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}},q:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",120),(0,t$.A)(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"q":case"qq":return M$(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}},M:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),(0,t$.A)(this,"priority",110)}parse(e,t,n){const r=e=>e-1;switch(t){case"M":return O$(I$(a$,e),r);case"MM":return O$(M$(2,e),r);case"Mo":return O$(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",110),(0,t$.A)(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,n){const r=e=>e-1;switch(t){case"L":return O$(I$(a$,e),r);case"LL":return O$(M$(2,e),r);case"Lo":return O$(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},w:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",100),(0,t$.A)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,n){switch(t){case"w":return I$(u$,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return M$(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return B$(W$(e,n,r),r)}},I:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",100),(0,t$.A)(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,n){switch(t){case"I":return I$(u$,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return M$(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return V$($$(e,n))}},d:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",90),(0,t$.A)(this,"subPriority",1),(0,t$.A)(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"d":return I$(l$,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return M$(t.length,e)}}validate(e,t){const n=z$(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=J$[r]:t>=1&&t<=Q$[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}},D:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",90),(0,t$.A)(this,"subpriority",1),(0,t$.A)(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,n){switch(t){case"D":case"DD":return I$(c$,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return M$(t.length,e)}}validate(e,t){return z$(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}},E:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",90),(0,t$.A)(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Z$(e,n,r)).setHours(0,0,0,0),e}},e:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",90),(0,t$.A)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,n,r){const o=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return O$(M$(t.length,e),o);case"eo":return O$(n.ordinalNumber(e,{unit:"day"}),o);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Z$(e,n,r)).setHours(0,0,0,0),e}},c:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",90),(0,t$.A)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,n,r){const o=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return O$(M$(t.length,e),o);case"co":return O$(n.ordinalNumber(e,{unit:"day"}),o);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Z$(e,n,r)).setHours(0,0,0,0),e}},i:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",90),(0,t$.A)(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return M$(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return O$(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return O$(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return O$(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return O$(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=tQ(e,n)).setHours(0,0,0,0),e}},a:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",80),(0,t$.A)(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(F$(n),0,0,0),e}},b:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",80),(0,t$.A)(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(F$(n),0,0,0),e}},B:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",80),(0,t$.A)(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(F$(n),0,0,0),e}},h:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",70),(0,t$.A)(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,n){switch(t){case"h":return I$(f$,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return M$(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}},H:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",70),(0,t$.A)(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,n){switch(t){case"H":return I$(d$,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return M$(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}},K:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",70),(0,t$.A)(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,n){switch(t){case"K":return I$(p$,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return M$(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}},k:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",70),(0,t$.A)(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,n){switch(t){case"k":return I$(h$,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return M$(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}},m:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",60),(0,t$.A)(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"m":return I$(m$,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return M$(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}},s:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",50),(0,t$.A)(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"s":return I$(g$,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return M$(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}},S:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",30),(0,t$.A)(this,"incompatibleTokens",["t","T"])}parse(e,t){return O$(M$(t.length,e),e=>Math.trunc(e*Math.pow(10,3-t.length)))}set(e,t,n){return e.setMilliseconds(n),e}},X:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",10),(0,t$.A)(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return P$(E$,e);case"XX":return P$(T$,e);case"XXXX":return P$(A$,e);case"XXXXX":return P$(N$,e);default:return P$(D$,e)}}set(e,t,n){return t.timestampIsSet?e:kG(e,e.getTime()-nQ(e)-n)}},x:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",10),(0,t$.A)(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return P$(E$,e);case"xx":return P$(T$,e);case"xxxx":return P$(A$,e);case"xxxxx":return P$(N$,e);default:return P$(D$,e)}}set(e,t,n){return t.timestampIsSet?e:kG(e,e.getTime()-nQ(e)-n)}},t:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",40),(0,t$.A)(this,"incompatibleTokens","*")}parse(e){return j$(e)}set(e,t,n){return[kG(e,1e3*n),{timestampIsSet:!0}]}},T:new class extends s${constructor(){super(...arguments),(0,t$.A)(this,"priority",20),(0,t$.A)(this,"incompatibleTokens","*")}parse(e){return j$(e)}set(e,t,n){return[kG(e,n),{timestampIsSet:!0}]}}},oQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sQ=/^'([^]*?)'?$/,aQ=/''/g,lQ=/\S/,cQ=/[a-zA-Z]/;function uQ(e,t,n,r){var o,i,s,a,l,c,u,d,h,p,f,m,g,v;const y=()=>kG((null===r||void 0===r?void 0:r.in)||n,NaN),b=e$(),w=null!==(o=null!==(i=null===r||void 0===r?void 0:r.locale)&&void 0!==i?i:b.locale)&&void 0!==o?o:VG,x=null!==(s=null!==(a=null!==(l=null!==(c=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==c?c:null===r||void 0===r||null===(u=r.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==l?l:b.firstWeekContainsDate)&&void 0!==a?a:null===(d=b.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==s?s:1,k=null!==(h=null!==(p=null!==(f=null!==(m=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==m?m:null===r||void 0===r||null===(g=r.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==f?f:b.weekStartsOn)&&void 0!==p?p:null===(v=b.locale)||void 0===v||null===(v=v.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==h?h:0;if(!t)return e?y():_G(n,null===r||void 0===r?void 0:r.in);const _={firstWeekContainsDate:x,weekStartsOn:k,locale:w},C=[new i$(null===r||void 0===r?void 0:r.in,n)],S=t.match(iQ).map(e=>{const t=e[0];if(t in WG){return(0,WG[t])(e,w.formatLong)}return e}).join("").match(oQ),E=[];for(let N of S){null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!QG(N)||JG(N,t,e),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!$G(N)||JG(N,t,e);const n=N[0],o=rQ[n];if(o){const{incompatibleTokens:t}=o;if(Array.isArray(t)){const e=E.find(e=>t.includes(e.token)||e.token===n);if(e)throw new RangeError("The format string mustn't contain `".concat(e.fullToken,"` and `").concat(N,"` at the same time"))}else if("*"===o.incompatibleTokens&&E.length>0)throw new RangeError("The format string mustn't contain `".concat(N,"` and any other token at the same time"));E.push({token:n,fullToken:N});const r=o.run(e,N,w.match,_);if(!r)return y();C.push(r.setter),e=r.rest}else{if(n.match(cQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===N?N="'":"'"===n&&(N=dQ(N)),0!==e.indexOf(N))return y();e=e.slice(N.length)}}if(e.length>0&&lQ.test(e))return y();const T=C.map(e=>e.priority).sort((e,t)=>t-e).filter((e,t,n)=>n.indexOf(e)===t).map(e=>C.filter(t=>t.priority===e).sort((e,t)=>t.subPriority-e.subPriority)).map(e=>e[0]);let A=_G(n,null===r||void 0===r?void 0:r.in);if(isNaN(+A))return y();const D={};for(const N of T){if(!N.validate(A,_))return y();const e=N.set(A,D,_);Array.isArray(e)?(A=e[0],Object.assign(D,e[1])):A=e}return A}function dQ(e){return e.match(sQ)[1].replace(aQ,"'")}function hQ(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function pQ(e){return!(!hQ(e)&&"number"!==typeof e||isNaN(+_G(e)))}function fQ(e,t){return+_G(e)<+_G(t)}function mQ(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=kG.bind(null,e||n.find(e=>"object"===typeof e));return n.map(o)}function gQ(e,t){const n=_G(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function vQ(e,t,n){const[r,o]=mQ(null===n||void 0===n?void 0:n.in,e,t),i=gQ(r),s=gQ(o),a=+i-nQ(i),l=+s-nQ(s);return Math.round((a-l)/864e5)}function yQ(e,t){const n=_G(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function bQ(e,t){const n=_G(e,null===t||void 0===t?void 0:t.in);return vQ(n,yQ(n))+1}function wQ(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const xQ={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return wQ("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):wQ(n+1,2)},d:(e,t)=>wQ(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>wQ(e.getHours()%12||12,t.length),H:(e,t)=>wQ(e.getHours(),t.length),m:(e,t)=>wQ(e.getMinutes(),t.length),s:(e,t)=>wQ(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return wQ(Math.trunc(r*Math.pow(10,n-3)),t.length)}},kQ="midnight",_Q="noon",CQ="morning",SQ="afternoon",EQ="evening",TQ="night",AQ={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return xQ.y(e,t)},Y:function(e,t,n,r){const o=U$(e,r),i=o>0?o:1-o;if("YY"===t){return wQ(i%100,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):wQ(i,t.length)},R:function(e,t){return wQ(Y$(e),t.length)},u:function(e,t){return wQ(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return wQ(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return wQ(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return xQ.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return wQ(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=q$(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):wQ(o,t.length)},I:function(e,t,n){const r=G$(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):wQ(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):xQ.d(e,t)},D:function(e,t,n){const r=bQ(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):wQ(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return wQ(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return wQ(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return wQ(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(o=12===r?_Q:0===r?kQ:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(o=r>=17?EQ:r>=12?SQ:r>=4?CQ:TQ,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return xQ.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):xQ.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):wQ(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):wQ(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):xQ.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):xQ.s(e,t)},S:function(e,t){return xQ.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return NQ(r);case"XXXX":case"XX":return OQ(r);default:return OQ(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return NQ(r);case"xxxx":case"xx":return OQ(r);default:return OQ(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+DQ(r,":");default:return"GMT"+OQ(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+DQ(r,":");default:return"GMT"+OQ(r,":")}},t:function(e,t,n){return wQ(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return wQ(+e,t.length)}};function DQ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),i=r%60;return 0===i?n+String(o):n+String(o)+t+wQ(i,2)}function NQ(e,t){if(e%60===0){return(e>0?"-":"+")+wQ(Math.abs(e)/60,2)}return OQ(e,t)}function OQ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+wQ(Math.trunc(r/60),2)+t+wQ(r%60,2)}const IQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jQ=/^'([^]*?)'?$/,MQ=/''/g,RQ=/[a-zA-Z]/;function FQ(e,t,n){var r,o,i,s,a,l,c,u,d,h,p,f,m,g;const v=ZG(),y=null!==(r=null!==(o=null===n||void 0===n?void 0:n.locale)&&void 0!==o?o:v.locale)&&void 0!==r?r:VG,b=null!==(i=null!==(s=null!==(a=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:v.firstWeekContainsDate)&&void 0!==s?s:null===(u=v.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==i?i:1,w=null!==(d=null!==(h=null!==(p=null!==(f=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==f?f:null===n||void 0===n||null===(m=n.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==p?p:v.weekStartsOn)&&void 0!==h?h:null===(g=v.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==d?d:0,x=_G(e,null===n||void 0===n?void 0:n.in);if(!pQ(x))throw new RangeError("Invalid time value");let k=t.match(PQ).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,WG[t])(e,y.formatLong)}return e}).join("").match(IQ).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:LQ(e)};if(AQ[t])return{isToken:!0,value:e};if(t.match(RQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});y.localize.preprocessor&&(k=y.localize.preprocessor(x,k));const _={firstWeekContainsDate:b,weekStartsOn:w,locale:y};return k.map(r=>{if(!r.isToken)return r.value;const o=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!QG(o))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!$G(o))||JG(o,t,String(e));return(0,AQ[o[0]])(x,o,y.localize,_)}).join("")}function LQ(e){const t=e.match(jQ);return t?t[1].replace(MQ,"'"):e}function zQ(e,t,n){const r=_G(e,null===n||void 0===n?void 0:n.in);return r.setHours(t),r}function BQ(e,t,n){const r=_G(e,null===n||void 0===n?void 0:n.in);return r.setMinutes(t),r}function UQ(e,t,n){const r=_G(e,null===n||void 0===n?void 0:n.in);return r.setSeconds(t),r}function VQ(e,t){const n=_G(e,null===t||void 0===t?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function HQ(e,t){const n=_G(e,null===t||void 0===t?void 0:t.in),r=n.getMonth(),o=r-r%3;return n.setMonth(o,1),n.setHours(0,0,0,0),n}function qQ(e,t){const n=_G(e,null===t||void 0===t?void 0:t.in);return n.setHours(23,59,59,999),n}function WQ(e,t){var n,r,o,i,s,a;const l=ZG(),c=null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==o?o:l.weekStartsOn)&&void 0!==r?r:null===(a=l.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==n?n:0,u=_G(e,null===t||void 0===t?void 0:t.in),d=u.getDay(),h=6+(d<c?-7:0)-(d-c);return u.setDate(u.getDate()+h),u.setHours(23,59,59,999),u}function YQ(e,t){const n=_G(e,null===t||void 0===t?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function KQ(e,t,n){const[r,o]=mQ(null===n||void 0===n?void 0:n.in,e,t);return r.getFullYear()===o.getFullYear()}function GQ(e,t,n){const[r,o]=mQ(null===n||void 0===n?void 0:n.in,e,t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function $Q(e,t,n){const[r,o]=mQ(null===n||void 0===n?void 0:n.in,e,t);return+HQ(r)===+HQ(o)}function QQ(e,t,n){const[r,o]=mQ(null===n||void 0===n?void 0:n.in,e,t);return+gQ(r)===+gQ(o)}function JQ(e,t){return+_G(e)===+_G(t)}function XQ(e,t,n){const r=+_G(e,null===n||void 0===n?void 0:n.in),[o,i]=[+_G(t.start,null===n||void 0===n?void 0:n.in),+_G(t.end,null===n||void 0===n?void 0:n.in)].sort((e,t)=>e-t);return r>=o&&r<=i}function ZQ(e,t){const n=_G(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),o=n.getMonth(),i=kG(n,0);return i.setFullYear(r,o+1,0),i.setHours(0,0,0,0),i.getDate()}function eJ(e,t,n){const r=_G(e,null===n||void 0===n?void 0:n.in),o=r.getFullYear(),i=r.getDate(),s=kG((null===n||void 0===n?void 0:n.in)||e,0);s.setFullYear(o,t,15),s.setHours(0,0,0,0);const a=ZQ(s);return r.setMonth(t,Math.min(i,a)),r}function tJ(e,t,n){const r=_G(e,null===n||void 0===n?void 0:n.in),o=t-(Math.trunc(r.getMonth()/3)+1);return eJ(r,r.getMonth()+3*o)}function nJ(e,t){return _G(e,null===t||void 0===t?void 0:t.in).getFullYear()}function rJ(e,t){return _G(e,null===t||void 0===t?void 0:t.in).getMonth()}function oJ(e,t){const n=_G(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function iJ(e,t){const n=_G(e,null===t||void 0===t?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function sJ(e,t){return _G(e,null===t||void 0===t?void 0:t.in).getHours()}function aJ(e,t){return _G(e,null===t||void 0===t?void 0:t.in).getMinutes()}function lJ(e){return _G(e).getSeconds()}function cJ(e,t,n){const r=_G(e,null===n||void 0===n?void 0:n.in);if(isNaN(t))return kG((null===n||void 0===n?void 0:n.in)||e,NaN);if(!t)return r;const o=r.getDate(),i=kG((null===n||void 0===n?void 0:n.in)||e,r.getTime());i.setMonth(r.getMonth()+t+1,0);return o>=i.getDate()?i:(r.setFullYear(i.getFullYear(),i.getMonth(),o),r)}function uJ(e,t,n){return cJ(e,-t,n)}function dJ(e,t,n){const[r,o]=mQ(null===n||void 0===n?void 0:n.in,e,t);return 12*(r.getFullYear()-o.getFullYear())+(r.getMonth()-o.getMonth())}function hJ(e,t,n){return cJ(e,3*t,n)}function pJ(e,t,n){return hJ(e,-t,n)}function fJ(e,t,n){const[r,o]=mQ(null===n||void 0===n?void 0:n.in,e,t);return 4*(r.getFullYear()-o.getFullYear())+(iJ(r)-iJ(o))}function mJ(e,t,n){return cJ(e,12*t,n)}function gJ(e,t,n){return mJ(e,-t,n)}function vJ(e,t,n){const[r,o]=mQ(null===n||void 0===n?void 0:n.in,e,t);return r.getFullYear()-o.getFullYear()}function yJ(e,t){let n,r=null===t||void 0===t?void 0:t.in;return e.forEach(e=>{r||"object"!==typeof e||(r=kG.bind(null,e));const t=_G(e,r);(!n||n>t||isNaN(+t))&&(n=t)}),kG(r,n||NaN)}function bJ(e,t){let n,r=null===t||void 0===t?void 0:t.in;return e.forEach(e=>{r||"object"!==typeof e||(r=kG.bind(null,e));const t=_G(e,r);(!n||n<t||isNaN(+t))&&(n=t)}),kG(r,n||NaN)}function wJ(e,t,n){return kG((null===n||void 0===n?void 0:n.in)||e,+_G(e)+t)}function xJ(e,t,n){return wJ(e,t*wG,n)}function kJ(e,t,n){const r=_G(e,null===n||void 0===n?void 0:n.in);return r.setTime(r.getTime()+t*bG),r}function _J(e,t,n){return wJ(e,1e3*t,n)}function CJ(e,t){return+_G(e)>+_G(t)}function SJ(e,t){return _G(e,null===t||void 0===t?void 0:t.in).getDay()}function EJ(e,t){return _G(e,null===t||void 0===t?void 0:t.in).getDate()}function TJ(e,t,n){return X$(e,7*t,n)}function AJ(e){return+_G(e)}function DJ(e,t,n){const r=_G(e,null===n||void 0===n?void 0:n.in);return isNaN(+r)?kG((null===n||void 0===n?void 0:n.in)||e,NaN):(r.setFullYear(t),r)}function NJ(e,t,n){const[r,o]=mQ(null===n||void 0===n?void 0:n.in,e,t),i=OJ(r,o),s=Math.abs(vQ(r,o));r.setDate(r.getDate()-i*s);const a=i*(s-Number(OJ(r,o)===-i));return 0===a?0:a}function OJ(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function IJ(e,t,n){return TJ(e,-t,n)}function PJ(e,t,n){return X$(e,-t,n)}var jJ="undefined"!==typeof document?e.useLayoutEffect:function(){};const MJ=(0,i.A)({},t).useInsertionEffect||(e=>e());function RJ(){return"undefined"!==typeof window}function FJ(e){return BJ(e)?(e.nodeName||"").toLowerCase():"#document"}function LJ(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function zJ(e){var t;return null==(t=(BJ(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function BJ(e){return!!RJ()&&(e instanceof Node||e instanceof LJ(e).Node)}function UJ(e){return!!RJ()&&(e instanceof Element||e instanceof LJ(e).Element)}function VJ(e){return!!RJ()&&(e instanceof HTMLElement||e instanceof LJ(e).HTMLElement)}function HJ(e){return!(!RJ()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof LJ(e).ShadowRoot)}const qJ=new Set(["inline","contents"]);function WJ(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=rX(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!qJ.has(o)}const YJ=new Set(["table","td","th"]);function KJ(e){return YJ.has(FJ(e))}const GJ=[":popover-open",":modal"];function $J(e){return GJ.some(t=>{try{return e.matches(t)}catch(Tc){return!1}})}const QJ=["transform","translate","scale","rotate","perspective"],JJ=["transform","translate","scale","rotate","perspective","filter"],XJ=["paint","layout","strict","content"];function ZJ(e){const t=eX(),n=UJ(e)?rX(e):e;return QJ.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||JJ.some(e=>(n.willChange||"").includes(e))||XJ.some(e=>(n.contain||"").includes(e))}function eX(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const tX=new Set(["html","body","#document"]);function nX(e){return tX.has(FJ(e))}function rX(e){return LJ(e).getComputedStyle(e)}function oX(e){return UJ(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function iX(e){if("html"===FJ(e))return e;const t=e.assignedSlot||e.parentNode||HJ(e)&&e.host||zJ(e);return HJ(t)?t.host:t}function sX(e){const t=iX(e);return nX(t)?e.ownerDocument?e.ownerDocument.body:e.body:VJ(t)&&WJ(t)?t:sX(t)}function aX(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=sX(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),s=LJ(o);if(i){const e=lX(s);return t.concat(s,s.visualViewport||[],WJ(o)?o:[],e&&n?aX(e):[])}return t.concat(o,aX(o,[],n))}function lX(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const cX=Math.min,uX=Math.max,dX=Math.round,hX=Math.floor,pX=e=>({x:e,y:e}),fX={left:"right",right:"left",bottom:"top",top:"bottom"},mX={start:"end",end:"start"};function gX(e,t){return"function"===typeof e?e(t):e}function vX(e){return e.split("-")[0]}function yX(e){return e.split("-")[1]}function bX(e){return"y"===e?"height":"width"}const wX=new Set(["top","bottom"]);function xX(e){return wX.has(vX(e))?"y":"x"}function kX(e){return"x"===xX(e)?"y":"x"}function _X(e){return e.replace(/start|end/g,e=>mX[e])}const CX=["left","right"],SX=["right","left"],EX=["top","bottom"],TX=["bottom","top"];function AX(e,t,n,r){const o=yX(e);let i=function(e,t,n){switch(e){case"top":case"bottom":return n?t?SX:CX:t?CX:SX;case"left":case"right":return t?EX:TX;default:return[]}}(vX(e),"start"===n,r);return o&&(i=i.map(e=>e+"-"+o),t&&(i=i.concat(i.map(_X)))),i}function DX(e){return e.replace(/left|right|bottom|top/g,e=>fX[e])}function NX(e){return"number"!==typeof e?function(e){return(0,i.A)({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function OX(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}const IX=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"];function PX(e,t,n){let{reference:r,floating:o}=e;const i=xX(t),s=kX(t),a=bX(s),l=vX(t),c="y"===i,u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-o.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-o.width,y:d};break;default:p={x:r.x,y:r.y}}switch(yX(t)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1)}return p}async function jX(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=gX(t,e),f=NX(p),m=a[h?"floating"===d?"reference":"floating":d],g=OX(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(a.floating)),b=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},w=OX(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-w.top+f.top)/b.y,bottom:(w.bottom-g.bottom+f.bottom)/b.y,left:(g.left-w.left+f.left)/b.x,right:(w.right-g.right+f.right)/b.x}}const MX=new Set(["left","top"]);function RX(e){const t=rX(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=VJ(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=dX(n)!==i||dX(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function FX(e){return UJ(e)?e:e.contextElement}function LX(e){const t=FX(e);if(!VJ(t))return pX(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=RX(t);let s=(i?dX(n.width):n.width)/r,a=(i?dX(n.height):n.height)/o;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const zX=pX(0);function BX(e){const t=LJ(e);return eX()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:zX}function UX(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=FX(e);let s=pX(1);t&&(r?UJ(r)&&(s=LX(r)):s=LX(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==LJ(e))&&t}(i,n,r)?BX(i):pX(0);let l=(o.left+a.x)/s.x,c=(o.top+a.y)/s.y,u=o.width/s.x,d=o.height/s.y;if(i){const e=LJ(i),t=r&&UJ(r)?LJ(r):r;let n=e,o=lX(n);for(;o&&r&&t!==n;){const e=LX(o),t=o.getBoundingClientRect(),r=rX(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=i,c+=s,n=LJ(o),o=lX(n)}}return OX({width:u,height:d,x:l,y:c})}function VX(e,t){const n=oX(e).scrollLeft;return t?t.left+n:UX(zJ(e)).left+n}function HX(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-VX(e,n),y:n.top+t.scrollTop}}const qX=new Set(["absolute","fixed"]);function WX(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=LJ(e),r=zJ(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const e=eX();(!e||e&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}const c=VX(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),o="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,s=Math.abs(r.clientWidth-t.clientWidth-o);s<=25&&(i-=s)}else c<=25&&(i+=c);return{width:i,height:s,x:a,y:l}}(e,n);else if("document"===t)r=function(e){const t=zJ(e),n=oX(e),r=e.ownerDocument.body,o=uX(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=uX(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+VX(e);const a=-n.scrollTop;return"rtl"===rX(r).direction&&(s+=uX(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}(zJ(e));else if(UJ(t))r=function(e,t){const n=UX(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=VJ(e)?LX(e):pX(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{const n=BX(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return OX(r)}function YX(e,t){const n=iX(e);return!(n===t||!UJ(n)||nX(n))&&("fixed"===rX(n).position||YX(n,t))}function KX(e,t,n){const r=VJ(t),o=zJ(t),i="fixed"===n,s=UX(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const l=pX(0);function c(){l.x=VX(o)}if(r||!r&&!i)if(("body"!==FJ(t)||WJ(o))&&(a=oX(t)),r){const e=UX(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&c();i&&!r&&o&&c();const u=!o||r||i?pX(0):HX(o,a);return{x:s.left+a.scrollLeft-l.x-u.x,y:s.top+a.scrollTop-l.y-u.y,width:s.width,height:s.height}}function GX(e){return"static"===rX(e).position}function $X(e,t){if(!VJ(e)||"fixed"===rX(e).position)return null;if(t)return t(e);let n=e.offsetParent;return zJ(e)===n&&(n=n.ownerDocument.body),n}function QX(e,t){const n=LJ(e);if($J(e))return n;if(!VJ(e)){let t=iX(e);for(;t&&!nX(t);){if(UJ(t)&&!GX(t))return t;t=iX(t)}return n}let r=$X(e,t);for(;r&&KJ(r)&&GX(r);)r=$X(r,t);return r&&nX(r)&&GX(r)&&!ZJ(r)?n:r||function(e){let t=iX(e);for(;VJ(t)&&!nX(t);){if(ZJ(t))return t;if($J(t))return null;t=iX(t)}return null}(e)||n}const JX={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i="fixed"===o,s=zJ(r),a=!!t&&$J(t.floating);if(r===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=pX(1);const u=pX(0),d=VJ(r);if((d||!d&&!i)&&(("body"!==FJ(r)||WJ(s))&&(l=oX(r)),VJ(r))){const e=UX(r);c=LX(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!s||d||i?pX(0):HX(s,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:zJ,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i="clippingAncestors"===n?$J(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=aX(e,[],!1).filter(e=>UJ(e)&&"body"!==FJ(e)),o=null;const i="fixed"===rX(e).position;let s=i?iX(e):e;for(;UJ(s)&&!nX(s);){const t=rX(s),n=ZJ(s);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&qX.has(o.position)||WJ(s)&&!n&&YX(e,s))?r=r.filter(e=>e!==s):o=t,s=iX(s)}return t.set(e,r),r}(t,this._c):[].concat(n),s=[...i,r],a=s[0],l=s.reduce((e,n)=>{const r=WX(t,n,o);return e.top=uX(r.top,e.top),e.right=cX(r.right,e.right),e.bottom=cX(r.bottom,e.bottom),e.left=uX(r.left,e.left),e},WX(t,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:QX,getElementRects:async function(e){const t=this.getOffsetParent||QX,n=this.getDimensions,r=await n(e.floating);return{reference:KX(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=RX(e);return{width:t,height:n}},getScale:LX,isElement:UJ,isRTL:function(e){return"rtl"===rX(e).direction}};function XX(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ZX(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:l="function"===typeof IntersectionObserver,animationFrame:c=!1}=r,u=FX(e),d=o||s?[...u?aX(u):[],...aX(t)]:[];d.forEach(e=>{o&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)});const h=u&&l?function(e,t){let n,r=null;const o=zJ(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(l,c){void 0===l&&(l=!1),void 0===c&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=u;if(l||t(),!p||!f)return;const m={rootMargin:-hX(h)+"px "+-hX(o.clientWidth-(d+p))+"px "+-hX(o.clientHeight-(h+f))+"px "+-hX(d)+"px",threshold:uX(0,cX(1,c))||1};let g=!0;function v(t){const r=t[0].intersectionRatio;if(r!==c){if(!g)return a();r?a(!1,r):n=setTimeout(()=>{a(!1,1e-7)},1e3)}1!==r||XX(u,e.getBoundingClientRect())||a(),g=!1}try{r=new IntersectionObserver(v,(0,i.A)((0,i.A)({},m),{},{root:o.ownerDocument}))}catch(Tc){r=new IntersectionObserver(v,m)}r.observe(e)}(!0),s}(u,n):null;let p,f=-1,m=null;a&&(m=new ResizeObserver(e=>{let[r]=e;r&&r.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;null==(e=m)||e.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let g=c?UX(e):null;return c&&function t(){const r=UX(e);g&&!XX(g,r)&&n();g=r,p=requestAnimationFrame(t)}(),n(),()=>{var e;d.forEach(e=>{o&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)}),null==h||h(),null==(e=m)||e.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const eZ=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:a,middlewareData:l}=t,c=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),s=vX(n),a=yX(n),l="y"===xX(n),c=MX.has(s)?-1:1,u=i&&l?-1:1,d=gX(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"===typeof f&&(p="end"===a?-1*f:f),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}(t,e);return a===(null==(n=l.offset)?void 0:n.placement)&&null!=(r=l.arrow)&&r.alignmentOffset?{}:{x:o+c.x,y:s+c.y,data:(0,i.A)((0,i.A)({},c),{},{placement:a})}}}},tZ=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=t,d=gX(e,t),{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0}=d,y=(0,o.A)(d,IX);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const b=vX(i),w=xX(l),x=vX(l)===l,k=await(null==c.isRTL?void 0:c.isRTL(u.floating)),_=f||(x||!v?[DX(l)]:function(e){const t=DX(e);return[_X(e),t,_X(t)]}(l)),C="none"!==g;!f&&C&&_.push(...AX(l,v,g,k));const S=[l,..._],E=await jX(t,y),T=[];let A=(null==(r=s.flip)?void 0:r.overflows)||[];if(h&&T.push(E[b]),p){const e=function(e,t,n){void 0===n&&(n=!1);const r=yX(e),o=kX(e),i=bX(o);let s="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=DX(s)),[s,DX(s)]}(i,a,k);T.push(E[e[0]],E[e[1]])}if(A=[...A,{placement:i,overflows:T}],!T.every(e=>e<=0)){var D,N;const e=((null==(D=s.flip)?void 0:D.index)||0)+1,t=S[e];if(t){if(!("alignment"===p&&w!==xX(t))||A.every(e=>xX(e.placement)!==w||e.overflows[0]>0))return{data:{index:e,overflows:A},reset:{placement:t}}}let n=null==(N=A.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:N.placement;if(!n)switch(m){case"bestFit":{var O;const e=null==(O=A.filter(e=>{if(C){const t=xX(e.placement);return t===w||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:O[0];e&&(n=e);break}case"initialPlacement":n=l}if(i!==n)return{reset:{placement:n}}}return{}}}},nZ=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=gX(e,t)||{};if(null==u)return{};const h=NX(d),p={x:n,y:r},f=kX(o),m=bX(f),g=await a.getDimensions(u),v="y"===f,y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",x=s.reference[m]+s.reference[f]-p[f]-s.floating[m],k=p[f]-s.reference[f],_=await(null==a.getOffsetParent?void 0:a.getOffsetParent(u));let C=_?_[w]:0;C&&await(null==a.isElement?void 0:a.isElement(_))||(C=l.floating[w]||s.floating[m]);const S=x/2-k/2,E=C/2-g[m]/2-1,T=cX(h[y],E),A=cX(h[b],E),D=T,N=C-g[m]-A,O=C/2-g[m]/2+S,I=uX(D,cX(O,N));const P=!c.arrow&&null!=yX(o)&&O!==I&&s.reference[m]/2-(O<D?T:A)-g[m]/2<0,j=P?O<D?O-D:O-N:0;return{[f]:p[f]+j,data:(0,i.A)({[f]:I,centerOffset:O-I-j},P&&{alignmentOffset:j}),reset:P}}}),rZ=(e,t,n)=>{const r=new Map,o=(0,i.A)({platform:JX},n),s=(0,i.A)((0,i.A)({},o.platform),{},{_c:r});return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(null==a.isRTL?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:h}=PX(u,r,c),p=r,f={},m=0;for(let g=0;g<l.length;g++){const{name:n,fn:s}=l[g],{x:v,y:y,data:b,reset:w}=await s({x:d,y:h,initialPlacement:r,placement:p,strategy:o,middlewareData:f,rects:u,platform:a,elements:{reference:e,floating:t}});d=null!=v?v:d,h=null!=y?y:h,f=(0,i.A)((0,i.A)({},f),{},{[n]:(0,i.A)((0,i.A)({},f[n]),b)}),w&&m<=50&&(m++,"object"===typeof w&&(w.placement&&(p=w.placement),w.rects&&(u=!0===w.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):w.rects),({x:d,y:h}=PX(u,p,c))),g=-1)}return{x:d,y:h,placement:p,strategy:o,middlewareData:f}})(e,t,(0,i.A)((0,i.A)({},o),{},{platform:s}))};var oZ="undefined"!==typeof document?e.useLayoutEffect:function(){};function iZ(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!iZ(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!==r--;){const n=o[r];if(("_owner"!==n||!e.$$typeof)&&!iZ(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function sZ(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function aZ(e,t){const n=sZ(e);return Math.round(t*n)/n}function lZ(t){const n=e.useRef(t);return oZ(()=>{n.current=t}),n}const cZ=(e,t)=>(0,i.A)((0,i.A)({},eZ(e)),{},{options:[e,t]}),uZ=(e,t)=>(0,i.A)((0,i.A)({},tZ(e)),{},{options:[e,t]}),dZ=(e,t)=>(0,i.A)((0,i.A)({},(e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(o=n,{}.hasOwnProperty.call(o,"current"))?null!=n.current?nZ({element:n.current,padding:r}).fn(t):{}:n?nZ({element:n,padding:r}).fn(t):{};var o}}))(e)),{},{options:[e,t]}),hZ=["transform"],pZ=["context","width","height","tipRadius","strokeWidth","staticOffset","stroke","d","style"];const fZ="ArrowLeft",mZ="ArrowRight",gZ="ArrowUp",vZ="ArrowDown";const yZ=[fZ,mZ],bZ=[gZ,vZ],wZ=(0,i.A)({},t);let xZ=!1,kZ=0;const _Z=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+kZ++;const CZ=wZ.useId||function(){const[t,n]=e.useState(()=>xZ?_Z():void 0);return jJ(()=>{null==t&&n(_Z())},[]),e.useEffect(()=>{xZ=!0},[]),t};const SZ=e.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:s},middlewareData:{arrow:a,shift:l}},width:c=14,height:u=7,tipRadius:d=0,strokeWidth:h=0,staticOffset:p,stroke:f,d:m,style:{transform:g}={}}=t,v=(0,o.A)(t.style,hZ),y=(0,o.A)(t,pZ);const b=CZ(),[w,x]=e.useState(!1);if(jJ(()=>{if(!s)return;"rtl"===rX(s).direction&&x(!0)},[s]),!s)return null;const[k,_]=r.split("-"),C="top"===k||"bottom"===k;let S=p;(C&&null!=l&&l.x||!C&&null!=l&&l.y)&&(S=null);const E=2*h,T=E/2,A=c/2*(d/-8+1),D=u/2*d/4,N=!!m,O=S&&"end"===_?"bottom":"top";let I=S&&"end"===_?"right":"left";S&&w&&(I="end"===_?"left":"right");const P=null!=(null==a?void 0:a.x)?S||a.x:"",j=null!=(null==a?void 0:a.y)?S||a.y:"",M=m||"M0,0 H"+c+" L"+(c-A)+","+(u-D)+" Q"+c/2+","+u+" "+A+","+(u-D)+" Z",R={top:N?"rotate(180deg)":"",left:N?"rotate(90deg)":"rotate(-90deg)",bottom:N?"":"rotate(180deg)",right:N?"rotate(-90deg)":"rotate(90deg)"}[k];return(0,Et.jsxs)("svg",(0,i.A)((0,i.A)({},y),{},{"aria-hidden":!0,ref:n,width:N?c:c+E,height:c,viewBox:"0 0 "+c+" "+(u>c?u:c),style:(0,i.A)({position:"absolute",pointerEvents:"none",[I]:P,[O]:j,[k]:C||N?"100%":"calc(100% - "+E/2+"px)",transform:[R,g].filter(e=>!!e).join(" ")},v),children:[E>0&&(0,Et.jsx)("path",{clipPath:"url(#"+b+")",fill:"none",stroke:f,strokeWidth:E+(m?0:1),d:M}),(0,Et.jsx)("path",{stroke:E&&!m?y.fill:"none",d:M}),(0,Et.jsx)("clipPath",{id:b,children:(0,Et.jsx)("rect",{x:-T,y:T*(N?-1:1),width:c+E,height:c})})]}))});function EZ(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}}const TZ=e.createContext(null),AZ=e.createContext(null),DZ=()=>{var t;return(null==(t=e.useContext(TZ))?void 0:t.id)||null},NZ=()=>e.useContext(AZ);function OZ(t){const{open:n=!1,onOpenChange:r,elements:o}=t,i=CZ(),s=e.useRef({}),[a]=e.useState(()=>EZ()),l=null!=DZ();const[c,u]=e.useState(o.reference),d=function(t){const n=e.useRef(()=>{});return MJ(()=>{n.current=t}),e.useCallback(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)},[])}((e,t,n)=>{s.current.openEvent=e?t:void 0,a.emit("openchange",{open:e,event:t,reason:n,nested:l}),null==r||r(e,t,n)}),h=e.useMemo(()=>({setPositionReference:u}),[]),p=e.useMemo(()=>({reference:c||o.reference||null,floating:o.floating||null,domReference:o.reference}),[c,o.reference,o.floating]);return e.useMemo(()=>({dataRef:s,open:n,onOpenChange:d,elements:p,events:a,floatingId:i,refs:h}),[n,d,p,a,i,h])}function IZ(t){void 0===t&&(t={});const{nodeId:n}=t,r=OZ((0,i.A)((0,i.A)({},t),{},{elements:(0,i.A)({reference:null,floating:null},t.elements)})),o=t.rootContext||r,s=o.elements,[a,l]=e.useState(null),[c,u]=e.useState(null),d=(null==s?void 0:s.domReference)||a,h=e.useRef(null),p=NZ();jJ(()=>{d&&(h.current=d)},[d]);const f=function(t){void 0===t&&(t={});const{placement:n="bottom",strategy:r="absolute",middleware:o=[],platform:s,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:u,open:d}=t,[h,p]=e.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[f,m]=e.useState(o);iZ(f,o)||m(o);const[g,v]=e.useState(null),[y,b]=e.useState(null),w=e.useCallback(e=>{e!==C.current&&(C.current=e,v(e))},[]),x=e.useCallback(e=>{e!==S.current&&(S.current=e,b(e))},[]),k=a||g,_=l||y,C=e.useRef(null),S=e.useRef(null),E=e.useRef(h),T=null!=u,A=lZ(u),D=lZ(s),N=lZ(d),O=e.useCallback(()=>{if(!C.current||!S.current)return;const e={placement:n,strategy:r,middleware:f};D.current&&(e.platform=D.current),rZ(C.current,S.current,e).then(e=>{const t=(0,i.A)((0,i.A)({},e),{},{isPositioned:!1!==N.current});I.current&&!iZ(E.current,t)&&(E.current=t,xy.flushSync(()=>{p(t)}))})},[f,n,r,D,N]);oZ(()=>{!1===d&&E.current.isPositioned&&(E.current.isPositioned=!1,p(e=>(0,i.A)((0,i.A)({},e),{},{isPositioned:!1})))},[d]);const I=e.useRef(!1);oZ(()=>(I.current=!0,()=>{I.current=!1}),[]),oZ(()=>{if(k&&(C.current=k),_&&(S.current=_),k&&_){if(A.current)return A.current(k,_,O);O()}},[k,_,O,A,T]);const P=e.useMemo(()=>({reference:C,floating:S,setReference:w,setFloating:x}),[w,x]),j=e.useMemo(()=>({reference:k,floating:_}),[k,_]),M=e.useMemo(()=>{const e={position:r,left:0,top:0};if(!j.floating)return e;const t=aZ(j.floating,h.x),n=aZ(j.floating,h.y);return c?(0,i.A)((0,i.A)({},e),{},{transform:"translate("+t+"px, "+n+"px)"},sZ(j.floating)>=1.5&&{willChange:"transform"}):{position:r,left:t,top:n}},[r,c,j.floating,h.x,h.y]);return e.useMemo(()=>(0,i.A)((0,i.A)({},h),{},{update:O,refs:P,elements:j,floatingStyles:M}),[h,O,P,j,M])}((0,i.A)((0,i.A)({},t),{},{elements:(0,i.A)((0,i.A)({},s),c&&{reference:c})})),m=e.useCallback(e=>{const t=UJ(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;u(t),f.refs.setReference(t)},[f.refs]),g=e.useCallback(e=>{(UJ(e)||null===e)&&(h.current=e,l(e)),(UJ(f.refs.reference.current)||null===f.refs.reference.current||null!==e&&!UJ(e))&&f.refs.setReference(e)},[f.refs]),v=e.useMemo(()=>(0,i.A)((0,i.A)({},f.refs),{},{setReference:g,setPositionReference:m,domReference:h}),[f.refs,g,m]),y=e.useMemo(()=>(0,i.A)((0,i.A)({},f.elements),{},{domReference:d}),[f.elements,d]),b=e.useMemo(()=>(0,i.A)((0,i.A)((0,i.A)({},f),o),{},{refs:v,elements:y,nodeId:n}),[f,v,y,n,o]);return jJ(()=>{o.dataRef.current.floatingContext=b;const e=null==p?void 0:p.nodesRef.current.find(e=>e.id===n);e&&(e.context=b)}),e.useMemo(()=>(0,i.A)((0,i.A)({},f),{},{context:b,refs:v,elements:y}),[f,v,y,b])}var PZ=function(e,t){return PZ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},PZ(e,t)};function jZ(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}PZ(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var MZ=function(){return MZ=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},MZ.apply(this,arguments)};function RZ(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}"function"===typeof SuppressedError&&SuppressedError;var FZ,LZ=function(t){var n=t.showTimeSelectOnly,r=void 0!==n&&n,o=t.showTime,i=void 0!==o&&o,s=t.className,a=t.children,l=r?"Choose Time":"Choose Date".concat(i?" and Time":"");return e.createElement("div",{className:s,role:"dialog","aria-label":l,"aria-modal":"true"},a)},zZ=function(t){var n=t.children,r=t.onClickOutside,o=t.className,i=t.containerRef,s=t.style,a=function(t,n){var r=(0,e.useRef)(null),o=(0,e.useRef)(t);o.current=t;var i=(0,e.useCallback)(function(e){var t,i=e.composed&&e.composedPath&&e.composedPath().find(function(e){return e instanceof Node})||e.target;r.current&&!r.current.contains(i)&&(n&&i instanceof HTMLElement&&i.classList.contains(n)||null===(t=o.current)||void 0===t||t.call(o,e))},[n]);return(0,e.useEffect)(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),r}(r,t.ignoreClass);return e.createElement("div",{className:o,style:s,ref:function(e){a.current=e,i&&(i.current=e)}},n)};function BZ(){return"undefined"!==typeof window?window:globalThis}!function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"}(FZ||(FZ={}));function UZ(e){if(null==e)return new Date;var t="string"===typeof e?CG(e):_G(e);return HZ(t)?t:new Date}function VZ(e,t,n,r,o){void 0===o&&(o=UZ());for(var i=l0(n)||l0(a0()),s=0,a=Array.isArray(t)?t:[t];s<a.length;s++){var l=a[s],c=uQ(e,l,o,{locale:i,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(HZ(c)&&(!r||e===qZ(c,l,n)))return c}return null}function HZ(e,t){return pQ(e)&&!fQ(e,new Date("1/1/1800"))}function qZ(e,t,n){if("en"===n)return FQ(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?l0(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),FQ(e,t,{locale:r=r||l0(a0()),useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function WZ(e,t){var n=t.dateFormat,r=t.locale,o=Array.isArray(n)&&n.length>0?n[0]:n;return e&&qZ(e,o,r)||""}function YZ(e,t){var n=t.hour,r=void 0===n?0:n,o=t.minute,i=void 0===o?0:o,s=t.second;return zQ(BQ(UQ(e,void 0===s?0:s),i),r)}function KZ(e){return gQ(e)}function GZ(e,t,n){return B$(e,{locale:l0(t||a0()),weekStartsOn:n})}function $Z(e){return VQ(e)}function QZ(e){return yQ(e)}function JZ(e){return HQ(e)}function XZ(){return gQ(UZ())}function ZZ(e){return qQ(e)}function e0(e){return YQ(e)}function t0(e,t){return e&&t?KQ(e,t):!e&&!t}function n0(e,t){return e&&t?GQ(e,t):!e&&!t}function r0(e,t){return e&&t?$Q(e,t):!e&&!t}function o0(e,t){return e&&t?QQ(e,t):!e&&!t}function i0(e,t){return e&&t?JQ(e,t):!e&&!t}function s0(e,t,n){var r,o=gQ(t),i=qQ(n);try{r=XQ(e,{start:o,end:i})}catch(s){r=!1}return r}function a0(){return BZ().__localeId__}function l0(e){if("string"===typeof e){var t=BZ();return t.__localeData__?t.__localeData__[e]:void 0}return e}function c0(e,t){return qZ(eJ(UZ(),e),"LLLL",t)}function u0(e,t){return qZ(eJ(UZ(),e),"LLL",t)}function d0(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.maxDate,i=n.excludeDates,s=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,c=n.filterDate;return!!n.disabled||(w0(e,{minDate:r,maxDate:o})||i&&i.some(function(t){return t instanceof Date?o0(e,t):o0(e,t.date)})||s&&s.some(function(t){var n=t.start,r=t.end;return XQ(e,{start:n,end:r})})||a&&!a.some(function(t){return o0(e,t)})||l&&!l.some(function(t){var n=t.start,r=t.end;return XQ(e,{start:n,end:r})})||c&&!c(UZ(e))||!1)}function h0(e,t){var n=void 0===t?{}:t,r=n.excludeDates,o=n.excludeDateIntervals;return o&&o.length>0?o.some(function(t){var n=t.start,r=t.end;return XQ(e,{start:n,end:r})}):r&&r.some(function(t){var n;return t instanceof Date?o0(e,t):o0(e,null!==(n=t.date)&&void 0!==n?n:new Date)})||!1}function p0(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.maxDate,i=n.excludeDates,s=n.includeDates,a=n.filterDate;return w0(e,{minDate:r?VQ(r):void 0,maxDate:o?YQ(o):void 0})||(null===i||void 0===i?void 0:i.some(function(t){return n0(e,t instanceof Date?t:t.date)}))||s&&!s.some(function(t){return n0(e,t)})||a&&!a(UZ(e))||!1}function f0(e,t,n,r){var o=nJ(e),i=rJ(e),s=nJ(t),a=rJ(t),l=nJ(r);return o===s&&o===l?i<=n&&n<=a:o<s&&(l===o&&i<=n||l===s&&a>=n||l<s&&l>o)}function m0(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.maxDate,i=n.excludeDates,s=n.includeDates;return w0(e,{minDate:r,maxDate:o})||i&&i.some(function(t){return n0(t instanceof Date?t:t.date,e)})||s&&!s.some(function(t){return n0(t,e)})||!1}function g0(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.maxDate,i=n.excludeDates,s=n.includeDates,a=n.filterDate;return!!n.disabled||(w0(e,{minDate:r,maxDate:o})||(null===i||void 0===i?void 0:i.some(function(t){return r0(e,t instanceof Date?t:t.date)}))||s&&!s.some(function(t){return r0(e,t)})||a&&!a(UZ(e))||!1)}function v0(e,t,n){if(!t||!n)return!1;if(!pQ(t)||!pQ(n))return!1;var r=nJ(t),o=nJ(n);return r<=e&&o>=e}function y0(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.maxDate,i=n.excludeDates,s=n.includeDates,a=n.filterDate;if(n.disabled)return!0;var l=new Date(e,0,1);return w0(l,{minDate:r?yQ(r):void 0,maxDate:o?oJ(o):void 0})||(null===i||void 0===i?void 0:i.some(function(e){return t0(l,e instanceof Date?e:e.date)}))||s&&!s.some(function(e){return t0(l,e)})||a&&!a(UZ(l))||!1}function b0(e,t,n,r){var o=nJ(e),i=iJ(e),s=nJ(t),a=iJ(t),l=nJ(r);return o===s&&o===l?i<=n&&n<=a:o<s&&(l===o&&i<=n||l===s&&a>=n||l<s&&l>o)}function w0(e,t){var n,r=void 0===t?{}:t,o=r.minDate,i=r.maxDate;return null!==(n=o&&vQ(e,o)<0||i&&vQ(e,i)>0)&&void 0!==n&&n}function x0(e,t){return t.some(function(t){return sJ(t)===sJ(e)&&aJ(t)===aJ(e)&&lJ(t)===lJ(e)})}function k0(e,t){var n=void 0===t?{}:t,r=n.excludeTimes,o=n.includeTimes,i=n.filterTime;return r&&x0(e,r)||o&&!x0(e,o)||i&&!i(e)||!1}function _0(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var o=UZ();o=UQ(o=BQ(o=zQ(o,sJ(e)),aJ(e)),lJ(e));var i=UZ();i=UQ(i=BQ(i=zQ(i,sJ(n)),aJ(n)),lJ(n));var s,a=UZ();a=UQ(a=BQ(a=zQ(a,sJ(r)),aJ(r)),lJ(r));try{s=!XQ(o,{start:i,end:a})}catch(l){s=!1}return s}function C0(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.includeDates,i=uJ(e,1);return r&&dJ(r,i)>0||o&&o.every(function(e){return dJ(e,i)>0})||!1}function S0(e,t){var n=void 0===t?{}:t,r=n.maxDate,o=n.includeDates,i=cJ(e,1);return r&&dJ(i,r)>0||o&&o.every(function(e){return dJ(i,e)>0})||!1}function E0(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.includeDates,i=gJ(e,1);return r&&vJ(r,i)>0||o&&o.every(function(e){return vJ(e,i)>0})||!1}function T0(e,t){var n=void 0===t?{}:t,r=n.maxDate,o=n.includeDates,i=mJ(e,1);return r&&vJ(i,r)>0||o&&o.every(function(e){return vJ(i,e)>0})||!1}function A0(e){var t=e.minDate,n=e.includeDates;return n&&t?yJ(n.filter(function(e){return vQ(e,t)>=0})):n?yJ(n):t}function D0(e){var t=e.maxDate,n=e.includeDates;return n&&t?bJ(n.filter(function(e){return vQ(e,t)<=0})):n?bJ(n):t}function N0(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--highlighted");for(var r=new Map,o=0,i=e.length;o<i;o++){var s=e[o];if(hQ(s)){var a=qZ(s,"MM.dd.yyyy");(p=r.get(a)||[]).includes(t)||(p.push(t),r.set(a,p))}else if("object"===typeof s){var l=null!==(n=Object.keys(s)[0])&&void 0!==n?n:"",c=s[l];if("string"===typeof l&&Array.isArray(c))for(var u=0,d=c.length;u<d;u++){var h=c[u];if(h){var p;a=qZ(h,"MM.dd.yyyy");(p=r.get(a)||[]).includes(l)||(p.push(l),r.set(a,p))}}}}return r}function O0(e,t){void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(e){var r=e.date,o=e.holidayName;if(hQ(r)){var i=qZ(r,"MM.dd.yyyy"),s=n.get(i)||{className:"",holidayNames:[]};if(!("className"in s)||s.className!==t||(a=s.holidayNames,l=[o],a.length!==l.length||!a.every(function(e,t){return e===l[t]}))){var a,l;s.className=t;var c=s.holidayNames;s.holidayNames=c?RZ(RZ([],c,!0),[o],!1):[o],n.set(i,s)}}}),n}function I0(e,t,n,r,o){for(var i=o.length,s=[],a=0;a<i;a++){var l=e,c=o[a];c&&(l=_J(l=kJ(l=xJ(l,sJ(c)),aJ(c)),lJ(c)));var u=kJ(e,(n+1)*r);CJ(l,t)&&fQ(l,u)&&void 0!=c&&s.push(c)}return s}function P0(e){return e<10?"0".concat(e):"".concat(e)}function j0(e,t){void 0===t&&(t=12);var n=Math.ceil(nJ(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function M0(e){var t=e.getSeconds(),n=e.getMilliseconds();return _G(e.getTime()-1e3*t-n)}function R0(e){if(!hQ(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function F0(e,t){if(!hQ(e)||!hQ(t))throw new Error("Invalid date received");return fQ(R0(e),R0(t))}function L0(e){return e.key===FZ.Space}var z0,B0=function(t){function n(n){var r=t.call(this,n)||this;return r.inputRef=e.createRef(),r.onTimeChange=function(e){var t,n;r.setState({time:e});var o=r.props.date,i=o instanceof Date&&!isNaN(+o)?o:new Date;if(null===e||void 0===e?void 0:e.includes(":")){var s=e.split(":"),a=s[0],l=s[1];i.setHours(Number(a)),i.setMinutes(Number(l))}null===(n=(t=r.props).onChange)||void 0===n||n.call(t,i)},r.renderTimeInput=function(){var t=r.state.time,n=r.props,o=n.date,i=n.timeString,s=n.customTimeInput;return s?(0,e.cloneElement)(s,{date:o,value:t,onChange:r.onTimeChange}):e.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var e;null===(e=r.inputRef.current)||void 0===e||e.focus()},required:!0,value:t,onChange:function(e){r.onTimeChange(e.target.value||i)}})},r.state={time:r.props.timeString},r}return jZ(n,t),n.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},n.prototype.render=function(){return e.createElement("div",{className:"react-datepicker__input-time-container"},e.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),e.createElement("div",{className:"react-datepicker-time__input-container"},e.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},n}(e.Component),U0=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.dayEl=(0,e.createRef)(),n.handleClick=function(e){!n.isDisabled()&&n.props.onClick&&n.props.onClick(e)},n.handleMouseEnter=function(e){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(e)},n.handleOnKeyDown=function(e){var t,r;e.key===FZ.Space&&(e.preventDefault(),e.key=FZ.Enter),null===(r=(t=n.props).handleOnKeyDown)||void 0===r||r.call(t,e)},n.isSameDay=function(e){return o0(n.props.day,e)},n.isKeyboardSelected=function(){var e;if(n.props.disabledKeyboardNavigation)return!1;var t=n.props.selectsMultiple?null===(e=n.props.selectedDates)||void 0===e?void 0:e.some(function(e){return n.isSameDayOrWeek(e)}):n.isSameDayOrWeek(n.props.selected),r=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!t&&n.isSameDayOrWeek(n.props.preSelection)&&!r},n.isDisabled=function(e){return void 0===e&&(e=n.props.day),d0(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(){return h0(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return o0(n.props.day,GZ(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(e){return n.props.showWeekPicker&&o0(e,GZ(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(e){return n.isSameDay(e)||n.isSameWeek(e)},n.getHighLightedClass=function(){var e=n.props,t=e.day,r=e.highlightDates;if(!r)return!1;var o=qZ(t,"MM.dd.yyyy");return r.get(o)},n.getHolidaysClass=function(){var e,t=n.props,r=t.day,o=t.holidays;if(!o)return[void 0];var i=qZ(r,"MM.dd.yyyy");return o.has(i)?[null===(e=o.get(i))||void 0===e?void 0:e.className]:[void 0]},n.isInRange=function(){var e=n.props,t=e.day,r=e.startDate,o=e.endDate;return!(!r||!o)&&s0(t,r,o)},n.isInSelectingRange=function(){var e,t=n.props,r=t.day,o=t.selectsStart,i=t.selectsEnd,s=t.selectsRange,a=t.selectsDisabledDaysInRange,l=t.startDate,c=t.swapRange,u=t.endDate,d=null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection;if(!(o||i||s)||!d||!a&&n.isDisabled())return!1;if(o&&u&&(fQ(d,u)||i0(d,u)))return s0(r,d,u);if(i&&l&&(CJ(d,l)||i0(d,l)))return s0(r,l,d);if(s&&l&&!u){if(i0(d,l))return s0(r,l,d);if(CJ(d,l))return s0(r,l,d);if(c&&fQ(d,l))return s0(r,d,l)}return!1},n.isSelectingRangeStart=function(){var e;if(!n.isInSelectingRange())return!1;var t=n.props,r=t.day,o=t.startDate,i=t.selectsStart,s=t.swapRange,a=t.selectsRange,l=null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection;return o0(r,i||a&&s&&o&&l&&fQ(l,o)?l:o)},n.isSelectingRangeEnd=function(){var e;if(!n.isInSelectingRange())return!1;var t=n.props,r=t.day,o=t.endDate,i=t.selectsEnd,s=t.selectsRange,a=t.swapRange,l=t.startDate,c=null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection;return o0(r,i?c:s&&a&&l&&c?fQ(c,l)?l:c:s?c:o)},n.isRangeStart=function(){var e=n.props,t=e.day,r=e.startDate,o=e.endDate;return!(!r||!o)&&o0(r,t)},n.isRangeEnd=function(){var e=n.props,t=e.day,r=e.startDate,o=e.endDate;return!(!r||!o)&&o0(o,t)},n.isWeekend=function(){var e=SJ(n.props.day);return 0===e||6===e},n.isAfterMonth=function(){return void 0!==n.props.month&&(n.props.month+1)%12===rJ(n.props.day)},n.isBeforeMonth=function(){return void 0!==n.props.month&&(rJ(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(UZ())},n.isSelected=function(){var e;return n.props.selectsMultiple?null===(e=n.props.selectedDates)||void 0===e?void 0:e.some(function(e){return n.isSameDayOrWeek(e)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(e){var t;return vG("react-datepicker__day",n.props.dayClassName?n.props.dayClassName(e):void 0,"react-datepicker__day--"+qZ(n.props.day,"ddd",t),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var e=n.props,t=e.day,r=e.ariaLabelPrefixWhenEnabled,o=void 0===r?"Choose":r,i=e.ariaLabelPrefixWhenDisabled,s=void 0===i?"Not available":i,a=n.isDisabled()||n.isExcluded()?s:o;return"".concat(a," ").concat(qZ(t,"PPPP",n.props.locale))},n.getTitle=function(){var e=n.props,t=e.day,r=e.holidays,o=void 0===r?new Map:r,i=e.excludeDates,s=qZ(t,"MM.dd.yyyy"),a=[];return o.has(s)&&a.push.apply(a,o.get(s).holidayNames),n.isExcluded()&&a.push(null===i||void 0===i?void 0:i.filter(function(e){return e instanceof Date?o0(e,t):o0(null===e||void 0===e?void 0:e.date,t)}).map(function(e){if(!(e instanceof Date))return null===e||void 0===e?void 0:e.message})),a.join(", ")},n.getTabIndex=function(){var e=n.props.selected,t=n.props.preSelection;return(!n.props.showWeekPicker||!n.props.showWeekNumber&&n.isStartOfWeek())&&(n.isKeyboardSelected()||n.isSameDay(e)&&o0(t,e))?0:-1},n.handleFocusDay=function(){var e;n.shouldFocusDay()&&(null===(e=n.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(EJ(n.props.day),n.props.day):EJ(n.props.day)},n.render=function(){return e.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"gridcell",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),""!==n.getTitle()&&e.createElement("span",{className:"overlay"},n.getTitle()))},n}return jZ(n,t),n.prototype.componentDidMount=function(){this.handleFocusDay()},n.prototype.componentDidUpdate=function(){this.handleFocusDay()},n.prototype.shouldFocusDay=function(){var e=!1;return 0===this.getTabIndex()&&this.isSameDay(this.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},n.prototype.isDayActiveElement=function(){var e,t,n;return(null===(t=null===(e=this.props.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains(document.activeElement))&&(null===(n=document.activeElement)||void 0===n?void 0:n.classList.contains("react-datepicker__day"))},n.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},n}(e.Component),V0=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.weekNumberEl=(0,e.createRef)(),n.handleClick=function(e){n.props.onClick&&n.props.onClick(e)},n.handleOnKeyDown=function(e){var t,r;e.key===FZ.Space&&(e.preventDefault(),e.key=FZ.Enter),null===(r=(t=n.props).handleOnKeyDown)||void 0===r||r.call(t,e)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!o0(n.props.date,n.props.selected)&&o0(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||o0(n.props.date,n.props.selected)&&o0(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(e){var t=!1;0===n.getTabIndex()&&!(null===e||void 0===e?void 0:e.isInputFocused)&&o0(n.props.date,n.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(t=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(t=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(t=!0)),t&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return jZ(n,t),Object.defineProperty(n,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},n.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},n.prototype.render=function(){var t=this.props,r=t.weekNumber,o=t.isWeekDisabled,i=t.ariaLabelPrefix,s=void 0===i?n.defaultProps.ariaLabelPrefix:i,a=t.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!o,"react-datepicker__week-number--selected":!!a&&o0(this.props.date,this.props.selected)};return e.createElement("div",{ref:this.weekNumberEl,className:vG(l),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},n}(e.Component),H0=function(t){function n(){var r=null!==t&&t.apply(this,arguments)||this;return r.isDisabled=function(e){return d0(e,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)},r.handleDayMouseEnter=function(e){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleWeekClick=function(e,t,o){for(var i,s,a,l=new Date(e),c=0;c<7;c++){var u=new Date(e);if(u.setDate(u.getDate()+c),!r.isDisabled(u)){l=u;break}}"function"===typeof r.props.onWeekSelect&&r.props.onWeekSelect(l,t,o),r.props.showWeekPicker&&r.handleDayClick(l,o),(null!==(i=r.props.shouldCloseOnSelect)&&void 0!==i?i:n.defaultProps.shouldCloseOnSelect)&&(null===(a=(s=r.props).setOpen)||void 0===a||a.call(s,!1))},r.formatWeekNumber=function(e){return r.props.formatWeekNumber?r.props.formatWeekNumber(e):function(e){return G$(e)}(e)},r.isWeekDisabled=function(){for(var e=r.startOfWeek(),t=X$(e,6),n=new Date(e);n<=t;){if(!r.isDisabled(n))return!1;n=X$(n,1)}return!0},r.renderDays=function(){var t=r.startOfWeek(),o=[],i=r.formatWeekNumber(t);if(r.props.showWeekNumber){var s=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,t,i):void 0;o.push(e.createElement(V0,MZ({key:"W"},n.defaultProps,r.props,{weekNumber:i,isWeekDisabled:r.isWeekDisabled(),date:t,onClick:s})))}return o.concat([0,1,2,3,4,5,6].map(function(o){var i=X$(t,o);return e.createElement(U0,MZ({},n.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:i.valueOf(),day:i,onClick:r.handleDayClick.bind(r,i),onMouseEnter:r.handleDayMouseEnter.bind(r,i)}))}))},r.startOfWeek=function(){return GZ(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!o0(r.startOfWeek(),r.props.selected)&&o0(r.startOfWeek(),r.props.preSelection)},r}return jZ(n,t),Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":o0(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return e.createElement("div",{className:vG(t,n),role:"row"},this.renderDays())},n}(e.Component),q0="two_columns",W0="three_columns",Y0="four_columns",K0=((z0={})[q0]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},z0[W0]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},z0[Y0]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},z0);function G0(e,t){return e?Y0:t?q0:W0}var $0=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.MONTH_REFS=RZ([],Array(12),!0).map(function(){return(0,e.createRef)()}),n.QUARTER_REFS=RZ([],Array(4),!0).map(function(){return(0,e.createRef)()}),n.isDisabled=function(e){return d0(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate,disabled:n.props.disabled})},n.isExcluded=function(e){return h0(e,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(e,t){var r,o;null===(o=(r=n.props).onDayClick)||void 0===o||o.call(r,e,t,n.props.orderInDisplay)},n.handleDayMouseEnter=function(e){var t,r;null===(r=(t=n.props).onDayMouseEnter)||void 0===r||r.call(t,e)},n.handleMouseLeave=function(){var e,t;null===(t=(e=n.props).onMouseLeave)||void 0===t||t.call(e)},n.isRangeStartMonth=function(e){var t=n.props,r=t.day,o=t.startDate,i=t.endDate;return!(!o||!i)&&n0(eJ(r,e),o)},n.isRangeStartQuarter=function(e){var t=n.props,r=t.day,o=t.startDate,i=t.endDate;return!(!o||!i)&&r0(tJ(r,e),o)},n.isRangeEndMonth=function(e){var t=n.props,r=t.day,o=t.startDate,i=t.endDate;return!(!o||!i)&&n0(eJ(r,e),i)},n.isRangeEndQuarter=function(e){var t=n.props,r=t.day,o=t.startDate,i=t.endDate;return!(!o||!i)&&r0(tJ(r,e),i)},n.isInSelectingRangeMonth=function(e){var t,r=n.props,o=r.day,i=r.selectsStart,s=r.selectsEnd,a=r.selectsRange,l=r.startDate,c=r.endDate,u=null!==(t=n.props.selectingDate)&&void 0!==t?t:n.props.preSelection;return!(!(i||s||a)||!u)&&(i&&c?f0(u,c,e,o):(s&&l||!(!a||!l||c))&&f0(l,u,e,o))},n.isSelectingMonthRangeStart=function(e){var t;if(!n.isInSelectingRangeMonth(e))return!1;var r=n.props,o=r.day,i=r.startDate,s=r.selectsStart,a=eJ(o,e),l=null!==(t=n.props.selectingDate)&&void 0!==t?t:n.props.preSelection;return n0(a,s?l:i)},n.isSelectingMonthRangeEnd=function(e){var t;if(!n.isInSelectingRangeMonth(e))return!1;var r=n.props,o=r.day,i=r.endDate,s=r.selectsEnd,a=r.selectsRange,l=eJ(o,e),c=null!==(t=n.props.selectingDate)&&void 0!==t?t:n.props.preSelection;return n0(l,s||a?c:i)},n.isInSelectingRangeQuarter=function(e){var t,r=n.props,o=r.day,i=r.selectsStart,s=r.selectsEnd,a=r.selectsRange,l=r.startDate,c=r.endDate,u=null!==(t=n.props.selectingDate)&&void 0!==t?t:n.props.preSelection;return!(!(i||s||a)||!u)&&(i&&c?b0(u,c,e,o):(s&&l||!(!a||!l||c))&&b0(l,u,e,o))},n.isWeekInMonth=function(e){var t=n.props.day,r=X$(e,6);return n0(e,t)||n0(r,t)},n.isCurrentMonth=function(e,t){return nJ(e)===nJ(UZ())&&t===rJ(UZ())},n.isCurrentQuarter=function(e,t){return nJ(e)===nJ(UZ())&&t===iJ(UZ())},n.isSelectedMonth=function(e,t,n){return rJ(n)===t&&nJ(e)===nJ(n)},n.isSelectMonthInList=function(e,t,r){return r.some(function(r){return n.isSelectedMonth(e,t,r)})},n.isSelectedQuarter=function(e,t,n){return iJ(e)===t&&nJ(e)===nJ(n)},n.isMonthSelected=function(){var e=n.props,t=e.day,r=e.selected,o=e.selectedDates,i=e.selectsMultiple,s=rJ(t);return i?null===o||void 0===o?void 0:o.some(function(e){return n.isSelectedMonth(t,s,e)}):!!r&&n.isSelectedMonth(t,s,r)},n.renderWeeks=function(){for(var t=[],r=n.props.fixedHeight,o=0,i=!1,s=GZ($Z(n.props.day),n.props.locale,n.props.calendarStartDay),a=n.props.selected?function(e){return n.props.showWeekPicker?GZ(e,n.props.locale,n.props.calendarStartDay):n.props.selected}(n.props.selected):void 0,l=n.props.preSelection?function(e){return n.props.showWeekPicker?GZ(e,n.props.locale,n.props.calendarStartDay):n.props.preSelection}(n.props.preSelection):void 0;t.push(e.createElement(H0,MZ({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:o,day:s,month:rJ(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:a,preSelection:l,showWeekNumber:n.props.showWeekNumbers}))),!i;){o++,s=TJ(s,1);var c=r&&o>=6,u=!r&&!n.isWeekInMonth(s);if(c||u){if(!n.props.peekNextMonth)break;i=!0}}return t},n.onMonthClick=function(e,t){var r=n.isMonthDisabledForLabelDate(t),o=r.isDisabled,i=r.labelDate;o||n.handleDayClick($Z(i),e)},n.onMonthMouseEnter=function(e){var t=n.isMonthDisabledForLabelDate(e),r=t.isDisabled,o=t.labelDate;r||n.handleDayMouseEnter($Z(o))},n.handleMonthNavigation=function(e,t){var r,o,i,s;null===(o=(r=n.props).setPreSelection)||void 0===o||o.call(r,t),null===(s=null===(i=n.MONTH_REFS[e])||void 0===i?void 0:i.current)||void 0===s||s.focus()},n.handleKeyboardNavigation=function(e,t,r){var o,i=n.props,s=i.selected,a=i.preSelection,l=i.setPreSelection,c=i.minDate,u=i.maxDate,d=i.showFourColumnMonthYearPicker,h=i.showTwoColumnMonthYearPicker;if(a){var p=G0(d,h),f=n.getVerticalOffset(p),m=null===(o=K0[p])||void 0===o?void 0:o.grid,g=function(e,t,n){var r,o,i=t,s=n;switch(e){case FZ.ArrowRight:i=cJ(t,1),s=11===n?0:n+1;break;case FZ.ArrowLeft:i=uJ(t,1),s=0===n?11:n-1;break;case FZ.ArrowUp:i=uJ(t,f),s=(null===(r=null===m||void 0===m?void 0:m[0])||void 0===r?void 0:r.includes(n))?n+12-f:n-f;break;case FZ.ArrowDown:i=cJ(t,f),s=(null===(o=null===m||void 0===m?void 0:m[m.length-1])||void 0===o?void 0:o.includes(n))?n-12+f:n+f}return{newCalculatedDate:i,newCalculatedMonth:s}};if(t!==FZ.Enter){var v=function(e,t,r){for(var o=e,i=!1,s=0,a=g(o,t,r),l=a.newCalculatedDate,d=a.newCalculatedMonth;!i;){if(s>=40){l=t,d=r;break}var h;if(c&&l<c)o=FZ.ArrowRight,l=(h=g(o,l,d)).newCalculatedDate,d=h.newCalculatedMonth;if(u&&l>u)o=FZ.ArrowLeft,l=(h=g(o,l,d)).newCalculatedDate,d=h.newCalculatedMonth;if(m0(l,n.props))l=(h=g(o,l,d)).newCalculatedDate,d=h.newCalculatedMonth;else i=!0;s++}return{newCalculatedDate:l,newCalculatedMonth:d}}(t,a,r),y=v.newCalculatedDate,b=v.newCalculatedMonth;switch(t){case FZ.ArrowRight:case FZ.ArrowLeft:case FZ.ArrowUp:case FZ.ArrowDown:n.handleMonthNavigation(b,y)}}else n.isMonthDisabled(r)||(n.onMonthClick(e,r),null===l||void 0===l||l(s))}},n.getVerticalOffset=function(e){var t,n;return null!==(n=null===(t=K0[e])||void 0===t?void 0:t.verticalNavigationOffset)&&void 0!==n?n:0},n.onMonthKeyDown=function(e,t){var r=n.props,o=r.disabledKeyboardNavigation,i=r.handleOnMonthKeyDown,s=e.key;s!==FZ.Tab&&e.preventDefault(),o||n.handleKeyboardNavigation(e,s,t),i&&i(e)},n.onQuarterClick=function(e,t){var r=tJ(n.props.day,t);g0(r,n.props)||n.handleDayClick(JZ(r),e)},n.onQuarterMouseEnter=function(e){var t=tJ(n.props.day,e);g0(t,n.props)||n.handleDayMouseEnter(JZ(t))},n.handleQuarterNavigation=function(e,t){var r,o,i,s;n.isDisabled(t)||n.isExcluded(t)||(null===(o=(r=n.props).setPreSelection)||void 0===o||o.call(r,t),null===(s=null===(i=n.QUARTER_REFS[e-1])||void 0===i?void 0:i.current)||void 0===s||s.focus())},n.onQuarterKeyDown=function(e,t){var r,o,i=e.key;if(!n.props.disabledKeyboardNavigation)switch(i){case FZ.Enter:n.onQuarterClick(e,t),null===(o=(r=n.props).setPreSelection)||void 0===o||o.call(r,n.props.selected);break;case FZ.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(4===t?1:t+1,hJ(n.props.preSelection,1));break;case FZ.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(1===t?4:t-1,pJ(n.props.preSelection,1))}},n.isMonthDisabledForLabelDate=function(e){var t,r=n.props,o=r.day,i=r.disabled,s=r.minDate,a=r.maxDate,l=r.excludeDates,c=r.includeDates,u=eJ(o,e);return i?{isDisabled:!0,labelDate:eJ(o,e)}:{isDisabled:null!==(t=(s||a||l||c)&&p0(u,n.props))&&void 0!==t&&t,labelDate:u}},n.isMonthDisabled=function(e){return n.isMonthDisabledForLabelDate(e).isDisabled},n.getMonthClassNames=function(e){var t=n.props,r=t.day,o=t.startDate,i=t.endDate,s=t.preSelection,a=t.monthClassName,l=a?a(eJ(r,e)):void 0,c=n.getSelection();return vG("react-datepicker__month-text","react-datepicker__month-".concat(e),l,{"react-datepicker__month-text--disabled":n.isMonthDisabled(e),"react-datepicker__month-text--selected":c?n.isSelectMonthInList(r,e,c):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&s&&n.isSelectedMonth(r,e,s)&&!n.isMonthSelected()&&!n.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":o&&i?f0(o,i,e,r):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(e),"react-datepicker__month-text--range-end":n.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":n.isCurrentMonth(r,e)})},n.getTabIndex=function(e){if(null==n.props.preSelection)return"-1";var t=rJ(n.props.preSelection),r=n.isMonthDisabledForLabelDate(t).isDisabled;return e!==t||r||n.props.disabledKeyboardNavigation?"-1":"0"},n.getQuarterTabIndex=function(e){if(null==n.props.preSelection)return"-1";var t=iJ(n.props.preSelection),r=g0(n.props.day,n.props);return e!==t||r||n.props.disabledKeyboardNavigation?"-1":"0"},n.getAriaLabel=function(e){var t=n.props,r=t.chooseDayAriaLabelPrefix,o=void 0===r?"Choose":r,i=t.disabledDayAriaLabelPrefix,s=void 0===i?"Not available":i,a=t.day,l=t.locale,c=eJ(a,e),u=n.isDisabled(c)||n.isExcluded(c)?s:o;return"".concat(u," ").concat(qZ(c,"MMMM yyyy",l))},n.getQuarterClassNames=function(e){var t=n.props,r=t.day,o=t.startDate,i=t.endDate,s=t.selected,a=t.minDate,l=t.maxDate,c=t.excludeDates,u=t.includeDates,d=t.filterDate,h=t.preSelection,p=t.disabledKeyboardNavigation,f=t.disabled,m=(a||l||c||u||d||f)&&g0(tJ(r,e),n.props);return vG("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":m,"react-datepicker__quarter-text--selected":s?n.isSelectedQuarter(r,e,s):void 0,"react-datepicker__quarter-text--keyboard-selected":!p&&h&&n.isSelectedQuarter(r,e,h)&&!m,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":o&&i?b0(o,i,e,r):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":n.isCurrentQuarter(r,e)})},n.getMonthContent=function(e){var t=n.props,r=t.showFullMonthYearPicker,o=t.renderMonthContent,i=t.locale,s=t.day,a=u0(e,i),l=c0(e,i);return o?o(e,a,l,s):r?l:a},n.getQuarterContent=function(e){var t,r=n.props,o=r.renderQuarterContent,i=function(e,t){return qZ(tJ(UZ(),e),"QQQ",t)}(e,r.locale);return null!==(t=null===o||void 0===o?void 0:o(e,i))&&void 0!==t?t:i},n.renderMonths=function(){var t,r=n.props,o=r.showTwoColumnMonthYearPicker,i=r.showFourColumnMonthYearPicker,s=r.day,a=r.selected,l=null===(t=K0[G0(i,o)])||void 0===t?void 0:t.grid;return null===l||void 0===l?void 0:l.map(function(t,r){return e.createElement("div",{className:"react-datepicker__month-wrapper",key:r},t.map(function(t,r){return e.createElement("div",{ref:n.MONTH_REFS[t],key:r,onClick:function(e){n.onMonthClick(e,t)},onKeyDown:function(e){L0(e)&&(e.preventDefault(),e.key=FZ.Enter),n.onMonthKeyDown(e,t)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(t)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(t)}:void 0,tabIndex:Number(n.getTabIndex(t)),className:n.getMonthClassNames(t),"aria-disabled":n.isMonthDisabled(t),role:"option","aria-label":n.getAriaLabel(t),"aria-current":n.isCurrentMonth(s,t)?"date":void 0,"aria-selected":a?n.isSelectedMonth(s,t,a):void 0},n.getMonthContent(t))}))})},n.renderQuarters=function(){var t=n.props,r=t.day,o=t.selected;return e.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map(function(t,i){return e.createElement("div",{key:i,ref:n.QUARTER_REFS[i],role:"option",onClick:function(e){n.onQuarterClick(e,t)},onKeyDown:function(e){n.onQuarterKeyDown(e,t)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(t)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(t)}:void 0,className:n.getQuarterClassNames(t),"aria-selected":o?n.isSelectedQuarter(r,t,o):void 0,tabIndex:Number(n.getQuarterTabIndex(t)),"aria-current":n.isCurrentQuarter(r,t)?"date":void 0},n.getQuarterContent(t))}))},n.getClassNames=function(){var e=n.props,t=e.selectingDate,r=e.selectsStart,o=e.selectsEnd;return vG("react-datepicker__month",{"react-datepicker__month--selecting-range":t&&(r||o)},{"react-datepicker__monthPicker":e.showMonthYearPicker},{"react-datepicker__quarterPicker":e.showQuarterYearPicker},{"react-datepicker__weekPicker":e.showWeekPicker})},n}return jZ(n,t),n.prototype.getSelection=function(){var e=this.props,t=e.selected,n=e.selectedDates;return e.selectsMultiple?n:t?[t]:void 0},n.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,r=t.showQuarterYearPicker,o=t.day,i=t.ariaLabelPrefix,s=void 0===i?"Month ":i,a=s?s.trim()+" ":"";return n||r?e.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(a).concat(qZ(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():this.renderQuarters()):e.createElement("div",{role:"table"},this.props.dayNamesHeader&&e.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),e.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(a).concat(qZ(o,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},n}(e.Component),Q0=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.monthOptionButtonsRef={},n.isSelectedMonth=function(e){return n.props.month===e},n.handleOptionKeyDown=function(e,t){var r;switch(t.key){case"Enter":t.preventDefault(),n.onChange(e);break;case"Escape":t.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":t.preventDefault();var o=(e+("ArrowUp"===t.key?-1:1)+n.props.monthNames.length)%n.props.monthNames.length;null===(r=n.monthOptionButtonsRef[o])||void 0===r||r.focus()}},n.renderOptions=function(){return n.monthOptionButtonsRef={},n.props.monthNames.map(function(t,r){return e.createElement("div",{ref:function(e){n.monthOptionButtonsRef[r]=e,n.isSelectedMonth(r)&&(null===e||void 0===e||e.focus())},role:"button",tabIndex:0,className:n.isSelectedMonth(r)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:t,onClick:n.onChange.bind(n,r),onKeyDown:n.handleOptionKeyDown.bind(n,r),"aria-selected":n.isSelectedMonth(r)?"true":void 0},n.isSelectedMonth(r)?e.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",t)})},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){return n.props.onCancel()},n}return jZ(n,t),n.prototype.render=function(){return e.createElement(zZ,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},n}(e.Component),J0=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(t){return t.map(function(t,n){return e.createElement("option",{key:t,value:n},t)})},n.renderSelectMode=function(t){return e.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(e){return n.onChange(parseInt(e.target.value))}},n.renderSelectOptions(t))},n.renderReadView=function(t,r){return e.createElement("button",{key:"read",type:"button",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},e.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),e.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},r[n.props.month]))},n.renderDropdown=function(t){return e.createElement(Q0,MZ({key:"dropdown"},n.props,{monthNames:t,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(e){var t=n.state.dropdownVisible,r=[n.renderReadView(!t,e)];return t&&r.unshift(n.renderDropdown(e)),r},n.onChange=function(e){n.toggleDropdown(),e!==n.props.month&&n.props.onChange(e)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return jZ(n,t),n.prototype.render=function(){var t,n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return u0(e,n.props.locale)}:function(e){return c0(e,n.props.locale)});switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode(r);break;case"select":t=this.renderSelectMode(r)}return e.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(e.Component);function X0(e,t){for(var n=[],r=$Z(e),o=$Z(t);!CJ(r,o);)n.push(UZ(r)),r=cJ(r,1);return n}var Z0=function(t){function n(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(t){var n=AJ(t),o=t0(r.props.date,t)&&n0(r.props.date,t);return e.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:n,onClick:r.onChange.bind(r,n),"aria-selected":o?"true":void 0},o?e.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",qZ(t,r.props.dateFormat,r.props.locale))})},r.onChange=function(e){return r.props.onChange(e)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:X0(r.props.minDate,r.props.maxDate)},r}return jZ(n,t),n.prototype.render=function(){var t=vG({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return e.createElement(zZ,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(e.Component),e1=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var t=$Z(n.props.minDate),r=$Z(n.props.maxDate),o=[];!CJ(t,r);){var i=AJ(t);o.push(e.createElement("option",{key:i,value:i},qZ(t,n.props.dateFormat,n.props.locale))),t=cJ(t,1)}return o},n.onSelectChange=function(e){n.onChange(parseInt(e.target.value))},n.renderSelectMode=function(){return e.createElement("select",{value:AJ($Z(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(t){var r=qZ(n.props.date,n.props.dateFormat,n.props.locale);return e.createElement("div",{key:"read",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},e.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),e.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},r))},n.renderDropdown=function(){return e.createElement(Z0,MZ({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var e=n.state.dropdownVisible,t=[n.renderReadView(!e)];return e&&t.unshift(n.renderDropdown()),t},n.onChange=function(e){n.toggleDropdown();var t=UZ(e);t0(n.props.date,t)&&n0(n.props.date,t)||n.props.onChange(t)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return jZ(n,t),n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode()}return e.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(e.Component),t1=function(t){function n(){var r=null!==t&&t.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var e,t,o;r.list&&(r.list.scrollTop=null!==(o=r.centerLi&&n.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-(null!==(t=null===(e=r.header)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:0):r.list.clientHeight,r.centerLi))&&void 0!==o?o:0)})},r.handleClick=function(e){var t,n;(r.props.minTime||r.props.maxTime)&&_0(e,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&k0(e,r.props)||null===(n=(t=r.props).onChange)||void 0===n||n.call(t,e)},r.isSelectedTime=function(e){return r.props.selected&&(t=r.props.selected,n=e,M0(t).getTime()===M0(n).getTime());var t,n},r.isDisabledTime=function(e){return(r.props.minTime||r.props.maxTime)&&_0(e,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&k0(e,r.props)},r.liClasses=function(e){var t,o=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(e):void 0];return r.isSelectedTime(e)&&o.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(e)&&o.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(3600*sJ(e)+60*aJ(e)+lJ(e))%(60*(null!==(t=r.props.intervals)&&void 0!==t?t:n.defaultProps.intervals))!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},r.handleOnKeyDown=function(e,t){var n,o;e.key===FZ.Space&&(e.preventDefault(),e.key=FZ.Enter),(e.key===FZ.ArrowUp||e.key===FZ.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===FZ.ArrowDown||e.key===FZ.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===FZ.Enter&&r.handleClick(t),null===(o=(n=r.props).handleOnKeyDown)||void 0===o||o.call(n,e)},r.renderTimes=function(){for(var t,o=[],i="string"===typeof r.props.format?r.props.format:"p",s=null!==(t=r.props.intervals)&&void 0!==t?t:n.defaultProps.intervals,a=r.props.selected||r.props.openToDate||UZ(),l=KZ(a),c=r.props.injectTimes&&r.props.injectTimes.sort(function(e,t){return e.getTime()-t.getTime()}),u=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}(a),d=u/s,h=0;h<d;h++){var p=kJ(l,h*s);if(o.push(p),c){var f=I0(l,p,h,s,c);o=o.concat(f)}}var m=o.reduce(function(e,t){return t.getTime()<=a.getTime()?t:e},o[0]);return o.map(function(t){return e.createElement("li",{key:t.valueOf(),onClick:r.handleClick.bind(r,t),className:r.liClasses(t),ref:function(e){t===m&&(r.centerLi=e)},onKeyDown:function(e){r.handleOnKeyDown(e,t)},tabIndex:t===m?0:-1,role:"option","aria-selected":r.isSelectedTime(t)?"true":void 0,"aria-disabled":r.isDisabledTime(t)?"true":void 0},qZ(t,i,r.props.locale))})},r.renderTimeCaption=function(){return!1===r.props.showTimeCaption?e.createElement(e.Fragment,null):e.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){r.header=e}},e.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return jZ(n,t),Object.defineProperty(n,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},n.prototype.componentWillUnmount=function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()},n.prototype.observeDatePickerHeightChanges=function(){var e=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver(function(){e.updateContainerHeight()}),this.resizeObserver.observe(t))},n.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},n.prototype.render=function(){var t,r=this,o=this.state.height;return e.createElement("div",{className:"react-datepicker__time-container ".concat((null!==(t=this.props.todayButton)&&void 0!==t?t:n.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),e.createElement("div",{className:"react-datepicker__time"},e.createElement("div",{className:"react-datepicker__time-box"},e.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){r.list=e},style:o?{height:o}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},n.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},n}(e.Component),n1=function(t){function n(n){var r=t.call(this,n)||this;return r.YEAR_REFS=RZ([],Array(r.props.yearItemNumber),!0).map(function(){return(0,e.createRef)()}),r.isDisabled=function(e){return d0(e,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(e){return h0(e,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var e;return null!==(e=r.props.selectingDate)&&void 0!==e?e:r.props.preSelection},r.updateFocusOnPaginate=function(e){window.requestAnimationFrame(function(){var t,n;null===(n=null===(t=r.YEAR_REFS[e])||void 0===t?void 0:t.current)||void 0===n||n.focus()})},r.handleYearClick=function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)},r.handleYearNavigation=function(e,t){var n,o,i,s,a=r.props,l=a.date,c=a.yearItemNumber;if(void 0!==l&&void 0!==c){var u=j0(l,c).startPeriod;r.isDisabled(t)||r.isExcluded(t)||(null===(o=(n=r.props).setPreSelection)||void 0===o||o.call(n,t),e-u<0?r.updateFocusOnPaginate(c-(u-e)):e-u>=c?r.updateFocusOnPaginate(Math.abs(c-(e-u))):null===(s=null===(i=r.YEAR_REFS[e-u])||void 0===i?void 0:i.current)||void 0===s||s.focus())}},r.isSameDay=function(e,t){return o0(e,t)},r.isCurrentYear=function(e){return e===nJ(UZ())},r.isRangeStart=function(e){return r.props.startDate&&r.props.endDate&&t0(DJ(UZ(),e),r.props.startDate)},r.isRangeEnd=function(e){return r.props.startDate&&r.props.endDate&&t0(DJ(UZ(),e),r.props.endDate)},r.isInRange=function(e){return v0(e,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(e){var t=r.props,n=t.selectsStart,o=t.selectsEnd,i=t.selectsRange,s=t.startDate,a=t.endDate;return!(!(n||o||i)||!r.selectingDate())&&(n&&a?v0(e,r.selectingDate(),a):(o&&s||!(!i||!s||a))&&v0(e,s,r.selectingDate()))},r.isSelectingRangeStart=function(e){var t;if(!r.isInSelectingRange(e))return!1;var n=r.props,o=n.startDate,i=n.selectsStart,s=DJ(UZ(),e);return t0(s,i?null!==(t=r.selectingDate())&&void 0!==t?t:null:null!==o&&void 0!==o?o:null)},r.isSelectingRangeEnd=function(e){var t;if(!r.isInSelectingRange(e))return!1;var n=r.props,o=n.endDate,i=n.selectsEnd,s=n.selectsRange,a=DJ(UZ(),e);return t0(a,i||s?null!==(t=r.selectingDate())&&void 0!==t?t:null:null!==o&&void 0!==o?o:null)},r.isKeyboardSelected=function(e){if(!r.props.disabledKeyboardNavigation&&void 0!==r.props.date&&null!=r.props.preSelection){var t=r.props,n=t.minDate,o=t.maxDate,i=t.excludeDates,s=t.includeDates,a=t.filterDate,l=t.selected,c=QZ(DJ(r.props.date,e)),u=(n||o||i||s||a)&&y0(e,r.props),d=!!l&&o0(c,QZ(l)),h=o0(c,QZ(r.props.preSelection));return!r.props.inline&&!d&&h&&!u}},r.isSelectedYear=function(e){var t=r.props,n=t.selectsMultiple,o=t.selected,i=t.selectedDates;return n?null===i||void 0===i?void 0:i.some(function(t){return e===nJ(t)}):!!o&&e===nJ(o)},r.onYearClick=function(e,t){var n=r.props.date;void 0!==n&&r.handleYearClick(QZ(DJ(n,t)),e)},r.onYearKeyDown=function(e,t){var n,o,i=e.key,s=r.props,a=s.date,l=s.yearItemNumber,c=s.handleOnKeyDown;if(i!==FZ.Tab&&e.preventDefault(),!r.props.disabledKeyboardNavigation)switch(i){case FZ.Enter:if(null==r.props.selected)break;r.onYearClick(e,t),null===(o=(n=r.props).setPreSelection)||void 0===o||o.call(n,r.props.selected);break;case FZ.ArrowRight:if(null==r.props.preSelection)break;r.handleYearNavigation(t+1,mJ(r.props.preSelection,1));break;case FZ.ArrowLeft:if(null==r.props.preSelection)break;r.handleYearNavigation(t-1,gJ(r.props.preSelection,1));break;case FZ.ArrowUp:if(void 0===a||void 0===l||null==r.props.preSelection)break;var u=j0(a,l).startPeriod;if((p=t-(h=3))<u){var d=l%h;t>=u&&t<u+d?h=d:h+=d,p=t-h}r.handleYearNavigation(p,gJ(r.props.preSelection,h));break;case FZ.ArrowDown:if(void 0===a||void 0===l||null==r.props.preSelection)break;var h,p,f=j0(a,l).endPeriod;if((p=t+(h=3))>f){d=l%h;t<=f&&t>f-d?h=d:h+=d,p=t+h}r.handleYearNavigation(p,mJ(r.props.preSelection,h))}c&&c(e)},r.getYearClassNames=function(e){var t=r.props,n=t.date,o=t.disabled,i=t.minDate,s=t.maxDate,a=t.excludeDates,l=t.includeDates,c=t.filterDate,u=t.yearClassName;return vG("react-datepicker__year-text","react-datepicker__year-".concat(e),n?null===u||void 0===u?void 0:u(DJ(n,e)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(e),"react-datepicker__year-text--disabled":(i||s||a||l||c||o)&&y0(e,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(e),"react-datepicker__year-text--range-start":r.isRangeStart(e),"react-datepicker__year-text--range-end":r.isRangeEnd(e),"react-datepicker__year-text--in-range":r.isInRange(e),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(e),"react-datepicker__year-text--today":r.isCurrentYear(e)})},r.getYearTabIndex=function(e){if(r.props.disabledKeyboardNavigation||null==r.props.preSelection)return"-1";var t=nJ(r.props.preSelection),n=y0(e,r.props);return e!==t||n?"-1":"0"},r.getYearContent=function(e){return r.props.renderYearContent?r.props.renderYearContent(e):e},r}return jZ(n,t),n.prototype.render=function(){var t=this,n=[],r=this.props,o=r.date,i=r.yearItemNumber,s=r.onYearMouseEnter,a=r.onYearMouseLeave;if(void 0===o)return null;for(var l=j0(o,i),c=l.startPeriod,u=l.endPeriod,d=function(r){n.push(e.createElement("div",{ref:h.YEAR_REFS[r-c],onClick:function(e){t.onYearClick(e,r)},onKeyDown:function(e){L0(e)&&(e.preventDefault(),e.key=FZ.Enter),t.onYearKeyDown(e,r)},tabIndex:Number(h.getYearTabIndex(r)),className:h.getYearClassNames(r),onMouseEnter:h.props.usePointerEvent?void 0:function(e){return s(e,r)},onPointerEnter:h.props.usePointerEvent?function(e){return s(e,r)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(e){return a(e,r)},onPointerLeave:h.props.usePointerEvent?function(e){return a(e,r)}:void 0,key:r,"aria-current":h.isCurrentYear(r)?"date":void 0},h.getYearContent(r)))},h=this,p=c;p<=u;p++)d(p);return e.createElement("div",{className:"react-datepicker__year"},e.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},n}(e.Component);function r1(e,t,n,r){for(var o=[],i=0;i<2*t+1;i++){var s=e+t-i,a=!0;n&&(a=nJ(n)<=s),r&&a&&(a=nJ(r)>=s),a&&o.push(s)}return o}var o1=function(t){function n(n){var r=t.call(this,n)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(e,t){var n;switch(t.key){case"Enter":t.preventDefault(),r.onChange(e);break;case"Escape":t.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":t.preventDefault();var o=e+("ArrowUp"===t.key?1:-1);r.yearOptionButtonsRef[o]&&(null===(n=r.yearOptionButtonsRef[o])||void 0===n||n.focus())}},r.renderOptions=function(){r.yearOptionButtonsRef={};var t=r.props.year,n=r.state.yearsList.map(function(n){return e.createElement("div",{ref:function(e){r.yearOptionButtonsRef[n]=e,n===t&&(null===e||void 0===e||e.focus())},role:"button",tabIndex:0,className:t===n?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:n,onClick:r.onChange.bind(r,n),onKeyDown:r.handleOptionKeyDown.bind(r,n),"aria-selected":t===n?"true":void 0},t===n?e.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",n)}),o=r.props.minDate?nJ(r.props.minDate):null,i=r.props.maxDate?nJ(r.props.maxDate):null;return i&&r.state.yearsList.find(function(e){return e===i})||n.unshift(e.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},e.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),o&&r.state.yearsList.find(function(e){return e===o})||n.push(e.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},e.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),n},r.onChange=function(e){r.props.onChange(e)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(e){var t=r.state.yearsList.map(function(t){return t+e});r.setState({yearsList:t})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var o=n.yearDropdownItemNumber,i=n.scrollableYearDropdown,s=o||(i?10:5);return r.state={yearsList:r1(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=(0,e.createRef)(),r}return jZ(n,t),n.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find(function(e){return e.ariaSelected}):null;e.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},n.prototype.render=function(){var t=vG({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return e.createElement(zZ,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(e.Component),i1=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var t=n.props.minDate?nJ(n.props.minDate):1900,r=n.props.maxDate?nJ(n.props.maxDate):2100,o=[],i=t;i<=r;i++)o.push(e.createElement("option",{key:i,value:i},i));return o},n.onSelectChange=function(e){n.onChange(parseInt(e.target.value))},n.renderSelectMode=function(){return e.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(t){return e.createElement("button",{key:"read",type:"button",style:{visibility:t?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:n.toggleDropdown},e.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),e.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return e.createElement(o1,MZ({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var e=n.state.dropdownVisible,t=[n.renderReadView(!e)];return e&&t.unshift(n.renderDropdown()),t},n.onChange=function(e){n.toggleDropdown(),e!==n.props.year&&n.props.onChange(e)},n.toggleDropdown=function(e){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,e)})},n.handleYearChange=function(e,t){var r;null===(r=n.onSelect)||void 0===r||r.call(n,e,t),n.setOpen()},n.onSelect=function(e,t){var r,o;null===(o=(r=n.props).onSelect)||void 0===o||o.call(r,e,t)},n.setOpen=function(){var e,t;null===(t=(e=n.props).setOpen)||void 0===t||t.call(e,!0)},n}return jZ(n,t),n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode()}return e.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(e.Component),s1=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],a1="react-datepicker-ignore-onclickoutside",l1=function(t){function n(r){var o=t.call(this,r)||this;return o.monthContainer=void 0,o.handleClickOutside=function(e){o.props.onClickOutside(e)},o.setClickOutsideRef=function(){return o.containerRef.current},o.handleDropdownFocus=function(e){var t,n;(function(e){var t=(e.className||"").split(/\s+/);return s1.some(function(e){return t.indexOf(e)>=0})})(e.target)&&(null===(n=(t=o.props).onDropdownFocus)||void 0===n||n.call(t,e))},o.getDateInView=function(){var e=o.props,t=e.preSelection,n=e.selected,r=e.openToDate,i=A0(o.props),s=D0(o.props),a=UZ(),l=r||n||t;return l||(i&&fQ(a,i)?i:s&&CJ(a,s)?s:a)},o.increaseMonth=function(){o.setState(function(e){return{date:cJ(e.date,1)}},function(){return o.handleMonthChange(o.state.date)})},o.decreaseMonth=function(){o.setState(function(e){return{date:uJ(e.date,1)}},function(){return o.handleMonthChange(o.state.date)})},o.handleDayClick=function(e,t,n){o.props.onSelect(e,t,n),o.props.setPreSelection&&o.props.setPreSelection(e)},o.handleDayMouseEnter=function(e){o.setState({selectingDate:e}),o.props.onDayMouseEnter&&o.props.onDayMouseEnter(e)},o.handleMonthMouseLeave=function(){o.setState({selectingDate:void 0}),o.props.onMonthMouseLeave&&o.props.onMonthMouseLeave()},o.handleYearMouseEnter=function(e,t){o.setState({selectingDate:DJ(UZ(),t)}),o.props.onYearMouseEnter&&o.props.onYearMouseEnter(e,t)},o.handleYearMouseLeave=function(e,t){o.props.onYearMouseLeave&&o.props.onYearMouseLeave(e,t)},o.handleYearChange=function(e){var t,n,r,i;null===(n=(t=o.props).onYearChange)||void 0===n||n.call(t,e),o.setState({isRenderAriaLiveMessage:!0}),o.props.adjustDateOnChange&&(o.props.onSelect(e),null===(i=(r=o.props).setOpen)||void 0===i||i.call(r,!0)),o.props.setPreSelection&&o.props.setPreSelection(e)},o.getEnabledPreSelectionDateForMonth=function(e){if(!d0(e,o.props))return e;for(var t=$Z(e),n=NJ(e0(e),t),r=null,i=0;i<=n;i++){var s=X$(t,i);if(!d0(s,o.props)){r=s;break}}return r},o.handleMonthChange=function(e){var t,n,r,i=null!==(t=o.getEnabledPreSelectionDateForMonth(e))&&void 0!==t?t:e;o.handleCustomMonthChange(i),o.props.adjustDateOnChange&&(o.props.onSelect(i),null===(r=(n=o.props).setOpen)||void 0===r||r.call(n,!0)),o.props.setPreSelection&&o.props.setPreSelection(i)},o.handleCustomMonthChange=function(e){var t,n;null===(n=(t=o.props).onMonthChange)||void 0===n||n.call(t,e),o.setState({isRenderAriaLiveMessage:!0})},o.handleMonthYearChange=function(e){o.handleYearChange(e),o.handleMonthChange(e)},o.changeYear=function(e){o.setState(function(t){return{date:DJ(t.date,Number(e))}},function(){return o.handleYearChange(o.state.date)})},o.changeMonth=function(e){o.setState(function(t){return{date:eJ(t.date,Number(e))}},function(){return o.handleMonthChange(o.state.date)})},o.changeMonthYear=function(e){o.setState(function(t){return{date:DJ(eJ(t.date,rJ(e)),nJ(e))}},function(){return o.handleMonthYearChange(o.state.date)})},o.header=function(t){void 0===t&&(t=o.state.date);var n=o.props.disabled,r=GZ(t,o.props.locale,o.props.calendarStartDay),i=[];return o.props.showWeekNumbers&&i.push(e.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(n?"react-datepicker__day-name--disabled":""),role:"columnheader"},e.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),e.createElement("span",{"aria-hidden":"true"},o.props.weekLabel||"#"))),i.concat([0,1,2,3,4,5,6].map(function(t){var i=X$(r,t),s=o.formatWeekday(i,o.props.locale),a=o.props.weekDayClassName?o.props.weekDayClassName(i):void 0;return e.createElement("div",{key:t,role:"columnheader",className:vG("react-datepicker__day-name",a,n?"react-datepicker__day-name--disabled":"")},e.createElement("span",{className:"react-datepicker__sr-only"},qZ(i,"EEEE",o.props.locale)),e.createElement("span",{"aria-hidden":"true"},s))}))},o.formatWeekday=function(e,t){return o.props.formatWeekDay?function(e,t,n){return t(qZ(e,"EEEE",n))}(e,o.props.formatWeekDay,t):o.props.useWeekdaysShort?function(e,t){return qZ(e,"EEE",t)}(e,t):function(e,t){return qZ(e,"EEEEEE",t)}(e,t)},o.decreaseYear=function(){o.setState(function(e){var t;return{date:gJ(e.date,o.props.showYearPicker?null!==(t=o.props.yearItemNumber)&&void 0!==t?t:n.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.clearSelectingDate=function(){o.setState({selectingDate:void 0})},o.renderPreviousButton=function(){var t,r,i;if(!o.props.renderCustomHeader){var s,a=null!==(t=o.props.monthsShown)&&void 0!==t?t:n.defaultProps.monthsShown,l=o.props.showPreviousMonths?a-1:0,c=null!==(r=o.props.monthSelectedIn)&&void 0!==r?r:l,u=uJ(o.state.date,c);switch(!0){case o.props.disabled:s=!0;break;case o.props.showMonthYearPicker:s=E0(o.state.date,o.props);break;case o.props.showYearPicker:s=function(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.yearItemNumber,i=void 0===o?12:o,s=j0(QZ(gJ(e,i)),i).endPeriod,a=r&&nJ(r);return a&&a>s||!1}(o.state.date,o.props);break;case o.props.showQuarterYearPicker:s=function(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.includeDates,i=pJ(yQ(e),1);return r&&fJ(r,i)>0||o&&o.every(function(e){return fJ(e,i)>0})||!1}(o.state.date,o.props);break;default:s=C0(u,o.props)}if(((null!==(i=o.props.forceShowMonthNavigation)&&void 0!==i?i:n.defaultProps.forceShowMonthNavigation)||o.props.showDisabledMonthNavigation||!s)&&!o.props.showTimeSelectOnly){var d=["react-datepicker__navigation","react-datepicker__navigation--previous"],h=o.decreaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(h=o.decreaseYear),s&&o.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--previous--disabled"),h=void 0);var p=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,f=o.props,m=f.previousMonthButtonLabel,g=void 0===m?n.defaultProps.previousMonthButtonLabel:m,v=f.previousYearButtonLabel,y=void 0===v?n.defaultProps.previousYearButtonLabel:v,b=o.props,w=b.previousMonthAriaLabel,x=void 0===w?"string"===typeof g?g:"Previous Month":w,k=b.previousYearAriaLabel,_=void 0===k?"string"===typeof y?y:"Previous Year":k;return e.createElement("button",{type:"button",className:d.join(" "),onClick:h,onKeyDown:o.props.handleOnKeyDown,"aria-label":p?_:x},e.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},p?y:g))}}},o.increaseYear=function(){o.setState(function(e){var t;return{date:mJ(e.date,o.props.showYearPicker?null!==(t=o.props.yearItemNumber)&&void 0!==t?t:n.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.renderNextButton=function(){var t;if(!o.props.renderCustomHeader){var r;switch(!0){case o.props.disabled:r=!0;break;case o.props.showMonthYearPicker:r=T0(o.state.date,o.props);break;case o.props.showYearPicker:r=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,o=n.yearItemNumber,i=void 0===o?12:o,s=j0(mJ(e,i),i).startPeriod,a=r&&nJ(r);return a&&a<s||!1}(o.state.date,o.props);break;case o.props.showQuarterYearPicker:r=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,o=n.includeDates,i=hJ(oJ(e),1);return r&&fJ(i,r)>0||o&&o.every(function(e){return fJ(i,e)>0})||!1}(o.state.date,o.props);break;default:r=S0(o.state.date,o.props)}if(((null!==(t=o.props.forceShowMonthNavigation)&&void 0!==t?t:n.defaultProps.forceShowMonthNavigation)||o.props.showDisabledMonthNavigation||!r)&&!o.props.showTimeSelectOnly){var i=["react-datepicker__navigation","react-datepicker__navigation--next"];o.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),o.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var s=o.increaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(s=o.increaseYear),r&&o.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),s=void 0);var a=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,l=o.props,c=l.nextMonthButtonLabel,u=void 0===c?n.defaultProps.nextMonthButtonLabel:c,d=l.nextYearButtonLabel,h=void 0===d?n.defaultProps.nextYearButtonLabel:d,p=o.props,f=p.nextMonthAriaLabel,m=void 0===f?"string"===typeof u?u:"Next Month":f,g=p.nextYearAriaLabel,v=void 0===g?"string"===typeof h?h:"Next Year":g;return e.createElement("button",{type:"button",className:i.join(" "),onClick:s,onKeyDown:o.props.handleOnKeyDown,"aria-label":a?v:m},e.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},a?h:u))}}},o.renderCurrentMonth=function(t){void 0===t&&(t=o.state.date);var n=["react-datepicker__current-month"];return o.props.showYearDropdown&&n.push("react-datepicker__current-month--hasYearDropdown"),o.props.showMonthDropdown&&n.push("react-datepicker__current-month--hasMonthDropdown"),o.props.showMonthYearDropdown&&n.push("react-datepicker__current-month--hasMonthYearDropdown"),e.createElement("h2",{className:n.join(" ")},qZ(t,o.props.dateFormat,o.props.locale))},o.renderYearDropdown=function(t){if(void 0===t&&(t=!1),o.props.showYearDropdown&&!t)return e.createElement(i1,MZ({},n.defaultProps,o.props,{date:o.state.date,onChange:o.changeYear,year:nJ(o.state.date)}))},o.renderMonthDropdown=function(t){if(void 0===t&&(t=!1),o.props.showMonthDropdown&&!t)return e.createElement(J0,MZ({},n.defaultProps,o.props,{month:rJ(o.state.date),onChange:o.changeMonth}))},o.renderMonthYearDropdown=function(t){if(void 0===t&&(t=!1),o.props.showMonthYearDropdown&&!t)return e.createElement(e1,MZ({},n.defaultProps,o.props,{date:o.state.date,onChange:o.changeMonthYear}))},o.handleTodayButtonClick=function(e){o.props.onSelect(XZ(),e),o.props.setPreSelection&&o.props.setPreSelection(XZ())},o.renderTodayButton=function(){if(o.props.todayButton&&!o.props.showTimeSelectOnly)return e.createElement("div",{className:"react-datepicker__today-button",onClick:o.handleTodayButtonClick},o.props.todayButton)},o.renderDayNamesHeader=function(t){return e.createElement("div",{className:"react-datepicker__day-names",role:"row"},o.header(t))},o.renderDefaultHeader=function(t){var n=t.monthDate,r=t.i;return e.createElement("div",{className:"react-datepicker__header ".concat(o.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},o.renderCurrentMonth(n),e.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(o.props.dropdownMode),onFocus:o.handleDropdownFocus},o.renderMonthDropdown(0!==r),o.renderMonthYearDropdown(0!==r),o.renderYearDropdown(0!==r)))},o.renderCustomHeader=function(t){var n,r,i=t.monthDate,s=t.i;if(o.props.showTimeSelect&&!o.state.monthContainer||o.props.showTimeSelectOnly)return null;var a,l=o.props,c=l.showYearPicker,u=l.yearItemNumber;if(c){var d=j0(i,u);a={startYear:d.startPeriod,endYear:d.endPeriod}}var h=C0(o.state.date,o.props),p=S0(o.state.date,o.props),f=E0(o.state.date,o.props),m=T0(o.state.date,o.props);return e.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:o.props.onDropdownFocus},null===(r=(n=o.props).renderCustomHeader)||void 0===r?void 0:r.call(n,MZ(MZ(MZ({},o.state),c&&{visibleYearsRange:a}),{customHeaderCount:s,monthDate:i,changeMonth:o.changeMonth,changeYear:o.changeYear,decreaseMonth:o.decreaseMonth,increaseMonth:o.increaseMonth,decreaseYear:o.decreaseYear,increaseYear:o.increaseYear,prevMonthButtonDisabled:h,nextMonthButtonDisabled:p,prevYearButtonDisabled:f,nextYearButtonDisabled:m})))},o.renderYearHeader=function(t){var r=t.monthDate,i=o.props,s=i.showYearPicker,a=i.yearItemNumber,l=j0(r,void 0===a?n.defaultProps.yearItemNumber:a),c=l.startPeriod,u=l.endPeriod;return e.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},s?"".concat(c," - ").concat(u):nJ(r))},o.renderHeader=function(e){var t=e.monthDate,n=e.i,r={monthDate:t,i:void 0===n?0:n};switch(!0){case void 0!==o.props.renderCustomHeader:return o.renderCustomHeader(r);case o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker:return o.renderYearHeader(r);default:return o.renderDefaultHeader(r)}},o.renderMonths=function(){var t,r;if(!o.props.showTimeSelectOnly&&!o.props.showYearPicker){for(var i=[],s=null!==(t=o.props.monthsShown)&&void 0!==t?t:n.defaultProps.monthsShown,a=o.props.showPreviousMonths?s-1:0,l=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?mJ(o.state.date,a):uJ(o.state.date,a),c=null!==(r=o.props.monthSelectedIn)&&void 0!==r?r:a,u=0;u<s;++u){var d=u-c+a,h=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?mJ(l,d):cJ(l,d),p="month-".concat(u),f=u<s-1,m=u>0;i.push(e.createElement("div",{key:p,ref:function(e){o.monthContainer=null!==e&&void 0!==e?e:void 0},className:"react-datepicker__month-container"},o.renderHeader({monthDate:h,i:u}),e.createElement($0,MZ({},n.defaultProps,o.props,{containerRef:o.containerRef,ariaLabelPrefix:o.props.monthAriaLabelPrefix,day:h,onDayClick:o.handleDayClick,handleOnKeyDown:o.props.handleOnDayKeyDown,handleOnMonthKeyDown:o.props.handleOnKeyDown,onDayMouseEnter:o.handleDayMouseEnter,onMouseLeave:o.handleMonthMouseLeave,orderInDisplay:u,selectingDate:o.state.selectingDate,monthShowsDuplicateDaysEnd:f,monthShowsDuplicateDaysStart:m,dayNamesHeader:o.renderDayNamesHeader(h)}))))}return i}},o.renderYears=function(){if(!o.props.showTimeSelectOnly)return o.props.showYearPicker?e.createElement("div",{className:"react-datepicker__year--container"},o.renderHeader({monthDate:o.state.date}),e.createElement(n1,MZ({},n.defaultProps,o.props,{selectingDate:o.state.selectingDate,date:o.state.date,onDayClick:o.handleDayClick,clearSelectingDate:o.clearSelectingDate,onYearMouseEnter:o.handleYearMouseEnter,onYearMouseLeave:o.handleYearMouseLeave}))):void 0},o.renderTimeSection=function(){if(o.props.showTimeSelect&&(o.state.monthContainer||o.props.showTimeSelectOnly))return e.createElement(t1,MZ({},n.defaultProps,o.props,{onChange:o.props.onTimeChange,format:o.props.timeFormat,intervals:o.props.timeIntervals,monthRef:o.state.monthContainer}))},o.renderInputTimeSection=function(){var t=o.props.selected?new Date(o.props.selected):void 0,r=t&&HZ(t)&&Boolean(o.props.selected)?"".concat(P0(t.getHours()),":").concat(P0(t.getMinutes())):"";if(o.props.showTimeInput)return e.createElement(B0,MZ({},n.defaultProps,o.props,{date:t,timeString:r,onChange:o.props.onTimeChange}))},o.renderAriaLiveRegion=function(){var t,r,i=j0(o.state.date,null!==(t=o.props.yearItemNumber)&&void 0!==t?t:n.defaultProps.yearItemNumber),s=i.startPeriod,a=i.endPeriod;return r=o.props.showYearPicker?"".concat(s," - ").concat(a):o.props.showMonthYearPicker||o.props.showQuarterYearPicker?nJ(o.state.date):"".concat(c0(rJ(o.state.date),o.props.locale)," ").concat(nJ(o.state.date)),e.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},o.state.isRenderAriaLiveMessage&&r)},o.renderChildren=function(){if(o.props.children)return e.createElement("div",{className:"react-datepicker__children-container"},o.props.children)},o.containerRef=(0,e.createRef)(),o.state={date:o.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},o}return jZ(n,t),Object.defineProperty(n,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:a1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:12}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},n.prototype.componentDidUpdate=function(e){var t=this;if(!this.props.preSelection||o0(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!o0(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!n0(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return n&&t.handleCustomMonthChange(t.state.date)})}},n.prototype.render=function(){var t=this.props.container||LZ;return e.createElement(zZ,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},e.createElement("div",{style:{display:"contents"},ref:this.containerRef},e.createElement(t,{className:vG("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},n}(e.Component),c1=function(t){var n=t.icon,r=t.className,o=void 0===r?"":r,i=t.onClick,s="react-datepicker__calendar-icon";if("string"===typeof n)return e.createElement("i",{className:"".concat(s," ").concat(n," ").concat(o),"aria-hidden":"true",onClick:i});if(e.isValidElement(n)){var a=n;return e.cloneElement(a,{className:"".concat(a.props.className||""," ").concat(s," ").concat(o),onClick:function(e){"function"===typeof a.props.onClick&&a.props.onClick(e),"function"===typeof i&&i(e)}})}return e.createElement("svg",{className:"".concat(s," ").concat(o),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},e.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},u1=function(e){function t(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return jZ(t,e),t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return xy.createPortal(this.props.children,this.el)},t}(e.Component),d1=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&-1!==e.tabIndex},h1=function(t){function n(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var e;return Array.prototype.slice.call(null===(e=r.tabLoopRef.current)||void 0===e?void 0:e.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(d1)},r.handleFocusStart=function(){var e=r.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},r.handleFocusEnd=function(){var e=r.getTabChildren();e&&e.length>1&&e[0].focus()},r.tabLoopRef=(0,e.createRef)(),r}return jZ(n,t),n.prototype.render=function(){var t;return(null!==(t=this.props.enableTabLoop)&&void 0!==t?t:n.defaultProps.enableTabLoop)?e.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},e.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,e.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},n.defaultProps={enableTabLoop:!0},n}(e.Component);var p1=function(t){function n(n){var r,o="boolean"!==typeof n.hidePopper||n.hidePopper,i=(0,e.useRef)(null),s=IZ(MZ({open:!o,whileElementsMounted:ZX,placement:n.popperPlacement,middleware:RZ([uZ({padding:15}),cZ(10),dZ({element:i})],null!==(r=n.popperModifiers)&&void 0!==r?r:[],!0)},n.popperProps)),a=MZ(MZ({},n),{hidePopper:o,popperProps:MZ(MZ({},s),{arrowRef:i})});return e.createElement(t,MZ({},a))}return n.displayName="withFloating(".concat(t.displayName||t.name||"Component",")"),n}(function(t){var n=t.className,r=t.wrapperClassName,o=t.hidePopper,i=void 0===o||o,s=t.popperComponent,a=t.targetComponent,l=t.enableTabLoop,c=t.popperOnKeyDown,u=t.portalId,d=t.portalHost,h=t.popperProps,p=t.showArrow,f=void 0;if(!i){var m=vG("react-datepicker-popper",n);f=e.createElement(h1,{enableTabLoop:l},e.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:m,"data-placement":h.placement,onKeyDown:c},s,p&&e.createElement(SZ,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}t.popperContainer&&(f=(0,e.createElement)(t.popperContainer,{},f)),u&&!i&&(f=e.createElement(u1,{portalId:u,portalHost:d},f));var g=vG("react-datepicker-wrapper",r);return e.createElement(e.Fragment,null,e.createElement("div",{ref:h.refs.setReference,className:g},a),f)});var f1="Date input not valid.",m1=function(t){function n(r){var o=t.call(this,r)||this;return o.calendar=null,o.input=null,o.getPreSelection=function(){return o.props.openToDate?o.props.openToDate:o.props.selectsEnd&&o.props.startDate?o.props.startDate:o.props.selectsStart&&o.props.endDate?o.props.endDate:UZ()},o.modifyHolidays=function(){var e;return null===(e=o.props.holidays)||void 0===e?void 0:e.reduce(function(e,t){var n=new Date(t.date);return HZ(n)?RZ(RZ([],e,!0),[MZ(MZ({},t),{date:n})],!1):e},[])},o.calcInitialState=function(){var e,t=o.getPreSelection(),n=A0(o.props),r=D0(o.props),i=n&&fQ(t,KZ(n))?n:r&&CJ(t,ZZ(r))?r:t;return{open:o.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:null!==(e=o.props.selectsRange?o.props.startDate:o.props.selected)&&void 0!==e?e:i,highlightDates:N0(o.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},o.getInputValue=function(){var e,t=o.props,r=t.locale,i=t.startDate,s=t.endDate,a=t.rangeSeparator,l=t.selected,c=t.selectedDates,u=t.selectsMultiple,d=t.selectsRange,h=t.value,p=null!==(e=o.props.dateFormat)&&void 0!==e?e:n.defaultProps.dateFormat,f=o.state.inputValue;return"string"===typeof h?h:"string"===typeof f?f:d?function(e,t,n){if(!e&&!t)return"";var r=e?WZ(e,n):"",o=t?WZ(t,n):"",i=n.rangeSeparator||" - ";return"".concat(r).concat(i).concat(o)}(i,s,{dateFormat:p,locale:r,rangeSeparator:a}):u?function(e,t){if(!(null===e||void 0===e?void 0:e.length))return"";var n=e[0]?WZ(e[0],t):"";if(1===e.length)return n;if(2===e.length&&e[1]){var r=WZ(e[1],t);return"".concat(n,", ").concat(r)}var o=e.length-1;return"".concat(n," (+").concat(o,")")}(null!==c&&void 0!==c?c:[],{dateFormat:p,locale:r}):WZ(l,{dateFormat:p,locale:r})},o.resetHiddenStatus=function(){o.setState(MZ(MZ({},o.state),{wasHidden:!1}))},o.setHiddenStatus=function(){o.setState(MZ(MZ({},o.state),{wasHidden:!0}))},o.setHiddenStateOnVisibilityHidden=function(){"hidden"===document.visibilityState&&o.setHiddenStatus()},o.clearPreventFocusTimeout=function(){o.preventFocusTimeout&&clearTimeout(o.preventFocusTimeout)},o.setFocus=function(){var e,t;null===(t=null===(e=o.input)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})},o.setBlur=function(){var e,t;null===(t=null===(e=o.input)||void 0===e?void 0:e.blur)||void 0===t||t.call(e),o.cancelFocusInput()},o.deferBlur=function(){requestAnimationFrame(function(){o.setBlur()})},o.setOpen=function(e,t){void 0===t&&(t=!1),o.setState({open:e,preSelection:e&&o.state.open?o.state.preSelection:o.calcInitialState().preSelection,lastPreSelectChange:v1},function(){e||o.setState(function(e){return{focused:!!t&&e.focused}},function(){!t&&o.deferBlur(),o.setState({inputValue:null})})})},o.inputOk=function(){return hQ(o.state.preSelection)},o.isCalendarOpen=function(){return void 0===o.props.open?o.state.open&&!o.props.disabled&&!o.props.readOnly:o.props.open},o.handleFocus=function(e){var t,n,r=o.state.wasHidden,i=!r||o.state.open;r&&o.resetHiddenStatus(),o.state.preventFocus||(null===(n=(t=o.props).onFocus)||void 0===n||n.call(t,e),!i||o.props.preventOpenOnFocus||o.props.readOnly||o.setOpen(!0)),o.setState({focused:!0})},o.sendFocusBackToInput=function(){o.preventFocusTimeout&&o.clearPreventFocusTimeout(),o.setState({preventFocus:!0},function(){o.preventFocusTimeout=setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})})},o.cancelFocusInput=function(){clearTimeout(o.inputFocusTimeout),o.inputFocusTimeout=void 0},o.deferFocusInput=function(){o.cancelFocusInput(),o.inputFocusTimeout=setTimeout(function(){return o.setFocus()},1)},o.handleDropdownFocus=function(){o.cancelFocusInput()},o.resetInputValue=function(){o.setState(MZ(MZ({},o.state),{inputValue:null}))},o.handleBlur=function(e){var t,n;(!o.state.open||o.props.withPortal||o.props.showTimeInput)&&(null===(n=(t=o.props).onBlur)||void 0===n||n.call(t,e)),o.resetInputValue(),o.state.open&&!1===o.props.open&&o.setOpen(!1),o.setState({focused:!1})},o.handleCalendarClickOutside=function(e){var t,n;o.props.inline||o.setOpen(!1),null===(n=(t=o.props).onClickOutside)||void 0===n||n.call(t,e),o.props.withPortal&&e.preventDefault()},o.handleChange=function(){for(var e,t,r,i,s,a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=a[0];if(!o.props.onChangeRaw||(o.props.onChangeRaw.apply(o,a),c&&"function"===typeof c.isDefaultPrevented&&!c.isDefaultPrevented())){o.setState({inputValue:(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:g1});var u=o.props,d=u.selectsRange,h=u.startDate,p=u.endDate,f=null!==(e=o.props.dateFormat)&&void 0!==e?e:n.defaultProps.dateFormat,m=null!==(t=o.props.strictParsing)&&void 0!==t?t:n.defaultProps.strictParsing,g=(null===c||void 0===c?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(d){var v=o.props.rangeSeparator,y=v.trim(),b=g.split(f.includes(y)?v:y,2).map(function(e){return e.trim()}),w=b[0],x=b[1],k=VZ(null!==w&&void 0!==w?w:"",f,o.props.locale,m),_=k?VZ(null!==x&&void 0!==x?x:"",f,o.props.locale,m):null,C=(null===h||void 0===h?void 0:h.getTime())!==(null===k||void 0===k?void 0:k.getTime()),S=(null===p||void 0===p?void 0:p.getTime())!==(null===_||void 0===_?void 0:_.getTime());if(!C&&!S)return;if(k&&d0(k,o.props))return;if(_&&d0(_,o.props))return;null===(i=(r=o.props).onChange)||void 0===i||i.call(r,[k,_],c)}else{var E=VZ(g,f,o.props.locale,m,null!==(s=o.props.selected)&&void 0!==s?s:void 0);!E&&g||o.setSelected(E,c,!0)}}},o.handleSelect=function(e,t,r){var i;if(!o.props.readOnly){var s=o.props,a=s.selectsRange,l=s.startDate,c=s.endDate,u=s.locale,d=s.swapRange,h=null!==(i=o.props.dateFormat)&&void 0!==i?i:n.defaultProps.dateFormat,p=!a||l&&!c&&(d||!F0(e,l));if(o.props.shouldCloseOnSelect&&!o.props.showTimeSelect&&p&&o.sendFocusBackToInput(),o.props.onChangeRaw){var f=WZ(e,{dateFormat:h,locale:u});o.props.onChangeRaw(t,{date:e,formattedDate:f})}o.setSelected(e,t,!1,r),o.props.showDateSelect&&o.setState({isRenderAriaLiveMessage:!0}),!o.props.shouldCloseOnSelect||o.props.showTimeSelect?o.setPreSelection(e):p&&o.setOpen(!1)}},o.setSelected=function(e,t,n,r){var i,s,a=e;if(o.props.showYearPicker){if(null!==a&&y0(nJ(a),o.props))return}else if(o.props.showMonthYearPicker){if(null!==a&&p0(a,o.props))return}else if(null!==a&&d0(a,o.props))return;var l=o.props,c=l.onChange,u=l.selectsRange,d=l.startDate,h=l.endDate,p=l.selectsMultiple,f=l.selectedDates,m=l.minTime,g=l.swapRange;if(!i0(o.props.selected,a)||o.props.allowSameDay||u||p)if(null!==a&&(!o.props.selected||n&&(o.props.showTimeSelect||o.props.showTimeSelectOnly||o.props.showTimeInput)||(a=YZ(a,{hour:sJ(o.props.selected),minute:aJ(o.props.selected),second:lJ(o.props.selected)})),n||!o.props.showTimeSelect&&!o.props.showTimeSelectOnly||m&&(a=YZ(a,{hour:m.getHours(),minute:m.getMinutes(),second:m.getSeconds()})),o.props.inline||o.setState({preSelection:a}),o.props.focusSelectedMonth||o.setState({monthSelectedIn:r})),u){var v=d&&!h,y=!d&&!!h,b=d&&h;!d&&!h?null===c||void 0===c||c([a,null],t):v?null===a?null===c||void 0===c||c([null,null],t):F0(a,d)?g?null===c||void 0===c||c([a,d],t):null===c||void 0===c||c([a,null],t):null===c||void 0===c||c([d,a],t):y&&(a&&F0(a,h)?null===c||void 0===c||c([a,h],t):null===c||void 0===c||c([a,null],t)),b&&(null===c||void 0===c||c([a,null],t))}else if(p){if(null!==a)if(null===f||void 0===f?void 0:f.length)if(f.some(function(e){return o0(e,a)})){var w=f.filter(function(e){return!o0(e,a)});null===c||void 0===c||c(w,t)}else null===c||void 0===c||c(RZ(RZ([],f,!0),[a],!1),t);else null===c||void 0===c||c([a],t)}else null===c||void 0===c||c(a,t);n||(null===(s=(i=o.props).onSelect)||void 0===s||s.call(i,a,t),o.setState({inputValue:null}))},o.setPreSelection=function(e){if(!o.props.readOnly){var t=hQ(o.props.minDate),n=hQ(o.props.maxDate),r=!0;if(e){var i=KZ(e);if(t&&n)r=s0(e,o.props.minDate,o.props.maxDate);else if(t){var s=KZ(o.props.minDate);r=CJ(e,s)||i0(i,s)}else if(n){var a=ZZ(o.props.maxDate);r=fQ(e,a)||i0(i,a)}}r&&o.setState({preSelection:e})}},o.toggleCalendar=function(){o.setOpen(!o.state.open)},o.handleTimeChange=function(e){var t,n;if(!o.props.selectsRange&&!o.props.selectsMultiple){var r=o.props.selected?o.props.selected:o.getPreSelection(),i=o.props.selected?e:YZ(r,{hour:sJ(e),minute:aJ(e)});o.setState({preSelection:i}),null===(n=(t=o.props).onChange)||void 0===n||n.call(t,i),o.props.shouldCloseOnSelect&&!o.props.showTimeInput&&(o.sendFocusBackToInput(),o.setOpen(!1)),o.props.showTimeInput&&o.setOpen(!0),(o.props.showTimeSelectOnly||o.props.showTimeSelect)&&o.setState({isRenderAriaLiveMessage:!0}),o.setState({inputValue:null})}},o.onInputClick=function(){var e,t;o.props.disabled||o.props.readOnly||o.setOpen(!0),null===(t=(e=o.props).onInputClick)||void 0===t||t.call(e)},o.onInputKeyDown=function(e){var t,n,r,i,s,a;null===(n=(t=o.props).onKeyDown)||void 0===n||n.call(t,e);var l=e.key;if(o.state.open||o.props.inline||o.props.preventOpenOnFocus){if(o.state.open){if(l===FZ.ArrowDown||l===FZ.ArrowUp){e.preventDefault();var c=o.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":o.props.showWeekPicker&&o.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':o.props.showFullMonthYearPicker||o.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',u=(null===(i=o.calendar)||void 0===i?void 0:i.containerRef.current)instanceof Element&&o.calendar.containerRef.current.querySelector(c);return void(u instanceof HTMLElement&&u.focus({preventScroll:!0}))}var d=UZ(o.state.preSelection);l===FZ.Enter?(e.preventDefault(),e.target.blur(),o.inputOk()&&o.state.lastPreSelectChange===v1?(o.handleSelect(d,e),!o.props.shouldCloseOnSelect&&o.setPreSelection(d)):o.setOpen(!1)):l===FZ.Escape?(e.preventDefault(),e.target.blur(),o.sendFocusBackToInput(),o.setOpen(!1)):l===FZ.Tab&&o.setOpen(!1),o.inputOk()||null===(a=(s=o.props).onInputError)||void 0===a||a.call(s,{code:1,msg:f1})}}else l!==FZ.ArrowDown&&l!==FZ.ArrowUp&&l!==FZ.Enter||null===(r=o.onInputClick)||void 0===r||r.call(o)},o.onPortalKeyDown=function(e){e.key===FZ.Escape&&(e.preventDefault(),o.setState({preventFocus:!0},function(){o.setOpen(!1),setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})}))},o.onDayKeyDown=function(e){var t,n,r,i,s,a,l=o.props,c=l.minDate,u=l.maxDate,d=l.disabledKeyboardNavigation,h=l.showWeekPicker,p=l.shouldCloseOnSelect,f=l.locale,m=l.calendarStartDay,g=l.adjustDateOnChange,v=l.inline;if(null===(n=(t=o.props).onKeyDown)||void 0===n||n.call(t,e),!d){var y=e.key,b=e.shiftKey,w=UZ(o.state.preSelection),x=function(e,t){var n=t;switch(e){case FZ.ArrowRight:n=h?TJ(t,1):X$(t,1);break;case FZ.ArrowLeft:n=h?IJ(t,1):PJ(t,1);break;case FZ.ArrowUp:n=IJ(t,1);break;case FZ.ArrowDown:n=TJ(t,1);break;case FZ.PageUp:n=b?gJ(t,1):uJ(t,1);break;case FZ.PageDown:n=b?mJ(t,1):cJ(t,1);break;case FZ.Home:n=GZ(t,f,m);break;case FZ.End:n=function(e){return WQ(e)}(t)}return n};if(y===FZ.Enter)return e.preventDefault(),o.handleSelect(w,e),void(!p&&o.setPreSelection(w));if(y===FZ.Escape)return e.preventDefault(),o.setOpen(!1),void(o.inputOk()||null===(i=(r=o.props).onInputError)||void 0===i||i.call(r,{code:1,msg:f1}));var k=null;switch(y){case FZ.ArrowLeft:case FZ.ArrowRight:case FZ.ArrowUp:case FZ.ArrowDown:case FZ.PageUp:case FZ.PageDown:case FZ.Home:case FZ.End:k=function(e,t){for(var n=e,r=!1,i=0,s=x(e,t);!r;){if(i>=40){s=t;break}c&&s<c&&(n=FZ.ArrowRight,s=d0(c,o.props)?x(n,s):c),u&&s>u&&(n=FZ.ArrowLeft,s=d0(u,o.props)?x(n,s):u),d0(s,o.props)?(n!==FZ.PageUp&&n!==FZ.Home||(n=FZ.ArrowRight),n!==FZ.PageDown&&n!==FZ.End||(n=FZ.ArrowLeft),s=x(n,s)):r=!0,i++}return s}(y,w)}if(k){if(e.preventDefault(),o.setState({lastPreSelectChange:v1}),g&&o.setSelected(k),o.setPreSelection(k),v){var _=rJ(w),C=rJ(k),S=nJ(w),E=nJ(k);_!==C||S!==E?o.setState({shouldFocusDayInline:!0}):o.setState({shouldFocusDayInline:!1})}}else null===(a=(s=o.props).onInputError)||void 0===a||a.call(s,{code:1,msg:f1})}},o.onPopperKeyDown=function(e){e.key===FZ.Escape&&(e.preventDefault(),o.sendFocusBackToInput(),o.setOpen(!1))},o.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),o.sendFocusBackToInput();var t=o.props,n=t.selectsRange,r=t.onChange;n?null===r||void 0===r||r([null,null],e):null===r||void 0===r||r(null,e),o.setState({inputValue:null})},o.clear=function(){o.onClearClick()},o.onScroll=function(e){"boolean"===typeof o.props.closeOnScroll&&o.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||o.setOpen(!1):"function"===typeof o.props.closeOnScroll&&o.props.closeOnScroll(e)&&o.setOpen(!1)},o.renderCalendar=function(){var t,r;return o.props.inline||o.isCalendarOpen()?e.createElement(l1,MZ({showMonthYearDropdown:void 0,ref:function(e){o.calendar=e}},o.props,o.state,{setOpen:o.setOpen,dateFormat:null!==(t=o.props.dateFormatCalendar)&&void 0!==t?t:n.defaultProps.dateFormatCalendar,onSelect:o.handleSelect,onClickOutside:o.handleCalendarClickOutside,holidays:O0(o.modifyHolidays()),outsideClickIgnoreClass:o.props.outsideClickIgnoreClass,onDropdownFocus:o.handleDropdownFocus,onTimeChange:o.handleTimeChange,className:o.props.calendarClassName,container:o.props.calendarContainer,handleOnKeyDown:o.props.onKeyDown,handleOnDayKeyDown:o.onDayKeyDown,setPreSelection:o.setPreSelection,dropdownMode:null!==(r=o.props.dropdownMode)&&void 0!==r?r:n.defaultProps.dropdownMode}),o.props.children):null},o.renderAriaLiveRegion=function(){var t,r,i=o.props.locale,s=null!==(t=o.props.dateFormat)&&void 0!==t?t:n.defaultProps.dateFormat,a=o.props.showTimeInput||o.props.showTimeSelect?"PPPPp":"PPPP";return r=o.props.selectsRange?"Selected start date: ".concat(WZ(o.props.startDate,{dateFormat:a,locale:i}),". ").concat(o.props.endDate?"End date: "+WZ(o.props.endDate,{dateFormat:a,locale:i}):""):o.props.showTimeSelectOnly?"Selected time: ".concat(WZ(o.props.selected,{dateFormat:s,locale:i})):o.props.showYearPicker?"Selected year: ".concat(WZ(o.props.selected,{dateFormat:"yyyy",locale:i})):o.props.showMonthYearPicker?"Selected month: ".concat(WZ(o.props.selected,{dateFormat:"MMMM yyyy",locale:i})):o.props.showQuarterYearPicker?"Selected quarter: ".concat(WZ(o.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):"Selected date: ".concat(WZ(o.props.selected,{dateFormat:a,locale:i})),e.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r)},o.renderDateInput=function(){var t,r,i=vG(o.props.className,((t={})[o.props.outsideClickIgnoreClass||n.defaultProps.outsideClickIgnoreClass]=o.state.open,t)),s=o.props.customInput||e.createElement("input",{type:"text"}),a=o.props.customInputRef||"ref";return(0,e.cloneElement)(s,((r={})[a]=function(e){o.input=e},r.value=o.getInputValue(),r.onBlur=o.handleBlur,r.onChange=o.handleChange,r.onClick=o.onInputClick,r.onFocus=o.handleFocus,r.onKeyDown=o.onInputKeyDown,r.id=o.props.id,r.name=o.props.name,r.form=o.props.form,r.autoFocus=o.props.autoFocus,r.placeholder=o.props.placeholderText,r.disabled=o.props.disabled,r.autoComplete=o.props.autoComplete,r.className=vG(s.props.className,i),r.title=o.props.title,r.readOnly=o.props.readOnly,r.required=o.props.required,r.tabIndex=o.props.tabIndex,r["aria-describedby"]=o.props.ariaDescribedBy,r["aria-invalid"]=o.props.ariaInvalid,r["aria-labelledby"]=o.props.ariaLabelledBy,r["aria-required"]=o.props.ariaRequired,r))},o.renderClearButton=function(){var t=o.props,n=t.isClearable,r=t.disabled,i=t.selected,s=t.startDate,a=t.endDate,l=t.clearButtonTitle,c=t.clearButtonClassName,u=void 0===c?"":c,d=t.ariaLabelClose,h=void 0===d?"Close":d,p=t.selectedDates,f=t.readOnly;return!n||f||null==i&&null==s&&null==a&&!(null===p||void 0===p?void 0:p.length)?null:e.createElement("button",{type:"button",className:vG("react-datepicker__close-icon",u,{"react-datepicker__close-icon--disabled":r}),disabled:r,"aria-label":h,onClick:o.onClearClick,title:l,tabIndex:-1})},o.state=o.calcInitialState(),o.preventFocusTimeout=void 0,o}return jZ(n,t),Object.defineProperty(n,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:a1,readOnly:!1,rangeSeparator:" - ",withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.componentDidUpdate=function(e,t){var n,r,o,i,s,a;e.inline&&(s=e.selected,a=this.props.selected,s&&a?rJ(s)!==rJ(a)||nJ(s)!==nJ(a):s!==a)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:N0(this.props.highlightDates)}),t.focused||i0(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&(null===(r=(n=this.props).onCalendarOpen)||void 0===r||r.call(n)),!0===t.open&&!1===this.state.open&&(null===(i=(o=this.props).onCalendarClose)||void 0===i||i.call(o)))},n.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,r=t.icon,o=t.calendarIconClassname,i=t.calendarIconClassName,s=t.toggleCalendarOnIconClick,a=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),e.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&e.createElement(c1,MZ({icon:r,className:vG(i,!i&&o,a&&"react-datepicker-ignore-onclickoutside")},s?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},n.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?e.createElement(h1,{enableTabLoop:this.props.enableTabLoop},e.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=e.createElement(u1,MZ({portalId:this.props.portalId},this.props),n)),e.createElement("div",null,this.renderInputContainer(),n)}return e.createElement(p1,MZ({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},n}(e.Component),g1="input",v1="navigate",y1=n(3536);const b1=function(e){const{showTimeInput:t,dateFormat:n,selected:r,onChange:o,isClearable:i}=e,s=e=>{let{value:t,onClick:n}=e;return(0,Et.jsx)("button",{type:"button",className:"form-control",style:{minWidth:140},onClick:n,children:t||"MM/DD/YYYY"})},a=(0,y1.range)(2010,(new Date).getFullYear()+10,1),l=["January","February","March","April","May","June","July","August","September","October","November","December"];return(0,Et.jsx)(m1,{showTimeInput:t,dateFormat:n,isClearable:i,customInput:(0,Et.jsx)(s,{}),renderCustomHeader:e=>{let{date:t,changeYear:n,changeMonth:r,decreaseMonth:o,increaseMonth:i,prevMonthButtonDisabled:s,nextMonthButtonDisabled:c}=e;return(0,Et.jsxs)("div",{style:{margin:5,display:"flex",justifyContent:"center"},children:[(0,Et.jsx)("button",{onClick:o,disabled:s,type:"button",children:"<"}),(0,Et.jsx)("select",{value:t.getFullYear(),onChange:e=>{let{target:{value:t}}=e;return n(t)},children:a.map(e=>(0,Et.jsx)("option",{value:e,children:e},e))}),(0,Et.jsx)("select",{value:l[t.getMonth()],onChange:e=>{let{target:{value:t}}=e;return r(l.indexOf(t))},children:l.map(e=>(0,Et.jsx)("option",{value:e,children:e},e))}),(0,Et.jsx)("button",{onClick:i,disabled:c,type:"button",children:">"})]})},selected:r,onChange:e=>o(e)})};var w1=n(5766),x1=n.n(w1);class k1 extends e.Component{constructor(e){super(e),this.state={ticketList:[],tenantVariables:{},questionsList:[],questionsAdded:[],emailsSent:{},question:0,userAnswers:[],currentGame:null,modal:!1,userGameHistory:[],users:[],gameName:"",startTime:new Date,endTime:new Date,loading:!0,wizardLocation:"first",showStats:!1,tierMessaging:[],itemsPerPage:0,itemsToShow:0,predictionsAnsweredModal:!1},this.handleChange=this.handleChange.bind(this),this.toggle=this.toggle.bind(this),this.togglePredictionsAnsweredModal=this.togglePredictionsAnsweredModal.bind(this)}componentDidMount(){this.tenantVariablesRef=yS(database,"tenantVariables"),this.tenantVariablesListener=AS(this.tenantVariablesRef,e=>{this.setState({tenantVariables:e.val()||{}})}),this.rewardsListRef=yS(database,"rewardsList"),this.rewardsListListener=AS(this.rewardsListRef,e=>{const t=e.val()||{},n=Object.keys(t).map(e=>(0,i.A)((0,i.A)({},t[e]),{},{key:e}));this.setState({ticketList:n})}),this.questionsListRef=yS(database,"questionsList"),this.questionsListListener=AS(this.questionsListRef,e=>{const t=e.val()||{},n=Object.keys(t).map(e=>(0,i.A)((0,i.A)({},t[e]),{},{key:e}));this.setState({questionsList:n})}),this.emailsSentRef=yS(database,"emailsSent"),this.emailsSentListener=AS(this.emailsSentRef,e=>{this.setState({emailsSent:e.val()})}),this.userAnswersRef=yS(database,"userAnswers"),this.userAnswersListener=AS(this.userAnswersRef,e=>{this.setState({userAnswerCount:e.size||0})}),this.currentGameRef=yS(database,"currentGame"),this.currentGameListener=AS(this.currentGameRef,e=>{const t=e.val()||{};this.setState({currentGame:t},()=>{t.id&&this.setGameToWatch(t.id)})}),this.setState({loading:!1})}componentWillUnmount(){this.userGameHistoryRef&&this.userGameHistoryListener&&DS(this.userGameHistoryRef,"value",this.userGameHistoryListener),DS(this.tenantVariablesRef,"value",this.tenantVariablesListener),DS(this.rewardsListRef,"value",this.rewardsListListener),DS(this.questionsListRef,"value",this.questionsListListener),DS(this.currentGameRef,"value",this.currentGameListener),DS(this.userAnswersRef,"value",this.userAnswersListener),DS(this.emailsSentRef,"value",this.emailsSentListener)}setGameToWatch(e){this.userGameHistoryRef&&this.userGameHistoryListener&&DS(this.userGameHistoryRef,"value",this.userGameHistoryListener),e&&(this.userGameHistoryRef=LS(yS(database,"userGameHistory"),MS(e),FS(e)),this.userGameHistoryListener=AS(this.userGameHistoryRef,e=>{this.setState({userGameHistory:e.size||0})}))}async createGame(){const e={},t=this.state.tenantVariables,n=wS(yS(database)).key,r=this.state.questionsAdded;let o=this.state.gameName.trim(),s=this.state.startTime,a=this.state.endTime,l=this.state.showScheduleTime,c=this.state.editAnswers;if(!o)return void QS.fire({title:"Hold On!",text:"The game needs a name!"});if(0===r.length)return void QS.fire({title:"Missing Prediction",text:"Go to the second tab to add predictions"});const u=[],d=[];for(let m=0;m<r.length+1;m++){let e={},n="You win!",r="Check your email for your prize!",o="Nice Job!",s="You got ".concat(m," correct! Unfortunately you didn't win a prize but try again soon!"),a="Oh No!",l="Nice try but no prize this time!  Try again soon!";m>0&&(r="You got ".concat(m," correct! Check your email for your prize!")),void 0!==this.state["winningWinnerHeader"+m]?n=this.state["winningWinnerHeader"+m]:t.defaultWinningHeader&&t.defaultWinningHeader.length>0&&(n=this.detectUseOfIndex(t.defaultWinningHeader,m)),void 0!==this.state["winningWinnerMessage"+m]?r=this.state["winningWinnerMessage"+m]:t.defaultWinningMessage&&t.defaultWinningMessage.length>0&&(r=this.detectUseOfIndex(t.defaultWinningMessage,m)),void 0!==this.state["winningMissedHeader"+m]?o=this.state["winningMissedHeader"+m]:t.defaultWinningMissHeader&&t.defaultWinningMissHeader.length>0&&(o=this.detectUseOfIndex(t.defaultWinningMissHeader,m)),void 0!==this.state["winningMissedMessage"+m]?s=this.state["winningMissedMessage"+m]:t.defaultWinningMissMessage&&t.defaultWinningMissMessage.length>0&&(s=this.detectUseOfIndex(t.defaultWinningMissMessage,m)),void 0!==this.state["losingHeader"+m]?a=this.state["losingHeader"+m]:t.defaultLosingHeader&&t.defaultLosingHeader.length>0&&(a=t.defaultLosingHeader),void 0!==this.state["losingMessage"+m]?l=this.state["losingMessage"+m]:t.defaultLosingMessage&&t.defaultLosingMessage.length>0&&(l=t.defaultLosingMessage),e.winningHeader=n,e.winningMessage=r,e.winningMissedHeader=o,e.winningMissedMessage=s,e.losingHeader=a,e.losingMessage=l;const c=this.state["rewardsAdded"+m]||[];if(0!==c.length&&!this.state.noPrizes){let e=0;const t={};for(const n in c){const r=wS(yS(database)).key,o=(0,i.A)({},c[n].reward),s=c[n].amount||"0";e+=parseInt(s)||0,t[r]=(0,i.A)((0,i.A)({},o),{},{amount:s,codes:c[n].codes||!1,allElsePrize:c[n].allElsePrize||!1,codesArray:c[n].codesArray||[],linksArray:c[n].linksArray||[],pinsArray:c[n].pinsArray||[],used:0})}t.totalRewards=e,t.totalRewardsUsed=0,t.randomPrizeOrder=this.state["randomOrder"+m]||!1,t.answerLevel=m,u.push(t)}d.push(e)}if(0===u.length&&!this.state.noPrizes)return void QS.fire({title:"Hold On!",text:"You have no prizes added to the game! You need at least 1"});if(e.scheduleInfo={},l){if(!s||!a)return void QS.fire({title:"Hold On!",text:"You have toggled on the Scheduling of the game but no start time or end time has been entered!"});if(s.getTime()<=Date.now())return void QS.fire({title:"Hold On!",text:"The start time cannot be before now"});if(s>=a)return void QS.fire({title:"Hold On!",text:"The game start time cannot be equal to or greater than the game end time!"});e.scheduleInfo.status="scheduled",e.scheduleInfo.performAt=s.getTime(),e.scheduleInfo.endAt=a.getTime()}else e.scheduleInfo.performAt=null,e.scheduleInfo.endAt=null;e.questions=r,e.active=!1,e.answered=!1,e.firstStart=!1,e.status=0,e.rotate=!1,e.rotationEnd=!1,e.screenToShow=0,e.questionToShow=0,e.editAnswers=c,e.gameType="prediction_schedule",e.rewards=u,e.timeStamp=Date.now(),e.id=n,e.gameName=o,e.tierMessaging=d;const h=this.state.currentGame||{};if(h.gameName){const e=(await CS(yS(database,"emailsSent"))).size||0;let t=this.state.userAnswerCount||0;h.users=this.state.userGameHistory,h.answers=t,h.prizesWon=e,h.tier_messages=this.state.tierMessaging||"",h.active=null,h.answered=null,h.prizeType=null,h.firstStart=null,h.showPercentages=null,h.timeMinutes=null}this.setState({loading:!0});const p=await this.sortPlayersForAdmin();await kS(yS(database,"userAnswersHistory/".concat(h.id)),p[0]);const f=wS(yS(database,"gamesList"));await kS(f,h),this.setState({currentGame:e,emailsSent:null,modal:!1,currentUserAnswersState:[],questionsAdded:[],editAnswers:!1},async()=>{for(let e=0;e<r.length+1;e++)this.setState({["ticket_select"+e]:null,["rewardAmount"+e]:null,["codes"+e]:null,["codesArray"+e]:null,["linksArray"+e]:null,["pinsArray"+e]:null,["ticket_select_all_else"+e]:null,["winningWinnerHeader"+e]:null,["winningWinnerMessage"+e]:null,["winningMissedHeader"+e]:null,["winningMissedMessage"+e]:null,["losingHeader"+e]:null,["losingMessage"+e]:null,["rewardsAdded"+e]:null});await kS(yS(database,"userAnswers"),null),await kS(yS(database,"emailsSent"),null),await kS(yS(database,"prizeWon"),null);const t=yS(database,"currentGame");await kS(t,e),console.log("gameId: ",n),this.setGameToWatch(n),this.setState({loading:!1})})}detectUseOfIndex(e,t){return e.replace(/%index%/g,t)}async stopGame(){await this.setState({loading:!0}),await kS(yS(database,"currentGame/active"),!1),await this.setState({loading:!1}),await $S.fire({title:"Game Stopped"})}async startGame(){await this.setState({loading:!0});const e={"currentGame/active":!0,"currentGame/firstStart":!0};e["currentGame/timeStamp"]=Date.now(),await _S(yS(database),e),await this.setState({loading:!1}),await $S.fire({title:"Game Started"})}endGame(){this.togglePredictionsAnsweredModal()}togglePredictionsAnsweredModal(){this.setState({predictionsAnsweredModal:!this.state.predictionsAnsweredModal})}setAnswerCorrect(e,t){const n=(0,i.A)({},this.state.currentGame||{}),r=n.questions||[];let o=r.findIndex(e=>e.id===t);-1!==o&&(r[o].answers.forEach(t=>{t.correct=t.id===e}),this.setState({currentGame:n},()=>{const e={};e["/currentGame/questions/".concat(o,"/answers")]=r[o].answers,_S(yS(database),e).then(()=>{console.log("Answers updated in the DB (partial update).")}).catch(e=>{console.error("Error updating answers:",e)})}))}async calculateWinners(){this.setState({loading:!0});const e=this.state.currentGame||{},t=(await CS(yS(database,"users"))).val()||{},n=e.questions||[],r=[];n.forEach(e=>{(e.answers||[]).forEach(e=>{e.correct&&r.push(e.id)})});const o=(await CS(yS(database,"userAnswers"))).val()||{},i=[];for(let a in o){const e=o[a],n=e.timeStamp;let s=0;for(let t in e)r.includes(e[t])&&s++;t[a]&&i.push({timeStamp:n,correctAnswers:s,email:t[a].email,name:t[a].name,uid:a})}const s=e.rewards||[];this.sendRewardsToPlayers(s,i)}async sendRewardsToPlayers(e,t){if(0===t.length)return $S.fire({title:"No Winners!"}),void this.setState({loading:!1});const n={rewardsLevels:e,currentGameUserAnswers:t,tenantVariables:this.state.tenantVariables};let r="https://us-central1-".concat("sqwad-rebate-app",".cloudfunctions.net/api/sendRewardsToFans");const o=await this.props.currentUser.getIdToken();fetch(r,{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer "+o},body:JSON.stringify(n)}).then(e=>{if(!e)throw new Error("No response");return e.json()}).then(async e=>{if(console.log(e),"finished"!==e.result)throw new Error("Unexpected result from function");{const e=await this.sortPlayersForAdmin(this.state.itemsToShow),[t,n]=e,r=(0,i.A)({},this.state.currentGame);r.answered=!0,await kS(yS(database,"currentGame/answered"),!0),this.setState({currentUserAnswersState:t,showLinkColumn:n,predictionsAnsweredModal:!1,currentGame:r,loading:!1}),$S.fire({title:"Emails Sent!"})}}).catch(e=>{console.error(e),QS.fire({title:"Something went wrong!",text:"Check your internet connection and try again!"}),this.setState({loading:!1})})}handleChange(e){const t=e.target,n="checkbox"===t.type?t.checked:t.value;this.setState({[t.name]:n})}toggle(){const e=(this.state.questionsAdded||[]).length;let t={modal:!this.state.modal,wizardLocation:"first",question:0,editAnswers:!1};for(let n=0;n<e;n++)t["rewardsAdded"+n]=[],t["ticket_select"+n]=null,t["rewardAmount"+n]=null,t["codes"+n]=null,t["codesArray"+n]=null,t["linksArray"+n]=null,t["pinsArray"+n]=null,t["ticket_select_all_else"+n]=null,t["winningWinnerHeader"+n]=null,t["winningWinnerMessage"+n]=null,t["winningMissedHeader"+n]=null,t["winningMissedMessage"+n]=null,t["losingHeader"+n]=null,t["losingMessage"+n]=null,t["rewardsAdded"+n]=null;this.setState(t)}async resetGame(){var e;const t=await JS.fire({title:"STOP!",text:"Are you sure? This will erase all game info. Only do this if no one has played yet!",confirmButtonText:"YES I WANT TO RESET THE GAME"});if(!t||!t.value)return;this.setState({loading:!0});let n=this.state.currentGame||{};Object.assign(n,{active:!1,answered:!1,rotationEnd:!1,startRotation:!1,screenToShow:0,rotate:!1,startQuestionToShowTimer:null,questions:n.questions.map(e=>(0,i.A)((0,i.A)({},e),{},{shown:!1,answers:(e.answers||[]).map(e=>(0,i.A)((0,i.A)({},e),{},{correct:!1}))})),rewards:(null!==(e=n.rewards)&&void 0!==e?e:[]).map(e=>(0,i.A)((0,i.A)({},e),{},{totalRewardsUsed:0},Object.keys(e).reduce((t,n)=>("object"===typeof e[n]&&(t[n]=(0,i.A)((0,i.A)({},e[n]),{},{used:0})),t),{})))});const r=await CS(LS(yS(database,"userGameHistory"),MS(n.id),FS(n.id)));if(r.exists()){const e=r.val()||{};for(const t in e)e[t]&&e[t][n.id]&&await kS(yS(database,"userGameHistory/".concat(t,"/").concat(n.id)),null)}if(n.id)try{await kS(yS(database,"currentGameFormFilled/".concat(n.id)),null)}catch(G1){console.log(G1)}try{await Promise.all([kS(yS(database,"emailsSent"),null),kS(yS(database,"userAnswers"),null),kS(yS(database,"prizeWon"),null),kS(yS(database,"currentGame/active"),!1),kS(yS(database,"currentGame/firstStart"),!1),kS(yS(database,"currentGame/answered"),!1),kS(yS(database,"currentGame/rotationEnd"),!1),kS(yS(database,"currentGame/startRotation"),!1),kS(yS(database,"currentGame/screenToShow"),0),kS(yS(database,"currentGame/rotate"),!1),kS(yS(database,"currentGame/status"),0),kS(yS(database,"currentGame/questionToShow"),0),kS(yS(database,"currentGame/questions"),n.questions)])}catch(G1){console.log(G1)}this.setState({question:0,currentUserAnswersState:[],currentGame:n,loading:!1})}async freezePicks(){await this.setState({loading:!0});const e=(0,i.A)({},this.state.currentGame||{}),t={};t["currentGame/status"]=1===e.status?0:1,await _S(yS(database),t),await this.setState({loading:!1})}navButtonClicked(e){const t=this.state.wizardLocation;"prev"===e?"second"===t?(this.setState({wizardLocation:"first"}),this.toggleWizardLocation("first","second","third","fourth")):"third"===t?(this.setState({wizardLocation:"second"}),this.toggleWizardLocation("second","first","third","fourth")):"fourth"===t?(this.setState({wizardLocation:"third"}),this.toggleWizardLocation("third","first","second","fourth")):this.setState({wizardLocation:"first"}):"first"===t?(this.setState({wizardLocation:"second"}),this.toggleWizardLocation("second","first","third","fourth")):"second"===t?(this.setState({wizardLocation:"third"}),this.toggleWizardLocation("third","first","second","fourth")):"third"===t?(this.setState({wizardLocation:"fourth"}),this.toggleWizardLocation("fourth","first","second","third")):this.setState({wizardLocation:"first"})}toggleWizardLocation(e,t,n,r){this.setState({wizardLocation:e}),document.getElementById(e).classList.add("active","show"),document.getElementById(t).classList.remove("active","show"),document.getElementById(n).classList.remove("active","show"),document.getElementById(r).classList.remove("active","show"),document.getElementById(e+"1").classList.add("active","show"),document.getElementById(t+"1").classList.remove("active","show"),document.getElementById(n+"1").classList.remove("active","show"),document.getElementById(r+"1").classList.remove("active","show")}async switchStatsPrizes(){if(this.state.showStats)document.getElementById("showPrizes").classList.remove("active"),document.getElementById("showStats").classList.add("active"),this.setState({showStats:!1});else{document.getElementById("showPrizes").classList.add("active"),document.getElementById("showStats").classList.remove("active"),this.setState({loading:!0});const[e,t]=await this.sortPlayersForAdmin();this.setState({showStats:!0,loading:!1,currentUserAnswersState:e,showLinkColumn:t})}}removeFromToQuestionAddArray(e){const t=[...this.state.questionsAdded];t.splice(e,1),this.setState({questionsAdded:t})}addQuestionToLocalArray(){let e=null;const t=[...this.state.questionsAdded],n=this.state.questionsList;t.some(e=>e.key===this.state.question_select)?QS.fire({title:"Question Already In Game!",text:"This game already includes this question. Try another one."}):(n.forEach(t=>{t.key===this.state.question_select&&(e=(0,i.A)((0,i.A)({},t),{},{id:t.key}))}),e&&(t.push(e),this.setState({questionsAdded:t})))}getSnapshotFromEndpoint(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=yS(database,e);return n&&(r=LS(r,MS(n))),t&&(r=LS(r,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new PS(e)}(t))),CS(r)}async sortPlayersForAdmin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[n,r,o,i]=await Promise.all([this.getSnapshotFromEndpoint("currentGame"),this.getSnapshotFromEndpoint("userAnswers",e,t,"timeStamp"),this.getSnapshotFromEndpoint("emailsSent"),this.getSnapshotFromEndpoint("users")]),s=n.val()||{},a=r.val()||{},l=o.val()||{},c=i.val()||{},u=[];(s.questions||[]).forEach(e=>(e.answers||[]).forEach(e=>e.correct&&u.push(e.id)));const d=[];let h=!1;return Object.entries(a).forEach(e=>{var t;let[n,r]=e;const o=null===(t=c[n])||void 0===t?void 0:t.email;let i=n;KS(o)&&(i=btoa(o));const s=l[i]||l[n]||{};let a=s.name||"",p=s.code||"",f=s.link||"";f&&(h=!0);const m=r.timeStamp;let g=0;Object.values(r).forEach(e=>{u.includes(e)&&g++}),d.push({uid:n,email:o,correctAnswers:g,rewardSent:a,code:p,link:f,timeStamp:m})}),d.sort((e,t)=>t.correctAnswers!==e.correctAnswers?t.correctAnswers-e.correctAnswers:e.timeStamp-t.timeStamp),[d,h]}async downloadUsers(){this.setState({loading:!0});const[e,t,n]=await Promise.all([CS(yS(database,"users")),CS(yS(database,"userAnswers")),CS(yS(database,"currentGame"))]),r=e.val()||{},o=t.val()||{},i=(n.val()||{}).questions||[],[s]=await this.sortPlayersForAdmin(),a=i.map(e=>e.questionText),l=[["Email","First Name","Last Name","Other First Name","Other Last Name","Zip Code","Street","City","State","Address","Birthday","Phone Number","Social Handle","Fan Response Text","Fan Response Text 2","Short Text Response 1","Short Text Response 2","Custom Dropdown","Opt-In","Opt-In 2","Opt-In 3","Opt-In 4","YesNoQuestions","YesExplanation","YesNoQuestions2","YesExplanation2","YesNoQuestions3","YesExplanation3","How They Heard","User Image","UTM Campaign","UTM Medium","UTM Source","SRC Code","Number of Correct Answers","Reward","Code","Link","Last Sign In","Sign Up Time","Answer Time","Redeemed",...a]];s.forEach(e=>{const t=r[e.uid]||{},n=WS(t.name),s=WS(t.otherName),a=[e.email||e.uid||"",n[0]||"",n[1]||"",s[0]||"",s[1]||"",t.zipCode||"",t.street||"",t.city||"",t.state||"",t.address||"",t.birthday||"",t.phoneNumber||"",t.socialHandle||"",t.fanResponseToCollectTextInput||"",t.fanResponseToCollectTextInput2||"",t.textInputOne||"",t.textInputTwo||"",t.customDropdownInput||"",t.optIn||"",t.optInTwo||"",t.optInThree||"",t.optInFour||"",t.yesNoQuestions||"",t.yesExplanation||"",t.yesNoQuestions2||"",t.yesExplanation2||"",t.yesNoQuestions3||"",t.yesExplanation3||"",t.howYouHeard||"",t.userImage||"",t.utmCampaign||"",t.utmMedium||"",t.utmSource||"",t.srcCode||"",e.correctAnswers||"",e.rewardSent||"",e.code||"",e.link||"",t.lastSignIn?GS(t.lastSignIn):"",t.signUpTime?GS(t.signUpTime):"",e.timeStamp?GS(e.timeStamp):"",e.isRedeemed?"true":""],c=i.map(t=>{const n=(o[e.uid]||{})[t.id],r=(t.answers||[]).find(e=>e.id===n);return r?r.answerText:""});l.push([...a,...c])});const c=l.slice(1),u=l[0].map((e,t)=>c.some(e=>{return!(void 0===(n=e[t])||null===n||""===n);var n})),d=l.map(e=>e.filter((e,t)=>u[t])),h=x1().unparse(d),p=new Blob([h],{type:"text/csv;charset=utf-8;"}),f=URL.createObjectURL(p),m=document.createElement("a");m.href=f,m.download="users_".concat((new Date).toISOString().slice(0,10),".csv"),m.click(),URL.revokeObjectURL(f),this.setState({loading:!1})}addRewardToLocalArray(e){const t=this.state["rewardAmount"+e];let n=this.state["allElsePrize"+e];0===e&&(n=!0);const r=this.state["ticket_select"+e],o=this.state["codes"+e],i=this.state["links"+e];let s=this.state["codesArray"+e]||"",a=this.state["linksArray"+e]||"",l=this.state["pinsArray"+e]||"";if(s=s.replace(/\n/g," "),a=a.replace(/\n/g," "),l=l.replace(/\n/g," "),!r)return void QS.fire({title:"Missing field!",text:"Must select a reward before adding!"});if(!n&&(!t||t<1))return void QS.fire({title:"Missing Amount",text:"Missing reward or amount of reward.  Need a valid amount for this prize tier."});let c=[],u=[],d=[];if(o&&!n){if(!s.trim())return void QS.fire({title:"Hold On!",text:"Must enter codes or uncheck codes box!"});if(c=XS(s),d=XS(l),Array.isArray(c)&&c.length!==parseInt(t,10))return void QS.fire({title:"Codes not equal!",text:"# of codes must equal the number of rewards. Detected ".concat(c.length," vs. ").concat(t)});if(Array.isArray(d)&&0!==d.length&&d.length!==parseInt(t,10))return void QS.fire({title:"Pins not equal!",text:"# of pins must equal the number of rewards. Detected ".concat(d.length," vs. ").concat(t)});if(!Array.isArray(c)&&c.inValidUrl)return void QS.fire({title:"Invalid Code",text:"".concat(c.inValidUrl," is not valid")})}if(i&&!n){if(!a.trim())return void QS.fire({title:"Hold on!",text:"Must enter links or uncheck links box!"});if(u=XS(a,!0),u.inValidUrl)return void QS.fire({title:"Invalid URL Detected!",text:"Links must be valid. In this case: ".concat(u.inValidUrl," is not valid")});if(Array.isArray(u)&&u.length!==parseInt(t,10))return void QS.fire({title:"Links not equal!",text:"# of links must equal the number of rewards. Found ".concat(u.length," vs. ").concat(t)})}let h=null;if((this.state.ticketList||[]).forEach(e=>{e.key===r&&(h={reward:e,allElsePrize:n,amount:n?null:t,codes:!n&&o,links:!n&&i,codesArray:n?null:c,linksArray:n?null:u,pinsArray:n?null:d})}),!h)return void QS.fire({title:"Prize not found!",text:"Could not find that reward in the ticketList"});let p=[...this.state["rewardsAdded"+e]||[]];p.some(e=>e.reward.key===r)?QS.fire({title:"Prize already added!",text:"You have already added this prize to this tier."}):p.some(e=>e.allElsePrize)&&n?QS.fire({title:"Hold On!",text:"Cannot add two All Else Prizes to the same tier."}):(p.push(h),this.setState({["rewardsAdded"+e]:p}))}removeFromToAddArray(e,t){let n=[...this.state["rewardsAdded"+t]||[]];n.splice(e,1),this.setState({["rewardsAdded"+t]:n})}async searchFirebaseData(e){this.setState({loading:!0});let t=this.state.itemsPerPage;e&&(t=null);const n=await this.sortPlayersForAdmin(t,e);this.setState({loading:!1,currentUserAnswersState:n[0],showLinkColumn:n[1]})}render(){var e,t,n,r;let o,i,s=this.state.currentGame||null,a=[],l=[],c=0,u=this.state.userAnswerCount||0,d=this.state.currentUserAnswersState||[],h=!1,p=null,f=null,m=null,g=null,v="completed";if(s&&s.id){a=s.questions||[],c=s.status,i=!0;let e=0;for(let t in a){const n=a[t];if(n&&n.answers)for(const t in n.answers){n.answers[t].correct&&e++}}e!==a.length&&(i=!1),l=s.rewards||[],o=s.active,(s.answered||this.state.emailsSent||s.rotationEnd&&0===l.length||"scheduled"===s.gameTiming)&&(h=!0),(s.answered||this.state.emailsSent||s.rotationEnd)&&(s.answered=!0),s.scheduleInfo&&(p=new Date(s.scheduleInfo.performAt).toLocaleDateString(),f=new Date(s.scheduleInfo.performAt).toLocaleTimeString(),g=new Date(s.scheduleInfo.endAt).toLocaleDateString(),m=new Date(s.scheduleInfo.endAt).toLocaleTimeString(),v=s.scheduleInfo.status)}else s&&!s.id&&(s=null);const y=this;return(0,Et.jsxs)("div",{className:"admin-wrapper",children:[(0,Et.jsx)("div",{className:"loading-screen",style:{display:this.state.loading?"block":"none"}}),(0,Et.jsx)(za,{}),(0,Et.jsx)(Va,{}),(0,Et.jsxs)("div",{className:"admin-main-panel",children:[(0,Et.jsx)("div",{className:"container",style:{padding:"20px",backgroundColor:"#e3eaef"},children:(0,Et.jsxs)("div",{className:"row",children:[(0,Et.jsx)("div",{className:"col-md-2",style:{display:s&&s.answered?"":"none"},children:(0,Et.jsx)("div",{className:"card",style:{backgroundColor:"#fe3b4b",width:"100%",textAlign:"center",height:"50px"},children:(0,Et.jsx)("p",{style:{lineHeight:"50px"},children:"Game Ended"})})}),s&&!s.answered&&(0,Et.jsxs)("div",{className:"col-md-3",children:[(0,Et.jsx)("div",{className:"card",style:{backgroundColor:"#00c78c",width:"100%",textAlign:"center",height:"50px",display:o?"":"none",float:"left"},children:(0,Et.jsx)("p",{style:{lineHeight:"50px"},children:"Predictions Are Live"})}),(0,Et.jsx)("div",{className:"card",style:{backgroundColor:"#fe3b4b",width:"100%",textAlign:"center",height:"50px",display:o?"none":"",float:"left"},children:(0,Et.jsx)("p",{style:{lineHeight:"50px"},children:"Predictions Are Not Live"})})]}),s&&!s.answered&&(0,Et.jsxs)("center",{className:"col-md-1",style:{color:"black"},children:["Advanced",(0,Et.jsx)("input",{id:"advanceSettings",name:"advanceSettings",type:"checkbox",checked:this.state.advanceSettings,onChange:this.handleChange})]}),s&&!s.answered&&(0,Et.jsxs)("div",{className:"col-md-3",children:[(0,Et.jsx)("button",{onClick:()=>this.freezePicks(),className:"btn btn-primary btn-lg start-game-button",style:{display:s.active&&2!==c&&this.state.advanceSettings?"":"none",float:"left",height:"52px",marginBottom:10},children:1!==c?"Freeze":"Unfreeze"}),(0,Et.jsx)("button",{onClick:()=>this.startGame(),className:"btn btn-primary btn-lg start-game-button",style:{display:o?"none":"",float:"left",height:"52px"},children:"Start Predictions"}),(0,Et.jsx)("button",{onClick:()=>this.stopGame(),className:"btn btn-primary btn-lg end-game-button",style:{display:o&&this.state.advanceSettings?"":"none",float:"left",height:"52px"},children:"End Predictions"})]}),(0,Et.jsx)("div",{className:"col-md-2",children:(0,Et.jsx)("button",{onClick:()=>this.endGame(),className:"btn btn-primary btn-lg",style:{fontSize:"0.8rem",display:s&&!h?"":"none",float:"left",height:"52px"},children:"Answer"})}),(0,Et.jsxs)("div",{className:"col-md-3",children:[(0,Et.jsx)("button",{onClick:()=>this.resetGame(),className:"btn btn-outline-danger btn-sm",style:{display:s&&!s.key?"":"none",marginTop:"7px",float:"right"},children:"Reset Game"}),(0,Et.jsx)("button",{onClick:()=>this.toggle(),className:"btn btn-primary btn-lg create-game-button",style:{float:"right",marginRight:"5px"},children:"New Game"})]})]})}),(0,Et.jsx)("center",{style:{display:s?"block":"none"},children:(0,Et.jsx)("div",{className:"container",children:(0,Et.jsxs)("div",{className:"row",children:[p&&(0,Et.jsx)("div",{className:"col-md-4",style:{color:"black",border:"solid 1px #d3d3d3",margin:10,borderRadius:5},children:(0,Et.jsxs)("div",{className:"row",children:[(0,Et.jsxs)("div",{className:"col-md-6",children:[(0,Et.jsx)("u",{style:{color:"#353839"},children:"Starts"}),(0,Et.jsx)("br",{}),null!==(e=s)&&void 0!==e&&null!==(t=e.scheduleInfo)&&void 0!==t&&t.performAt?(0,Et.jsxs)("span",{style:{fontSize:18},children:[p,(0,Et.jsx)("br",{}),f]}):(0,Et.jsx)("span",{style:{fontSize:18},children:"No Scheduled Start"})]}),(0,Et.jsxs)("div",{className:"col-md-6",children:[(0,Et.jsx)("u",{style:{color:"#353839"},children:"Ends"}),(0,Et.jsx)("br",{}),null!==(n=s)&&void 0!==n&&null!==(r=n.scheduleInfo)&&void 0!==r&&r.endAt?(0,Et.jsxs)("span",{style:{fontSize:18},children:[g,(0,Et.jsx)("br",{}),m]}):(0,Et.jsx)("span",{style:{fontSize:18},children:"No Scheduled End"})]})]})}),(0,Et.jsx)("div",{className:"col-md-2",style:{color:"black",border:"solid 1px #d3d3d3",marginTop:10,marginBottom:10,marginLeft:10,borderRadius:5},children:(0,Et.jsx)("div",{className:"row",children:(0,Et.jsxs)("div",{className:"col-md-12",style:{textAlign:"center"},children:[(0,Et.jsx)("span",{style:{fontSize:12},children:"Answers"}),(0,Et.jsx)("footer",{className:"value-text",children:u})]})})})]})})}),(0,Et.jsx)("div",{style:{display:s?"":"none"},children:(0,Et.jsxs)("div",{className:"card-body",children:[(0,Et.jsxs)("ul",{className:"nav nav-tabs nav-justified nav-bordered mb-3",children:[(0,Et.jsx)("li",{className:"nav-item",onClick:()=>this.switchStatsPrizes(),children:(0,Et.jsxs)("a",{href:"#","data-toggle":"tab","aria-expanded":"false",className:"nav-link active",id:"showStats",style:{backgroundColor:"#fafbfe"},children:[(0,Et.jsx)("i",{className:"mdi mdi-home-variant d-lg-none d-block mr-1"}),(0,Et.jsx)("span",{className:"d-none d-lg-block",children:"Game Details"})]})}),(0,Et.jsx)("li",{className:"nav-item",onClick:()=>this.switchStatsPrizes(),children:(0,Et.jsxs)("a",{href:"#","data-toggle":"tab","aria-expanded":"true",className:"nav-link",id:"showPrizes",style:{backgroundColor:"#fafbfe"},children:[(0,Et.jsx)("i",{className:"mdi mdi-account-circle d-lg-none d-block mr-1"}),(0,Et.jsx)("span",{className:"d-none d-lg-block",children:"Results"})]})})]}),(0,Et.jsxs)("div",{style:{display:this.state.showStats?"block":"none",marginLeft:10},children:[(0,Et.jsxs)("div",{className:"row",children:[(0,Et.jsx)("div",{className:"col-6",children:(0,Et.jsxs)("div",{className:"export-button-styles btn btn-primary btn-lg download-button",onClick:()=>this.downloadUsers(),children:[(0,Et.jsx)("span",{className:"fa fa-arrow-circle-down"})," Download Participants"]})}),(0,Et.jsx)("div",{className:"col-6 align-self-end",children:(0,Et.jsx)("input",{style:{minWidth:350,float:"right"},id:"searchQuery",name:"searchQuery",className:"form-control",placeholder:"Filter By Prize Name (Case Sensitive)",type:"text",onChange:()=>{clearTimeout(this.timeoutId),this.timeoutId=setTimeout(()=>{let e=document.getElementById("searchQuery").value;this.searchFirebaseData(e)},500)}})})]}),(0,Et.jsx)("div",{style:{height:"10px",width:"100%"}}),(0,Et.jsx)("table",{className:"table table-striped",style:{color:"black"},children:(0,Et.jsxs)("tbody",{children:[(0,Et.jsxs)("tr",{children:[(0,Et.jsx)("th",{children:"Email"}),(0,Et.jsx)("th",{children:"Number Correct"}),(0,Et.jsx)("th",{children:"Time Stamp"}),(0,Et.jsx)("th",{children:"Place"}),(0,Et.jsx)("th",{children:"Reward Sent"}),(0,Et.jsx)("th",{children:"Code"}),this.state.showLinkColumn&&(0,Et.jsx)("th",{children:"Link"})]}),d.map((e,t)=>(0,Et.jsxs)("tr",{children:[(0,Et.jsx)("td",{style:{fontFamily:"Open Sans"},children:e.email||e.uid}),(0,Et.jsx)("td",{style:{fontFamily:"Open Sans"},children:e.correctAnswers}),(0,Et.jsx)("td",{style:{fontFamily:"Open Sans"},children:GS(e.timeStamp)}),(0,Et.jsx)("td",{style:{fontFamily:"Open Sans"},children:t+1}),(0,Et.jsx)("td",{style:{fontFamily:"Open Sans"},children:e.rewardSent||"NONE"}),(0,Et.jsx)("td",{style:{fontFamily:"Open Sans"},children:e.code||"NONE"}),this.state.showLinkColumn&&(0,Et.jsx)("td",{style:{fontFamily:"Open Sans"},children:e.link||"NONE"})]},t))]})})]}),(0,Et.jsx)("div",{style:{display:this.state.showStats?"none":"block"},children:(0,Et.jsx)("div",{className:"container",children:(0,Et.jsxs)("div",{className:"row",children:[(0,Et.jsxs)("div",{className:"col-md-6",style:{textAlign:"center"},children:[(0,Et.jsx)("h4",{style:{color:"black"},children:"Rewards"}),l&&l.length>0?(0,Et.jsx)(mG.nD,{style:{margin:10},children:l.sort((e,t)=>e.answerLevel-t.answerLevel).map((e,t)=>{const n=[];let r=null;return Object.keys(e).forEach(t=>{const o=e[t];o&&"object"===typeof o&&o.rewardName&&(o.allElsePrize?r=o:n.push(o))}),(0,Et.jsxs)(mG.As,{className:"blackBackgroundColor",bodyClassName:"changeBackgroundColor",title:"".concat(e.answerLevel," correct"),expanded:0===t,children:[n.map((e,t)=>(0,Et.jsx)("div",{style:{color:"black"},children:(0,Et.jsxs)("span",{children:[e.amount,", ",e.rewardName]})},t)),r&&(0,Et.jsxs)("div",{style:{color:"black"},children:[n.length>0&&(0,Et.jsx)("br",{}),(0,Et.jsxs)("span",{children:[(0,Et.jsx)("span",{style:{color:"grey",fontWeight:100,fontFamily:"sans-serif"},children:"Everyone Else Wins"})," ",r.rewardName]})]})]},t)})}):(0,Et.jsx)("span",{style:{color:"black"},children:"No Rewards Added"})]}),(0,Et.jsxs)("div",{className:"col-md-6 justify-content-center",style:{textAlign:"center"},children:[(0,Et.jsx)("h4",{style:{color:"black"},children:"Predictions"}),(0,Et.jsx)(fG.FN,{style:{backgroundColor:"white"},showArrows:!0,showStatus:!1,showIndicators:!1,showThumbs:!1,selectedItem:this.state.selectedItem,onChange:e=>{this.setState({selectedItem:e})},children:a.map((e,t)=>(0,Et.jsxs)("div",{style:{backgroundColor:"#FAFBFE",padding:10},children:[(0,Et.jsxs)("p",{style:{color:"black"},children:[t+1,"/",a.length]}),(0,Et.jsx)("p",{style:{color:"black"},children:e.questionText}),(0,Et.jsx)("ol",{style:{textAlign:"left"},children:e.answers.map((e,t)=>e.correct?(0,Et.jsx)("li",{style:{color:"green"},children:e.answerText},t):(0,Et.jsx)("li",{style:{color:"black"},children:e.answerText},t))})]},e.id||t))})]})]})})})]})})]}),(0,Et.jsx)(Mb,{isOpen:this.state.modal,toggle:this.toggle,style:{width:"90%"},id:"myModal",children:(0,Et.jsx)("div",{className:"card",children:(0,Et.jsxs)("div",{className:"card-body",children:[(0,Et.jsx)("h4",{className:"header-title mb-3",children:" Create Game"}),(0,Et.jsxs)("div",{id:"rootwizard",children:[(0,Et.jsxs)("ul",{className:"nav nav-pills bg-dark-light nav-justified mb-3",children:[(0,Et.jsx)("li",{className:"nav-item",onClick:()=>this.toggleWizardLocation("first","second","third","fourth"),children:(0,Et.jsxs)("a",{href:"#",className:"nav-link rounded-0 pt-2 pb-2 active show",id:"first1",children:[(0,Et.jsx)("span",{className:"fa fa-pencil-square-o"}),(0,Et.jsx)("span",{className:"d-none d-sm-inline",children:" The Basics"})]})}),(0,Et.jsx)("li",{className:"nav-item",onClick:()=>this.toggleWizardLocation("second","first","third","fourth"),children:(0,Et.jsxs)("a",{href:"#",className:"nav-link rounded-0 pt-2 pb-2",id:"second1",children:[(0,Et.jsx)("span",{className:"fa fa-question"}),(0,Et.jsx)("span",{className:"d-none d-sm-inline",children:" Add Predictions"})]})}),(0,Et.jsx)("li",{className:"nav-item",onClick:()=>this.toggleWizardLocation("third","first","second","fourth"),children:(0,Et.jsxs)("a",{href:"#",className:"nav-link rounded-0 pt-2 pb-2",id:"third1",children:[(0,Et.jsx)("span",{className:"fa fa-trophy"}),(0,Et.jsx)("span",{className:"d-none d-sm-inline",children:" Add Prizes"})]})}),(0,Et.jsx)("li",{className:"nav-item",onClick:()=>this.toggleWizardLocation("fourth","first","second","third"),children:(0,Et.jsxs)("a",{href:"#",className:"nav-link rounded-0 pt-2 pb-2",id:"fourth1",children:[(0,Et.jsx)("span",{className:"fa fa-sign-out"}),(0,Et.jsx)("span",{className:"d-none d-sm-inline",children:" Finish"})]})})]}),(0,Et.jsxs)("div",{className:"tab-content mb-0 b-0",style:{fontFamily:"Roboto"},children:[(0,Et.jsx)("div",{className:"tab-pane active show",id:"first",children:(0,Et.jsxs)("form",{id:"accountForm",className:"form-horizontal",children:[(0,Et.jsx)("div",{className:"row",children:(0,Et.jsx)("div",{className:"col-12",children:(0,Et.jsxs)("div",{className:"form-group row mb-3",children:[(0,Et.jsxs)("label",{className:"col-md-3 col-form-label",htmlFor:"gameName",children:[" ","Game Name"]}),(0,Et.jsx)("div",{className:"col-md-9",children:(0,Et.jsx)("input",{id:"gameName",name:"gameName",type:"text",className:"form-control",value:this.state.gameName,onChange:this.handleChange,placeholder:"12/11 vs MonStars"})})]})})}),!this.state.gameTiming&&(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"showScheduleTime",children:"Set Schedule Time"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("input",{type:"checkbox",checked:this.state.showScheduleTime,id:"showScheduleTime",name:"showScheduleTime",onChange:this.handleChange})]}),(this.state.showScheduleTime||"scheduled"===this.state.gameTiming)&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"form-group row mb-3",children:[(0,Et.jsxs)("label",{className:"col-md-3 col-form-label",htmlFor:"startTime",children:[" ","Set Start Time"]}),(0,Et.jsx)("div",{className:"col-md-9",children:(0,Et.jsx)(b1,{showTimeInput:!0,dateFormat:"Pp",selected:this.state.startTime,onChange:e=>this.setState({startTime:e})})})]}),(0,Et.jsxs)("div",{className:"form-group row mb-3",style:{display:"manual"!==this.state.gameTiming?"flex":"none"},children:[(0,Et.jsx)("label",{className:"col-md-3 col-form-label",htmlFor:"endTime",children:"scheduled"===this.state.gameTiming?"Set Answer Time":"Set Stop Time"}),(0,Et.jsx)("div",{className:"col-md-9",children:(0,Et.jsx)(b1,{showTimeInput:!0,dateFormat:"Pp",selected:this.state.endTime,onChange:e=>this.setState({endTime:e})})})]})]})]})}),(0,Et.jsxs)("div",{className:"tab-pane",id:"second",children:[(0,Et.jsxs)("div",{className:"form-group row mb-3",children:[(0,Et.jsxs)("label",{className:"col-md-3 col-form-label",htmlFor:"name3",children:[" ","Select Prediction"]}),(0,Et.jsx)("div",{className:"col-md-9",children:(0,Et.jsxs)("select",{className:"form-control",name:"question_select",id:"question_select",value:this.state.question_select,onChange:this.handleChange,children:[(0,Et.jsx)("option",{}),this.state.questionsList.map((e,t)=>(0,Et.jsx)("option",{value:e.key,children:e.questionText},t))]})})]}),(0,Et.jsx)("div",{className:"form-group mb-3",children:(0,Et.jsx)("ol",{style:{listStylePosition:"inside",textAlign:"left"},className:"offset-md-0 col-md-10",children:this.state.questionsAdded.map((e,t)=>(0,Et.jsx)("div",{className:"form-group",children:(0,Et.jsxs)("li",{children:[e.questionText," ",(0,Et.jsx)("span",{style:{float:"right"},className:"fa fa-trash-o",onClick:()=>this.removeFromToQuestionAddArray(t)})]})},t))})}),(0,Et.jsx)("div",{className:"form-group row mb-3",align:"center",children:(0,Et.jsx)("div",{className:"col-md-12",children:(0,Et.jsx)("button",{className:"btn btn-primary btn-admin",onClick:()=>this.addQuestionToLocalArray(),children:"Add Prediction"})})})]}),(0,Et.jsx)("div",{className:"tab-pane fade",id:"third",children:(0,Et.jsxs)("div",{className:"form-horizontal",children:[(0,Et.jsx)("div",{className:"row",children:(0,Et.jsx)("div",{className:"col-12",style:{textAlign:"center"},children:(0,Et.jsxs)("div",{className:"form-check",children:[(0,Et.jsx)("input",{value:this.state.noPrizes,className:"form-check-input",id:"noPrizes",name:"noPrizes",type:"checkbox",checked:this.state.noPrizes,onChange:this.handleChange}),(0,Et.jsx)("label",{className:"form-check-label",htmlFor:"codes",children:"No Prizes"})]})})}),(0,Et.jsx)("div",{className:"row",children:(0,Et.jsx)("div",{className:"col-12",children:(0,Et.jsx)(mG.nD,{style:{margin:10},children:[...Array(this.state.questionsAdded.length+1).keys()].map(e=>{let t="You win!",n="Check your email for your prize!",r="Nice Job!",o="You got ".concat(e," correct! Unfortunately you didn't win a prize but try again soon!"),i="Oh No!",s="Nice try but no prize this time!  Try again soon!";const a=this.state.tenantVariables;return e>0&&(n="You got ".concat(e," correct! Check your email for your prize!")),void 0!==this.state["winningWinnerHeader"+e]?t=this.state["winningWinnerHeader"+e]:a.defaultWinningHeader&&a.defaultWinningHeader.length>0&&(t=this.detectUseOfIndex(a.defaultWinningHeader,e)),void 0!==this.state["winningWinnerMessage"+e]?n=this.state["winningWinnerMessage"+e]:a.defaultWinningMessage&&a.defaultWinningMessage.length>0&&(n=this.detectUseOfIndex(a.defaultWinningMessage,e)),void 0!==this.state["winningMissedHeader"+e]?r=this.state["winningMissedHeader"+e]:a.defaultWinningMissHeader&&a.defaultWinningMissHeader.length>0&&(r=this.detectUseOfIndex(a.defaultWinningMissHeader,e)),void 0!==this.state["winningMissedMessage"+e]?o=this.state["winningMissedMessage"+e]:a.defaultWinningMissMessage&&a.defaultWinningMissMessage.length>0&&(o=this.detectUseOfIndex(a.defaultWinningMissMessage,e)),void 0!==this.state["losingHeader"+e]?i=this.state["losingHeader"+e]:a.defaultLosingHeader&&a.defaultLosingHeader.length>0&&(i=a.defaultLosingHeader),void 0!==this.state["losingMessage"+e]?s=this.state["losingMessage"+e]:a.defaultLosingMessage&&a.defaultLosingMessage.length>0&&(s=a.defaultLosingMessage),(0,Et.jsxs)(mG.As,{className:"if-number-correct-item",title:"If a fan answers ".concat(e," correct"),expanded:0===e,children:[!this.state.noPrizes&&(0,Et.jsxs)("span",{children:[(0,Et.jsxs)("div",{className:"form-group row mb-3",children:[(0,Et.jsxs)("label",{className:"col-md-3 col-form-label",htmlFor:"ticket_select".concat(e),children:[" ","Select Prize"]}),(0,Et.jsx)("div",{className:"col-md-6",children:(0,Et.jsxs)("select",{className:"form-control",name:"ticket_select".concat(e),id:"ticket_select".concat(e),value:this.state["ticket_select"+e]||"",onChange:this.handleChange,children:[(0,Et.jsx)("option",{}),this.state.ticketList.map((e,t)=>(0,Et.jsx)("option",{value:e.key,children:e.rewardName},t))]})}),(0,Et.jsx)("div",{className:"col-md-3",style:{alignSelf:"center",textAlign:"right"},children:(0,Et.jsxs)("div",{className:"form-check",children:[(0,Et.jsx)("input",{id:"allElsePrize".concat(e),className:"form-check-input",name:"allElsePrize".concat(e),type:"checkbox",checked:this.state["allElsePrize".concat(e)]||0===e,onChange:this.handleChange}),(0,Et.jsx)("label",{className:"form-check-label",htmlFor:"allElsePrize".concat(e),children:"All Else Prize"})]})})]}),(0,Et.jsxs)("div",{className:"form-group row mb-3",style:{display:e>0&&!this.state["allElsePrize".concat(e)]?"flex":"none",alignItems:"center"},children:[(0,Et.jsxs)("label",{className:"col-md-3 col-form-label",htmlFor:"rewardAmount".concat(e),children:[" ","How Many Of This Prize To Give Out?"]}),(0,Et.jsx)("div",{className:"col-md-4",children:(0,Et.jsx)("input",{id:"rewardAmount".concat(e),name:"rewardAmount".concat(e),type:"number",className:"form-control",value:this.state["rewardAmount".concat(e)]||"",onChange:this.handleChange,placeholder:"5"})}),(0,Et.jsxs)("div",{className:"form-check",style:{marginLeft:5},children:[(0,Et.jsx)("input",{id:"codes".concat(e),className:"form-check-input",name:"codes".concat(e),type:"checkbox",checked:this.state["codes".concat(e)]||!1,onChange:this.handleChange}),(0,Et.jsx)("label",{className:"form-check-label",htmlFor:"codes".concat(e),children:"Add Codes"})]}),(0,Et.jsxs)("div",{className:"form-check",style:{marginLeft:5},children:[(0,Et.jsx)("input",{id:"links".concat(e),className:"form-check-input",name:"links".concat(e),type:"checkbox",checked:this.state["links".concat(e)]||!1,onChange:this.handleChange}),(0,Et.jsx)("label",{className:"form-check-label",htmlFor:"links".concat(e),children:"Add Links"})]})]}),(0,Et.jsxs)("div",{className:"form-group row mb-3",style:{display:this.state["codes".concat(e)]&&!this.state["allElsePrize".concat(e)]?"flex":"none"},children:[(0,Et.jsx)("label",{htmlFor:"codesArray".concat(e),className:"col-md-3 col-form-label",children:"Enter Codes (code1,code2)"}),(0,Et.jsx)("div",{className:"col-md-9",children:(0,Et.jsx)("textarea",{value:this.state["codesArray".concat(e)]||"",className:"form-control",name:"codesArray".concat(e),onChange:this.handleChange,placeholder:"code1,code2,code3"})})]}),(0,Et.jsxs)("div",{className:"form-group row mb-3",style:{display:this.state["codes".concat(e)]&&!this.state["allElsePrize".concat(e)]?"flex":"none"},children:[(0,Et.jsx)("label",{htmlFor:"pinsArray".concat(e),className:"col-md-3 col-form-label",children:"Enter Pins"}),(0,Et.jsx)("div",{className:"col-md-9",children:(0,Et.jsx)("textarea",{value:this.state["pinsArray".concat(e)]||"",className:"form-control",name:"pinsArray".concat(e),onChange:this.handleChange,placeholder:"pin1,pin2,pin3"})})]}),(0,Et.jsxs)("div",{className:"form-group row mb-3",style:{display:this.state["links".concat(e)]&&!this.state["allElsePrize".concat(e)]?"flex":"none"},children:[(0,Et.jsx)("label",{htmlFor:"linksArray".concat(e),className:"col-md-3 col-form-label",children:"Enter links"}),(0,Et.jsx)("div",{className:"col-md-9",children:(0,Et.jsx)("textarea",{value:this.state["linksArray".concat(e)]||"",className:"form-control",name:"linksArray".concat(e),onChange:this.handleChange,placeholder:"https://myfirstlink.com, https://mysecondlink.com, https://mythirdlink.com"})})]}),(0,Et.jsx)("div",{className:"form-group row mb-3",align:"center",children:(0,Et.jsx)("div",{className:"col-md-12",children:(0,Et.jsx)("button",{className:"btn btn-primary btn-admin",onClick:()=>this.addRewardToLocalArray(e),children:"Add Reward"})})}),this.state["rewardsAdded".concat(e)]&&this.state["rewardsAdded".concat(e)].length>1&&(0,Et.jsxs)("div",{className:"form-check",children:[(0,Et.jsx)("input",{value:this.state["randomOrder".concat(e)]||!1,className:"form-check-input",id:"randomOrder".concat(e),name:"randomOrder".concat(e),type:"checkbox",checked:this.state["randomOrder".concat(e)]||!1,onChange:this.handleChange}),(0,Et.jsx)("label",{className:"form-check-label",htmlFor:"randomOrder".concat(e),children:"Give Out In Random Order"})]}),(0,Et.jsx)("div",{className:"form-group mb-3",children:(0,Et.jsx)("ol",{style:{listStylePosition:"inside",textAlign:"left"},className:"offset-md-0 col-md-10",children:(this.state["rewardsAdded".concat(e)]||[]).map((t,n)=>{let r=t.codes?"Yes":"No";return(0,Et.jsx)("div",{className:"form-group",children:(0,Et.jsxs)("li",{children:[") ",t.amount||"All Else Prize"," -"," ",t.reward.rewardName,t.amount&&"; Codes: "+r," ",(0,Et.jsx)("span",{style:{float:"right"},className:"fa fa-trash-o",onClick:()=>y.removeFromToAddArray(n,e)})]})},n)})})})]}),(0,Et.jsxs)("div",{className:"form-check",children:[(0,Et.jsx)("input",{className:"form-check-input",name:"textEditChanges".concat(e),type:"checkbox",checked:this.state["textEditChanges".concat(e)]||!1,onChange:this.handleChange}),(0,Et.jsx)("label",{className:"form-check-label",htmlFor:"textEditChanges".concat(e),children:"Advanced Text Changes"})]}),(0,Et.jsxs)("div",{className:"form-group row mb-3",style:{display:this.state["textEditChanges".concat(e)]&&!this.state.noPrizes?"flex":"none",alignItems:"center"},children:[(0,Et.jsx)("label",{htmlFor:"winningWinnerHeader".concat(e),className:"col-md-3 col-form-label",children:"Winner Header"}),(0,Et.jsx)("div",{className:"col-md-9",children:(0,Et.jsx)("input",{value:t,className:"form-control",name:"winningWinnerHeader".concat(e),type:"text",onChange:this.handleChange})})]}),(0,Et.jsxs)("div",{className:"form-group row mb-3",style:{display:this.state["textEditChanges".concat(e)]&&!this.state.noPrizes?"flex":"none",alignItems:"center"},children:[(0,Et.jsx)("label",{htmlFor:"winningWinnerMessage".concat(e),className:"col-md-3 col-form-label",children:"Winner Message"}),(0,Et.jsx)("div",{className:"col-md-9",children:(0,Et.jsx)("input",{value:n,className:"form-control",name:"winningWinnerMessage".concat(e),type:"text",onChange:this.handleChange})})]}),(0,Et.jsxs)("div",{className:"form-group row mb-3",style:{display:this.state["textEditChanges".concat(e)]&&e>0?"flex":"none",alignItems:"center"},children:[(0,Et.jsx)("label",{htmlFor:"winningMissedHeader".concat(e),className:"col-md-3 col-form-label",children:"Winner But No Prize Header"}),(0,Et.jsx)("div",{className:"col-md-9",children:(0,Et.jsx)("input",{value:r,className:"form-control",name:"winningMissedHeader".concat(e),type:"text",onChange:this.handleChange})})]}),(0,Et.jsxs)("div",{className:"form-group row mb-3",style:{display:this.state["textEditChanges".concat(e)]&&e>0?"flex":"none",alignItems:"center"},children:[(0,Et.jsx)("label",{htmlFor:"winningMissedMessage".concat(e),className:"col-md-3 col-form-label",children:"Winner But No Prize Message"}),(0,Et.jsx)("div",{className:"col-md-9",children:(0,Et.jsx)("input",{value:o,className:"form-control",name:"winningMissedMessage".concat(e),type:"text",onChange:this.handleChange})})]}),(0,Et.jsxs)("div",{className:"form-group row mb-3",style:{display:this.state["textEditChanges".concat(e)]&&0===e?"flex":"none",alignItems:"center"},children:[(0,Et.jsx)("label",{htmlFor:"losingHeader".concat(e),className:"col-md-3 col-form-label",children:"None Correct Header"}),(0,Et.jsx)("div",{className:"col-md-9",children:(0,Et.jsx)("input",{value:i,className:"form-control",name:"losingHeader".concat(e),type:"text",onChange:this.handleChange})})]}),(0,Et.jsxs)("div",{className:"form-group row mb-3",style:{display:this.state["textEditChanges".concat(e)]&&0===e?"flex":"none",alignItems:"center"},children:[(0,Et.jsx)("label",{htmlFor:"losingMessage".concat(e),className:"col-md-3 col-form-label",children:"None Correct Message"}),(0,Et.jsx)("div",{className:"col-md-9",children:(0,Et.jsx)("input",{value:s,className:"form-control",name:"losingMessage".concat(e),type:"text",onChange:this.handleChange})})]})]},e)})})})})]})}),(0,Et.jsxs)("div",{className:"tab-pane fade",id:"fourth",children:[(0,Et.jsx)("form",{id:"otherForm",className:"form-horizontal"}),(0,Et.jsx)("div",{className:"row",children:(0,Et.jsx)("div",{className:"col-12",children:(0,Et.jsxs)("div",{className:"text-center",children:[(0,Et.jsx)("h2",{className:"mt-0",children:(0,Et.jsx)("i",{className:"mdi mdi-check-all"})}),(0,Et.jsx)("h3",{className:"mt-0",children:"Finish"}),(0,Et.jsx)("div",{className:"row form-group",children:(0,Et.jsx)("div",{className:"col-md-12",children:(0,Et.jsxs)("div",{className:"form-check",children:[(0,Et.jsx)("input",{id:"editAnswers",className:"form-check-input",name:"editAnswers",type:"checkbox",checked:this.state.editAnswers,onChange:this.handleChange}),(0,Et.jsx)("label",{className:"form-check-label",htmlFor:"editAnswers",children:"Allow fans to edit their answers"})]})})}),(0,Et.jsx)("div",{className:"row form-group",children:(0,Et.jsx)("div",{className:"col-md-12",children:(0,Et.jsx)("p",{children:'You are all set to create a game! Before clicking "Create Game" make sure all the settings are correct. You can go back and edit anything!'})})})]})})})]}),(0,Et.jsxs)("ul",{className:"list-inline wizard mb-0",children:[(0,Et.jsx)("li",{className:"previous list-inline-item",style:{display:"first"===this.state.wizardLocation?"none":""},children:(0,Et.jsx)("a",{href:"#",className:"btn btn-primary btn-lg previous-wizard-button",onClick:()=>this.navButtonClicked("prev"),children:"Previous"})}),(0,Et.jsx)("li",{className:"next list-inline-item float-end",children:(0,Et.jsx)("a",{href:"#",className:"btn btn-primary btn-lg next-wizard-button",onClick:()=>this.navButtonClicked("next"),style:{display:"fourth"===this.state.wizardLocation?"none":""},children:"Next"})}),(0,Et.jsx)("li",{className:"next list-inline-item float-end",children:(0,Et.jsx)("a",{href:"#",className:"btn btn-primary btn-lg creategame-wizard-button",onClick:()=>this.createGame(),style:{display:"fourth"===this.state.wizardLocation?"":"none"},children:"Create Game"})})]})]})]})]})})}),(0,Et.jsx)(Mb,{isOpen:this.state.predictionsAnsweredModal,toggle:this.togglePredictionsAnsweredModal,style:{width:"90%"},id:"myModal2",children:(0,Et.jsx)("div",{className:"card",children:(0,Et.jsxs)("div",{className:"card-body",children:[(0,Et.jsx)("h4",{className:"header-title mb-3",children:" Predictions To Answer"}),(0,Et.jsx)(fG.FN,{style:{backgroundColor:"white"},showArrows:!0,showStatus:!1,showIndicators:!1,showThumbs:!1,selectedItem:this.state.selectedAnswerItem,onChange:e=>{this.setState({selectedAnswerItem:e})},children:a.map((e,t)=>(0,Et.jsxs)("div",{style:{backgroundColor:"#FAFBFE",padding:10},children:[(0,Et.jsxs)("p",{style:{color:"black"},children:[t+1,"/",a.length]}),(0,Et.jsx)("p",{style:{color:"black"},children:e.questionText}),(0,Et.jsx)("ol",{style:{textAlign:"left"},children:e.answers.map((t,n)=>t.correct?(0,Et.jsx)("li",{style:{color:"black",backgroundColor:"green"},children:t.answerText},n):(0,Et.jsxs)("li",{children:[t.answerText,(0,Et.jsx)("button",{className:"btn btn-success",style:{marginLeft:5},onClick:()=>this.setAnswerCorrect(t.id,e.id),children:"MARK AS CORRECT"})]},n))}),i&&(0,Et.jsxs)("div",{children:[(0,Et.jsx)("p",{children:"All Predictions Answered"}),(0,Et.jsx)("button",{className:"btn btn-primary",onClick:()=>this.calculateWinners(),children:"Send Prizes"})]})]},t))})]})})})]})}}const _1=k1;class C1 extends e.Component{constructor(e){super(e),this.handleRichTextChange=(e,t)=>{let n=this.state.tenantVariables;n[e]=t,this.setState({tenantVariables:n})},this.UploadImage=new Gb,this.state={tenantVariables:{},showTabOneMajor:!0,showTabTwoMajor:!1,showTabThreeMajor:!1,showTabOneMinor:!0,showTabTwoMinor:!1,showTabThreeMinor:!1,loading:!0,colorsTab:!0,advanced:!1},this.handleSubmit=this.handleSubmit.bind(this),this.handleChange=this.handleChange.bind(this),this.handleImageChange=this.handleImageChange.bind(this),this.handleCheckBoxChange=this.handleCheckBoxChange.bind(this)}componentDidMount(){AS(yS(database,"tenantVariables"),e=>{const t=e.val()||{};this.setState({tenantVariables:t,loading:!1})})}handleSubmit(e){e.preventDefault();const t=this.state.tenantVariables;kS(yS(database,"tenantVariables"),t).then(()=>{this.setState({loading:!1}),$S.fire({title:"Tenant Variables Updated!"})}).catch(e=>{this.setState({loading:!1}),QS.fire({title:"There was some error!",text:"Try again and if the problem persists try logging out and logging back in"}),console.log(e)})}handleChange(e){let t=e.target,n=t.value;if("checkbox"===t.type)n=t.checked,this.setState({[t.name]:n});else{let t=this.state.tenantVariables;t[e.target.name]=n,this.setState({tenantVariables:t})}}handleCheckBoxChange(e){let t=e.target,n="checkbox"===t.type?t.checked:t.value;this.setState({[e.target.name]:n})}handleImageChange(e){let t=e.target.name,n=this[t].files[0];this.setState({loading:!0}),this.UploadImage.upload_file(n).then(e=>{if(this.setState({loading:!1}),e.error)QS.fire({title:"Image cannot be uploaded",text:e.error});else if(e.imageUrl){const n=this.state.tenantVariables;n[t]=e.imageUrl,this.setState({tenantVariables:n},()=>{this[t].value=""})}else QS.fire({title:"Image cannot be uploaded",text:"There was some issue with the image upload, please check the image type and size and try again"})})}toggleColors(){this.state.colorsTab?(document.getElementById("showColors").classList.remove("active"),document.getElementById("showImages").classList.add("active")):(document.getElementById("showColors").classList.add("active"),document.getElementById("showImages").classList.remove("active")),this.setState({colorsTab:!this.state.colorsTab})}tripleToggleControl(e,t){const n="showTabOne"+t,r="showTabTwo"+t,o="showTabThree"+t;"first"===e?(document.getElementById("showsecond"+t).classList.remove("active"),document.getElementById("showfirst"+t).classList.add("active"),document.getElementById("showthird"+t).classList.remove("active"),this.setState({[n]:!0,[r]:!1,[o]:!1})):"second"===e?(document.getElementById("showfirst"+t).classList.remove("active"),document.getElementById("showsecond"+t).classList.add("active"),document.getElementById("showthird"+t).classList.remove("active"),this.setState({[n]:!1,[r]:!0,[o]:!1})):(document.getElementById("showfirst"+t).classList.remove("active"),document.getElementById("showthird"+t).classList.add("active"),document.getElementById("showsecond"+t).classList.remove("active"),this.setState({[n]:!1,[r]:!1,[o]:!0}))}render(){const e=this.state.tenantVariables||{},t=e.backgroundImage,n=e.topAnswerImage,r=e.holdingScreenImage,o=e.frontLogoImage,i=e.sponsorLogo,s=e.thankYouPageTopLogo,a=e.leftOfScoreboardImage||"",l=e.scoreboardBackgroundImage,c=e.leftScoreboardBackground,u=e.topOfScoreboardImage,d=e.desktopBackgroundImage,h=e.thankYouPageBackgroundImage,p=e.faviconImage;return(0,Et.jsxs)("div",{className:"admin-wrapper",children:[(0,Et.jsx)("div",{className:"loading-screen",style:{display:this.state.loading?"block":"none"}}),(0,Et.jsx)(za,{}),(0,Et.jsx)(Va,{}),(0,Et.jsxs)("div",{className:"admin-main-panel",children:[(0,Et.jsx)("p",{className:"admin-header-text",style:{marginBottom:0,marginTop:"5px"},children:"Game Branding"}),(0,Et.jsx)("p",{className:"admin-subheader-text",children:"This is where you can edit the game branding on your activation"}),(0,Et.jsx)("div",{className:"container-out",children:(0,Et.jsx)("div",{className:"admin-form-box",style:{marginTop:"0px",paddingTop:"5px"},children:(0,Et.jsxs)("form",{onSubmit:this.handleSubmit,id:"create-game-form",children:[(0,Et.jsxs)("button",{className:"btn btn-primary btn-lg update-button",id:"submitButton",style:{marginBottom:"20px"},children:[(0,Et.jsx)("span",{className:"fa fa-arrow-circle-o-up"})," Update"]}),(0,Et.jsxs)("ul",{className:"nav nav-tabs nav-justified nav-bordered mb-3",children:[(0,Et.jsx)("li",{className:"nav-item",onClick:()=>this.tripleToggleControl("first","Major"),children:(0,Et.jsxs)("a",{href:"#","aria-expanded":"false",className:"nav-link active",id:"showfirstMajor",children:[(0,Et.jsx)("i",{className:"mdi mdi-home-variant d-lg-none d-block mr-1"}),(0,Et.jsx)("span",{className:"d-none d-lg-block",children:"Fan Color/Images"})]})}),(0,Et.jsx)("li",{style:{display:"none"},className:"nav-item",onClick:()=>this.tripleToggleControl("second","Major"),children:(0,Et.jsxs)("a",{href:"#","aria-expanded":"true",className:"nav-link",id:"showsecondMajor",children:[(0,Et.jsx)("i",{className:"mdi mdi-home-variant d-lg-none d-block mr-1"}),(0,Et.jsx)("span",{className:"d-none d-lg-block",children:"Scoreboard Color/Images"})]})}),(0,Et.jsx)("li",{className:"nav-item",onClick:()=>this.tripleToggleControl("third","Major"),children:(0,Et.jsxs)("a",{href:"#","aria-expanded":"true",className:"nav-link",id:"showthirdMajor",children:[(0,Et.jsx)("i",{className:"mdi mdi-account-circle d-lg-none d-block mr-1"}),(0,Et.jsx)("span",{className:"d-none d-lg-block",children:"Game Text"})]})})]}),(0,Et.jsxs)("ul",{className:"nav nav-tabs nav-justified nav-bordered mb-3",style:{display:!0===this.state.showTabOneMajor?"":"none"},children:[(0,Et.jsx)("li",{className:"nav-item",onClick:()=>this.toggleColors(),children:(0,Et.jsxs)("a",{href:"#","aria-expanded":"false",className:"nav-link active",id:"showColors",children:[(0,Et.jsx)("i",{className:"mdi mdi-home-variant d-lg-none d-block mr-1"}),(0,Et.jsx)("span",{className:"d-none d-lg-block",children:"Colors"})]})}),(0,Et.jsx)("li",{className:"nav-item",onClick:()=>this.toggleColors(),children:(0,Et.jsxs)("a",{href:"#","aria-expanded":"true",className:"nav-link",id:"showImages",children:[(0,Et.jsx)("i",{className:"mdi mdi-home-variant d-lg-none d-block mr-1"}),(0,Et.jsx)("span",{className:"d-none d-lg-block",children:"Images"})]})})]}),(0,Et.jsxs)("ul",{className:"nav nav-tabs nav-justified nav-bordered mb-3",style:{display:!0===this.state.showTabTwoMajor?"":"none"},children:[(0,Et.jsx)("li",{className:"nav-item",onClick:()=>this.tripleToggleControl("first","Minor"),children:(0,Et.jsxs)("a",{href:"#","aria-expanded":"false",className:"nav-link active",id:"showfirstMinor",children:[(0,Et.jsx)("i",{className:"mdi mdi-home-variant d-lg-none d-block mr-1"}),(0,Et.jsx)("span",{className:"d-none d-lg-block",children:"Colors"})]})}),(0,Et.jsx)("li",{className:"nav-item",onClick:()=>this.tripleToggleControl("second","Minor"),children:(0,Et.jsxs)("a",{href:"#","aria-expanded":"true",className:"nav-link",id:"showsecondMinor",children:[(0,Et.jsx)("i",{className:"mdi mdi-home-variant d-lg-none d-block mr-1"}),(0,Et.jsx)("span",{className:"d-none d-lg-block",children:"Images"})]})}),(0,Et.jsx)("li",{className:"nav-item",onClick:()=>this.tripleToggleControl("third","Minor"),children:(0,Et.jsxs)("a",{href:"#","aria-expanded":"true",className:"nav-link",id:"showthirdMinor",children:[(0,Et.jsx)("i",{className:"mdi mdi-home-variant d-lg-none d-block mr-1"}),(0,Et.jsx)("span",{className:"d-none d-lg-block",children:"Timing/Sizes"})]})})]}),(0,Et.jsxs)("div",{style:{display:this.state.showTabOneMajor?"block":"none"},children:[(0,Et.jsxs)("div",{style:{display:this.state.colorsTab?"block":"none"},children:[(0,Et.jsxs)("div",{className:"row",children:[(0,Et.jsxs)("div",{className:"col-md-6",children:[(0,Et.jsx)("h4",{children:"Primary Colors"}),(0,Et.jsxs)("div",{className:"form-inline",children:[(0,Et.jsx)(FK,{name:"primaryColor",label:"Button Color",value:e.primaryColor,onChange:e=>this.handleChange({target:{name:"primaryColor",value:e}})}),(0,Et.jsx)("div",{style:{height:"10px",width:"100%"}}),(0,Et.jsx)(FK,{name:"secondaryColor",label:"Button Text Color",value:e.secondaryColor,onChange:e=>this.handleChange({target:{name:"secondaryColor",value:e}})}),(0,Et.jsx)("div",{style:{height:"10px",width:"100%"}}),(0,Et.jsx)(FK,{name:"fanQuestionColor",label:"Question Color",value:e.fanQuestionColor,onChange:e=>this.handleChange({target:{name:"fanQuestionColor",value:e}})})]})]}),(0,Et.jsxs)("div",{className:"col-md-6",children:[(0,Et.jsx)("h4",{children:"Answer Button Colors"}),(0,Et.jsxs)("div",{className:"form-inline",children:[(0,Et.jsx)(FK,{name:"answerBackgroundColor",label:"Background Color",value:e.answerBackgroundColor,onChange:e=>this.handleChange({target:{name:"answerBackgroundColor",value:e}})}),(0,Et.jsx)("div",{style:{height:"10px",width:"100%"}}),(0,Et.jsx)(FK,{name:"answerTextColor",label:"Text Color",value:e.answerTextColor,onChange:e=>this.handleChange({target:{name:"answerTextColor",value:e}})}),(0,Et.jsx)("div",{style:{height:"10px",width:"100%"}}),(0,Et.jsx)(FK,{name:"answerOutlineColor",label:"Outline Color",value:e.answerOutlineColor,onChange:e=>this.handleChange({target:{name:"answerOutlineColor",value:e}})}),(0,Et.jsx)("div",{style:{height:"10px",width:"100%"}}),(0,Et.jsx)(FK,{name:"answerDescriptionTextColor",label:"Answer Description Text Color",value:e.answerDescriptionTextColor,onChange:e=>this.handleChange({target:{name:"answerDescriptionTextColor",value:e}})})]})]})]}),(0,Et.jsx)("div",{style:{height:"10px",width:"100%"}}),(0,Et.jsxs)("div",{className:"row",children:[(0,Et.jsxs)("div",{className:"col-md-6",children:[(0,Et.jsx)("h4",{children:"Answer Action Colors"}),(0,Et.jsxs)("div",{className:"form-inline",children:[(0,Et.jsx)(FK,{name:"correctTextColor",label:"Correct Answer Color",value:e.correctTextColor,onChange:e=>this.handleChange({target:{name:"correctTextColor",value:e}})}),(0,Et.jsx)("div",{style:{height:"10px",width:"100%"}}),(0,Et.jsx)(FK,{name:"incorrectTextColor",label:"Incorrect Answer Color",value:e.incorrectTextColor,onChange:e=>this.handleChange({target:{name:"incorrectTextColor",value:e}})})]})]}),(0,Et.jsxs)("div",{className:"col-md-6",children:[(0,Et.jsx)("h4",{children:"Log Out Colors"}),(0,Et.jsx)("div",{className:"form-inline",children:(0,Et.jsx)(FK,{name:"logOutButtonColor",label:"Log Out Button Color",value:e.logOutButtonColor,onChange:e=>this.handleChange({target:{name:"logOutButtonColor",value:e}})})})]})]})]}),(0,Et.jsxs)("div",{style:{display:this.state.colorsTab?"none":"block"},children:[(0,Et.jsx)("div",{className:"row",children:(0,Et.jsxs)("div",{className:"admin-grid-container four-columns",style:{alignItems:"flex-end",flexGrow:1},children:[(0,Et.jsxs)("div",{className:"form-group",style:{textAlign:"center",margin:20},children:[(0,Et.jsx)("img",{src:t,width:"160",height:"auto",alt:""}),(0,Et.jsx)("br",{}),(0,Et.jsxs)("label",{htmlFor:"backgroundImage",children:["Phone Background Image",(0,Et.jsx)("br",{})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("input",{style:{display:"none"},id:"backgroundImage",name:"backgroundImage",type:"file",ref:e=>{this.backgroundImage=e},onChange:this.handleImageChange}),(0,Et.jsx)("input",{className:"btn btn-primary btn-lg choose-image-button",type:"button",value:"Choose Image",onClick:()=>document.getElementById("backgroundImage").click()})]})]}),(0,Et.jsxs)("div",{className:"form-group",style:{textAlign:"center",margin:20},children:[(0,Et.jsx)("img",{src:d,width:"160",height:"auto",alt:""}),(0,Et.jsx)("br",{}),(0,Et.jsxs)("label",{htmlFor:"desktopBackgroundImage",children:["Desktop Background Image",(0,Et.jsx)("br",{})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("input",{style:{display:"none"},id:"desktopBackgroundImage",name:"desktopBackgroundImage",type:"file",ref:e=>{this.desktopBackgroundImage=e},onChange:this.handleImageChange}),(0,Et.jsx)("input",{className:"btn btn-primary btn-lg choose-image-button",type:"button",value:"Choose Image",onClick:()=>document.getElementById("desktopBackgroundImage").click()})]})]}),(0,Et.jsxs)("div",{className:"form-group",style:{float:"left",textAlign:"center",margin:20},children:[(0,Et.jsx)("img",{src:n,width:"100",height:"auto",alt:""}),(0,Et.jsx)("br",{}),(0,Et.jsxs)("label",{htmlFor:"topAnswerImage",children:["Above End Answers Logo",(0,Et.jsx)("br",{})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("input",{style:{display:"none"},id:"topAnswerImage",name:"topAnswerImage",type:"file",ref:e=>{this.topAnswerImage=e},onChange:this.handleImageChange}),(0,Et.jsx)("input",{className:"btn btn-primary btn-lg choose-image-button",type:"button",value:"Choose Image",onClick:()=>document.getElementById("topAnswerImage").click()})]})]}),(0,Et.jsxs)("div",{className:"form-group",style:{textAlign:"center",margin:20},children:[(0,Et.jsx)("img",{src:o,width:"150",height:"auto",alt:""}),(0,Et.jsx)("br",{}),(0,Et.jsxs)("label",{htmlFor:"frontLogoImage",children:["Front Logo",(0,Et.jsx)("br",{})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("input",{style:{display:"none"},id:"frontLogoImage",name:"frontLogoImage",type:"file",ref:e=>{this.frontLogoImage=e},onChange:this.handleImageChange}),(0,Et.jsx)("input",{className:"btn btn-primary btn-lg choose-image-button",type:"button",value:"Choose Image",onClick:()=>document.getElementById("frontLogoImage").click()})]})]})]})}),(0,Et.jsx)("div",{className:"row",children:(0,Et.jsxs)("div",{className:"admin-grid-container four-columns",style:{alignItems:"flex-end"},children:[(0,Et.jsxs)("div",{className:"form-group",style:{float:"left",textAlign:"center",margin:20},children:[(0,Et.jsx)("img",{src:i,width:"140",height:"auto",alt:""}),(0,Et.jsx)("br",{}),(0,Et.jsxs)("label",{htmlFor:"sponsorLogo",children:["Sponsor Logo",(0,Et.jsx)("br",{})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("input",{style:{display:"none"},id:"sponsorLogo",name:"sponsorLogo",type:"file",ref:e=>{this.sponsorLogo=e},onChange:this.handleImageChange}),(0,Et.jsx)("input",{className:"btn btn-primary btn-lg choose-image-button",type:"button",value:"Choose Image",onClick:()=>document.getElementById("sponsorLogo").click()})]})]}),(0,Et.jsxs)("div",{className:"form-group",style:{float:"left",textAlign:"center",margin:20},children:[(0,Et.jsx)("img",{src:s,width:"100",height:"auto",alt:""}),(0,Et.jsx)("br",{}),(0,Et.jsxs)("label",{htmlFor:"thankYouPageTopLogo",children:["Thank You Page Top Logo",(0,Et.jsx)("br",{})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("input",{style:{display:"none"},id:"thankYouPageTopLogo",name:"thankYouPageTopLogo",type:"file",ref:e=>{this.thankYouPageTopLogo=e},onChange:this.handleImageChange}),(0,Et.jsx)("input",{className:"btn btn-primary btn-lg choose-image-button",type:"button",value:"Choose Image",onClick:()=>document.getElementById("thankYouPageTopLogo").click()})]})]}),(0,Et.jsxs)("div",{className:"form-group",style:{float:"left",textAlign:"center",margin:20},children:[(0,Et.jsx)("img",{src:r,width:"100",height:"auto",alt:""}),(0,Et.jsx)("br",{}),(0,Et.jsxs)("label",{htmlFor:"holdingScreenImage",children:["Holding Screen Logo",(0,Et.jsx)("br",{})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("input",{style:{display:"none"},id:"holdingScreenImage",name:"holdingScreenImage",type:"file",ref:e=>{this.holdingScreenImage=e},onChange:this.handleImageChange}),(0,Et.jsx)("input",{className:"btn btn-primary btn-lg choose-image-button",type:"button",value:"Choose Image",onClick:()=>document.getElementById("holdingScreenImage").click()})]})]}),(0,Et.jsxs)("div",{className:"form-group",style:{float:"left",textAlign:"center",margin:20},children:[(0,Et.jsx)("img",{src:h,width:"100",height:"auto",alt:""}),(0,Et.jsx)("br",{}),(0,Et.jsxs)("label",{htmlFor:"thankYouPageBackgroundImage",children:["Thank You Page Background Image",(0,Et.jsx)("br",{})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("input",{style:{display:"none"},id:"thankYouPageBackgroundImage",name:"thankYouPageBackgroundImage",type:"file",ref:e=>{this.thankYouPageBackgroundImage=e},onChange:this.handleImageChange}),(0,Et.jsx)("input",{className:"btn btn-primary btn-lg choose-image-button",type:"button",value:"Choose Image",onClick:()=>document.getElementById("thankYouPageBackgroundImage").click()})]})]})]})}),(0,Et.jsx)("div",{className:"row",children:(0,Et.jsx)("div",{className:"admin-grid-container four-columns",style:{alignItems:"flex-end"},children:(0,Et.jsxs)("div",{className:"form-group",style:{float:"left",textAlign:"center",margin:20},children:[(0,Et.jsx)("img",{src:p,width:"140",height:"auto",alt:""}),(0,Et.jsx)("br",{}),(0,Et.jsxs)("label",{htmlFor:"faviconImage",children:["Favicon Logo",(0,Et.jsx)("br",{})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("input",{style:{display:"none"},id:"faviconImage",name:"faviconImage",type:"file",ref:e=>{this.faviconImage=e},onChange:this.handleImageChange}),(0,Et.jsx)("input",{className:"btn btn-primary btn-lg choose-image-button",type:"button",value:"Choose Image",onClick:()=>document.getElementById("faviconImage").click()})]})]})})})]})]}),(0,Et.jsxs)("div",{style:{display:this.state.showTabTwoMajor?"block":"none"},children:[(0,Et.jsx)("div",{style:{display:this.state.showTabOneMinor?"block":"none"},children:(0,Et.jsx)("div",{className:"row",children:(0,Et.jsxs)("div",{className:"col-md-12",children:[(0,Et.jsx)("h4",{children:"Scoreboard Colors"}),(0,Et.jsxs)("div",{className:"form-inline",children:[(0,Et.jsx)("div",{style:{height:"10px",width:"100%"}}),(0,Et.jsx)("span",{style:{marginRight:10},className:"fa fa-eyedropper mobile-hide",onClick:()=>this.openColorPicker("progressBarEndWinColor")}),(0,Et.jsx)("div",{style:{backgroundColor:this.state.tenantVariables.progressBarEndWinColor,marginRight:10,border:"solid 1px",minHeight:20,width:20,display:"inline-block"}}),(0,Et.jsx)("label",{htmlFor:"progressBarEndWinColor",style:{marginRight:10},children:"Scoreboard Correct Color"}),(0,Et.jsx)("input",{id:"progressBarEndWinColor",name:"progressBarEndWinColor",type:"text",className:"form-control",value:this.state.tenantVariables.progressBarEndWinColor,onChange:this.handleChange,placeholder:"#000"})]})]})})}),(0,Et.jsx)("div",{style:{display:this.state.showTabTwoMinor?"block":"none"},children:(0,Et.jsxs)("div",{className:"admin-grid-container two-columns",children:[(0,Et.jsxs)("div",{style:{textAlign:"center"},children:[(0,Et.jsx)("h4",{children:"Scoreboard With Top Image"}),(0,Et.jsx)("h6",{children:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_FIREBASE_DATABASE:"https://sqwad-rebate-app.firebaseio.com",REACT_APP_FIREBASE_SENDER_ID:"827574824663",REACT_APP_FIREBASE_DOMAIN:"sqwad-rebate-app.firebaseapp.com",REACT_APP_SHOPIFY_SERVICE_URL:"https://ent-guns-supporters-corrections.trycloudflare.com",REACT_APP_FIREBASE_STORAGE_BUCKET:"sqwad-rebate-app.firebasestorage.app",REACT_APP_FIREBASE_KEY:"AIzaSyAQO8xXX2hfzeEwqXZu2KanqTXhU0hvzsM",REACT_APP_ID:"1:827574824663:web:b32ac87da74b6a81270a92",REACT_APP_FIREBASE_PROJECT_ID:"sqwad-rebate-app"}.REACT_APP_SCOREBOARD_TOP_LINK}),(0,Et.jsx)("div",{style:{height:"10px",width:"100%"}}),(0,Et.jsxs)("div",{className:"row",children:[(0,Et.jsx)("div",{className:"col-md-6",children:(0,Et.jsxs)("div",{className:"form-group",style:{textAlign:"center"},children:[(0,Et.jsx)("img",{src:l,width:"160",height:"auto",alt:""}),(0,Et.jsx)("br",{}),(0,Et.jsxs)("label",{htmlFor:"scoreboardBackgroundImage",children:["Scoreboard Background Image",(0,Et.jsx)("br",{})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("input",{style:{display:"none"},id:"scoreboardBackgroundImage",name:"scoreboardBackgroundImage",type:"file",ref:e=>{this.scoreboardBackgroundImage=e},onChange:this.handleImageChange}),(0,Et.jsx)("input",{className:"btn btn-primary btn-lg choose-image-button",type:"button",value:"Choose Image",onClick:()=>document.getElementById("scoreboardBackgroundImage").click()})]})]})}),(0,Et.jsx)("div",{className:"col-md-6",children:(0,Et.jsxs)("div",{className:"form-group",style:{textAlign:"center"},children:[(0,Et.jsx)("img",{src:u,width:"160",height:"auto",alt:""}),(0,Et.jsx)("br",{}),(0,Et.jsxs)("label",{htmlFor:"topOfScoreboardImage",children:["Top Of Scoreboard Image",(0,Et.jsx)("br",{})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("input",{style:{display:"none"},id:"topOfScoreboardImage",name:"topOfScoreboardImage",type:"file",ref:e=>{this.topOfScoreboardImage=e},onChange:this.handleImageChange}),(0,Et.jsx)("input",{className:"btn btn-primary btn-lg choose-image-button",type:"button",value:"Choose Image",onClick:()=>document.getElementById("topOfScoreboardImage").click()})]})]})})]})]}),(0,Et.jsxs)("div",{style:{textAlign:"center"},children:[(0,Et.jsx)("h4",{children:"Scoreboard With Left Image"}),(0,Et.jsx)("h6",{children:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_FIREBASE_DATABASE:"https://sqwad-rebate-app.firebaseio.com",REACT_APP_FIREBASE_SENDER_ID:"827574824663",REACT_APP_FIREBASE_DOMAIN:"sqwad-rebate-app.firebaseapp.com",REACT_APP_SHOPIFY_SERVICE_URL:"https://ent-guns-supporters-corrections.trycloudflare.com",REACT_APP_FIREBASE_STORAGE_BUCKET:"sqwad-rebate-app.firebasestorage.app",REACT_APP_FIREBASE_KEY:"AIzaSyAQO8xXX2hfzeEwqXZu2KanqTXhU0hvzsM",REACT_APP_ID:"1:827574824663:web:b32ac87da74b6a81270a92",REACT_APP_FIREBASE_PROJECT_ID:"sqwad-rebate-app"}.REACT_APP_SCOREBOARD_SIDE_LINK}),(0,Et.jsx)("div",{style:{height:"10px",width:"100%"}}),(0,Et.jsxs)("div",{className:"row",children:[(0,Et.jsx)("div",{className:"col-md-6",children:(0,Et.jsxs)("div",{className:"form-group",style:{textAlign:"center"},children:[(0,Et.jsx)("img",{src:c,width:"160",height:"auto",alt:""}),(0,Et.jsx)("br",{}),(0,Et.jsxs)("label",{htmlFor:"leftScoreboardBackground",children:["Scoreboard Background Image",(0,Et.jsx)("br",{})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("input",{style:{display:"none"},id:"leftScoreboardBackground",name:"leftScoreboardBackground",type:"file",ref:e=>{this.leftScoreboardBackground=e},onChange:this.handleImageChange}),(0,Et.jsx)("input",{className:"btn btn-primary btn-lg choose-image-button",type:"button",value:"Choose Image",onClick:()=>document.getElementById("leftScoreboardBackground").click()})]})]})}),(0,Et.jsx)("div",{className:"col-md-6",children:(0,Et.jsxs)("div",{className:"form-group",style:{textAlign:"center"},children:[(0,Et.jsx)("img",{src:a,width:"160",height:"auto",alt:""}),(0,Et.jsx)("br",{}),(0,Et.jsxs)("label",{htmlFor:"leftOfScoreboardImage",children:["Left Of Scoreboard Image",(0,Et.jsx)("br",{})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("input",{style:{display:"none"},id:"leftOfScoreboardImage",name:"leftOfScoreboardImage",type:"file",ref:e=>{this.leftOfScoreboardImage=e},onChange:this.handleImageChange}),(0,Et.jsx)("input",{className:"btn btn-primary btn-lg choose-image-button",type:"button",value:"Choose Image",onClick:()=>document.getElementById("leftOfScoreboardImage").click()})]})]})})]})]})]})}),(0,Et.jsx)("div",{style:{display:this.state.showTabThreeMinor?"block":"none"},children:(0,Et.jsxs)("div",{className:"row",children:[(0,Et.jsxs)("div",{className:"col-md-6",children:[(0,Et.jsx)("h4",{children:"Timing"}),(0,Et.jsxs)("div",{className:"form-inline",children:[(0,Et.jsx)("label",{htmlFor:"questionDisplayLength",style:{marginRight:10},children:"Question Show Length (secs)"}),(0,Et.jsx)("input",{id:"questionDisplayLength",name:"questionDisplayLength",type:"number",className:"form-control",value:this.state.tenantVariables.questionDisplayLength,onChange:this.handleChange,placeholder:"5"}),(0,Et.jsx)("div",{style:{height:"10px",width:"100%"}}),(0,Et.jsx)("label",{htmlFor:"answerDisplayLength",style:{marginRight:10},children:"Correct Answer Show Length (secs)"}),(0,Et.jsx)("input",{id:"answerDisplayLength",name:"answerDisplayLength",type:"number",className:"form-control",value:this.state.tenantVariables.answerDisplayLength,onChange:this.handleChange,placeholder:"5"})]})]}),(0,Et.jsxs)("div",{className:"col-md-6",children:[(0,Et.jsx)("h4",{children:"Top Image Scoreboard Sizes"}),(0,Et.jsxs)("div",{className:"form-inline",children:[(0,Et.jsx)("label",{htmlFor:"topScoreboardQuestionSize",style:{marginRight:10,marginLeft:10},children:"Question Size"}),(0,Et.jsx)("input",{id:"topScoreboardQuestionSize",name:"topScoreboardQuestionSize",type:"number",className:"form-control",value:this.state.tenantVariables.topScoreboardQuestionSize,onChange:this.handleChange,placeholder:"44"})]}),(0,Et.jsx)("h4",{children:"Left Image Scoreboard Sizes"}),(0,Et.jsxs)("div",{className:"form-inline",children:[(0,Et.jsx)("label",{htmlFor:"leftScoreboardQuestionSize",style:{marginRight:10,marginLeft:10},children:"Question Size"}),(0,Et.jsx)("input",{id:"leftScoreboardQuestionSize",name:"leftScoreboardQuestionSize",type:"number",className:"form-control",value:this.state.tenantVariables.leftScoreboardQuestionSize,onChange:this.handleChange,placeholder:"44"})]})]})]})})]}),(0,Et.jsxs)("div",{style:{display:this.state.showTabThreeMajor?"block":"none"},children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"pageTitle",children:"Page Title:"}),(0,Et.jsx)("input",{id:"pageTitle",name:"pageTitle",type:"text",className:"form-control",value:this.state.tenantVariables.pageTitle,onChange:this.handleChange,placeholder:"Prediction"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"gameOverHeader",children:"Game Over Header Text:"}),(0,Et.jsx)("input",{id:"gameOverHeader",name:"gameOverHeader",type:"text",className:"form-control",value:this.state.tenantVariables.gameOverHeader,onChange:this.handleChange,placeholder:"Answers are up!"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"gameOverBody",children:"Game Over Body Text:"}),(0,Et.jsx)("input",{id:"gameOverBody",name:"gameOverBody",type:"text",className:"form-control",value:this.state.tenantVariables.gameOverBody,onChange:this.handleChange,placeholder:"Sorry you missed answering before the game ended! Come back next game to play again."})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"choosePositionText",children:"Choose Position Text:"}),(0,Et.jsx)("input",{id:"choosePositionText",name:"choosePositionText",type:"text",className:"form-control",value:this.state.tenantVariables.choosePositionText,onChange:this.handleChange,placeholder:"Choose Position"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"switchText",children:"Switch Text:"}),(0,Et.jsx)("input",{id:"switchText",name:"switchText",type:"text",className:"form-control",value:this.state.tenantVariables.switchText,onChange:this.handleChange,placeholder:"Switch"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"clearOptionText",children:"Clear Option Text:"}),(0,Et.jsx)("input",{id:"clearOptionText",name:"clearOptionText",type:"text",className:"form-control",value:this.state.tenantVariables.clearOptionText,onChange:this.handleChange,placeholder:"Clear"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"thankYouPageTopText",children:"Thank You Screen Text:"}),(0,Et.jsx)(BK,{allowParagraphAlignment:!0,allowButtons:!0,field:{id:"thankYouPageTopText",name:"thankYouPageTopText",value:e.thankYouPageTopText||""},form:{setFieldValue:(e,t)=>this.handleRichTextChange("thankYouPageTopText",t)},placeholder:""})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"thankYouPageBelowAnswersText",children:"Below Show Answers On Thank You Screen Text:"}),(0,Et.jsx)(BK,{allowParagraphAlignment:!0,allowButtons:!0,field:{id:"thankYouPageBelowAnswersText",name:"thankYouPageBelowAnswersText",value:e.thankYouPageBelowAnswersText||""},form:{setFieldValue:(e,t)=>this.handleRichTextChange("thankYouPageBelowAnswersText",t)},placeholder:""})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"gameOverPageText",children:"Game Over Page Text:"}),(0,Et.jsx)(BK,{allowParagraphAlignment:!0,allowButtons:!0,field:{id:"gameOverPageText",name:"gameOverPageText",value:e.gameOverPageText||""},form:{setFieldValue:(e,t)=>this.handleRichTextChange("gameOverPageText",t)},placeholder:""})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"playingText",children:"Holding Screen Text:"}),(0,Et.jsx)(BK,{field:{id:"playingText",name:"playingText",value:e.playingText||""},form:{setFieldValue:(e,t)=>this.handleRichTextChange("playingText",t)},placeholder:""})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"loginFormHeader",children:"Login Form Header"}),(0,Et.jsx)(BK,{field:{id:"loginFormHeader",name:"loginFormHeader",value:e.loginFormHeader||""},form:{setFieldValue:(e,t)=>this.handleRichTextChange("loginFormHeader",t)},placeholder:""})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"aboveFormText",children:"Above Form Text"}),(0,Et.jsx)(BK,{field:{id:"aboveFormText",name:"aboveFormText",value:e.aboveFormText||""},form:{setFieldValue:(e,t)=>this.handleRichTextChange("aboveFormText",t)},placeholder:"Enter text above the form"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"aboveSubmitButtonText",children:"Above Submit Button Text Login Page"}),(0,Et.jsx)(BK,{field:{id:"aboveSubmitButtonText",name:"aboveSubmitButtonText",value:e.aboveSubmitButtonText||""},form:{setFieldValue:(e,t)=>this.handleRichTextChange("aboveSubmitButtonText",t)},placeholder:"Enter text above the submit button on the login screen"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"belowSubmitButtonText",children:"Below Submit Button Text Login Page"}),(0,Et.jsx)(BK,{field:{id:"belowSubmitButtonText",name:"belowSubmitButtonText",value:e.belowSubmitButtonText||""},form:{setFieldValue:(e,t)=>this.handleRichTextChange("belowSubmitButtonText",t)},placeholder:"Enter text below the submit button on the login screen"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"aboveSubmitButtonMainScreenText",children:"Above Submit Button Text Main Page"}),(0,Et.jsx)(BK,{field:{id:"aboveSubmitButtonMainScreenText",name:"aboveSubmitButtonMainScreenText",value:e.aboveSubmitButtonMainScreenText||""},form:{setFieldValue:(e,t)=>this.handleRichTextChange("aboveSubmitButtonMainScreenText",t)},placeholder:"Enter text above the submit button on the main screen"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"needMorePredictionsHeader",children:"Need More Predictions Header:"}),(0,Et.jsx)("input",{id:"needMorePredictionsHeader",name:"needMorePredictionsHeader",type:"text",className:"form-control",value:this.state.tenantVariables.needMorePredictionsHeader,onChange:this.handleChange,placeholder:"ERROR"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"needMorePredictionsBody",children:"Need More Predictions Body"}),(0,Et.jsx)(BK,{field:{id:"needMorePredictionsBody",name:"needMorePredictionsBody",value:e.needMorePredictionsBody||""},form:{setFieldValue:(e,t)=>this.handleRichTextChange("needMorePredictionsBody",t)},placeholder:"Please select all answers first"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"showAdvancedSettings",children:"Advanced"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("input",{type:"checkbox",checked:this.state.advanced,id:"advanced",name:"advanced",onChange:this.handleCheckBoxChange})]}),this.state.advanced&&(0,Et.jsx)(Et.Fragment,{children:(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"formHeaderText",children:"Form header Text:"}),(0,Et.jsx)("input",{id:"formHeaderText",name:"formHeaderText",type:"text",className:"form-control",value:this.state.tenantVariables.formHeaderText,onChange:this.handleChange,placeholder:"Fill out the form for a chance to win a prize!"})]})})]})]})})})]})]})}}const S1=C1;class E1 extends e.Component{constructor(e){super(e),this.handleRichTextChange=(e,t)=>{this.setState({[e]:t})},this.state={rulesAndRegsText:"",howToPlayText:"",rulesPopUpText:"",rulesShowInAppPopUpText:"",supportText:"",rulesPopUpHeader:"",rulesShowInAppPopUpHeader:"",rulesInAppButtonText:"",howToPlayLink:"",tenantRules:null,loading:!0},this.handleSubmit=this.handleSubmit.bind(this),this.handleChange=this.handleChange.bind(this)}componentDidMount(){AS(yS(database,"tenantRules"),e=>{const t=e.val()||{};this.setState({rulesAndRegsText:t.rulesAndRegsText,secondaryMandatoryCheckboxText:t.secondaryMandatoryCheckboxText,didNotCheckRulesAndRegsBody2:t.didNotCheckRulesAndRegsBody2,howToPlayText:t.howToPlayText,rulesPopUpText:t.rulesPopUpText,rulesShowInAppPopUpText:t.rulesShowInAppPopUpText,supportText:t.supportText,rulesPopUpHeader:t.rulesPopUpHeader||"",didNotCheckRulesAndRegsHeader2:t.didNotCheckRulesAndRegsHeader2||"",rulesShowInAppPopUpHeader:t.rulesShowInAppPopUpHeader||"",rulesInAppButtonText:t.rulesInAppButtonText||"",howToPlayLink:t.howToPlayLink||"",rulesShowInApp:t.rulesShowInApp||!1,turnOnSecondMandatoryCheckbox:t.turnOnSecondMandatoryCheckbox||!1,advanced:!!t.rulesShowInApp||!!t.howToPlayText||!!t.rulesPopUpText,supportHeader:t.supportHeader||"",loading:!1})})}handleChange(e){let t=e.target,n="checkbox"===t.type?t.checked:t.value;this.setState({[t.name]:n})}handleSubmit(e){e.preventDefault();let t=this.state.rulesAndRegsText||"",n=this.state.rulesPopUpHeader,r=this.state.supportHeader||"",o=this.state.supportText||"",i=this.state.howToPlayLink,s=this.state.rulesPopUpText||"",a=this.state.howToPlayText||"",l=this.state.didNotCheckRulesAndRegsHeader2||"",c=this.state.didNotCheckRulesAndRegsBody2||"",u=this.state.secondaryMandatoryCheckboxText||"",d=this.state.turnOnSecondMandatoryCheckbox||!1,h=this.state.rulesShowInAppPopUpText||"",p=this.state.rulesShowInAppPopUpHeader,f=this.state.rulesInAppButtonText;if(f&&f.length>18)return void QS.fire({title:"Input Error",text:"Button Text Cannot Be Longer Then 18 Characters"});let m={rulesAndRegsText:t,howToPlayLink:i,howToPlayText:a,rulesPopUpText:s,rulesPopUpHeader:n,rulesShowInAppPopUpText:h,rulesShowInAppPopUpHeader:p,rulesInAppButtonText:f,rulesShowInApp:this.state.rulesShowInApp||!1,supportText:o,supportHeader:r,secondaryMandatoryCheckboxText:u,didNotCheckRulesAndRegsBody2:c,didNotCheckRulesAndRegsHeader2:l,turnOnSecondMandatoryCheckbox:d};this.setState({loading:!0}),kS(yS(database,"tenantRules"),m).then(()=>{this.setState({loading:!1}),$S.fire({icon:"success",title:"Rules and Regs Updated!"})}).catch(e=>{console.error("Error updating document: ",e),this.setState({loading:!1}),QS.fire({title:"There was some error!",text:"Try again and if the problem persists try logging out and logging back in"})})}render(){let{rulesAndRegsText:e,secondaryMandatoryCheckboxText:t,didNotCheckRulesAndRegsBody2:n,turnOnSecondMandatoryCheckbox:r,didNotCheckRulesAndRegsHeader2:o,rulesPopUpHeader:i,rulesPopUpText:s,rulesInAppButtonText:a,rulesShowInAppPopUpHeader:l,rulesShowInAppPopUpText:c,howToPlayLink:u,howToPlayText:d,supportHeader:h,supportText:p,loading:f,advanced:m,rulesShowInApp:g}=this.state;YS(s)&&(s=""),YS(e)&&(e=""),YS(t)&&(t=""),YS(n)&&(n=""),YS(u)&&(u=""),YS(i)&&(i=""),YS(l)&&(l=""),YS(c)&&(c=""),YS(a)&&(a=""),YS(h)&&(h="");const v="true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.0.0",REACT_APP_FIREBASE_DATABASE:"https://sqwad-rebate-app.firebaseio.com",REACT_APP_FIREBASE_SENDER_ID:"827574824663",REACT_APP_FIREBASE_DOMAIN:"sqwad-rebate-app.firebaseapp.com",REACT_APP_SHOPIFY_SERVICE_URL:"https://ent-guns-supporters-corrections.trycloudflare.com",REACT_APP_FIREBASE_STORAGE_BUCKET:"sqwad-rebate-app.firebasestorage.app",REACT_APP_FIREBASE_KEY:"AIzaSyAQO8xXX2hfzeEwqXZu2KanqTXhU0hvzsM",REACT_APP_ID:"1:827574824663:web:b32ac87da74b6a81270a92",REACT_APP_FIREBASE_PROJECT_ID:"sqwad-rebate-app"}.REACT_APP_IS_MLB_TEAM;return(0,Et.jsxs)("div",{className:"admin-wrapper",children:[(0,Et.jsx)("div",{className:"loading-screen",style:{display:f?"block":"none"}}),(0,Et.jsx)(za,{}),(0,Et.jsx)(Va,{}),(0,Et.jsxs)("div",{className:"admin-main-panel",children:[(0,Et.jsx)("div",{className:"container-out",style:{width:"45%",float:"left"},children:(0,Et.jsx)("div",{className:"admin-form-box",children:(0,Et.jsxs)("form",{onSubmit:this.handleSubmit,id:"create-game-form",children:[(0,Et.jsxs)("button",{className:"btn btn-primary btn-lg update-button",id:"submitButton",style:{marginBottom:"20px"},children:[(0,Et.jsx)("span",{className:"fa fa-arrow-circle-o-up"})," Update"]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"rulesAndRegsText",children:"Rules And Regs Text"}),(0,Et.jsxs)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:["This text will appear AFTER the mandatory confirm rules and regs button on the login form",(0,Et.jsx)("br",{}),(0,Et.jsx)("strong",{children:"Example:"})," Welcome to Spin To Win! To play, please confirm that you agree with the rules and regs"]}),(0,Et.jsx)(BK,{field:{id:"rulesAndRegsText",name:"rulesAndRegsText",value:e},form:{setFieldValue:(e,t)=>this.handleRichTextChange("rulesAndRegsText",t)},placeholder:"Enter rules and regulations"})]}),!v&&(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"showAdvancedSettings",children:"Advanced"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("input",{type:"checkbox",checked:m,id:"advanced",name:"advanced",onChange:this.handleChange})]}),m&&(0,Et.jsxs)(Et.Fragment,{children:[!v&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"howToPlayLink",children:"How To Play Link"}),(0,Et.jsx)("p",{className:"text-muted2",style:{fontSize:"10px"},children:"This is where you can teach fans how to play"}),(0,Et.jsx)("input",{id:"howToPlayLink",name:"howToPlayLink",type:"url",className:"form-control",value:u,onChange:this.handleChange,placeholder:"https://ourgameplay.com"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"howToPlayText",children:"How To Play Text (replaces link if filled)"}),(0,Et.jsx)("p",{className:"text-muted2",style:{fontSize:"10px"},children:"This is where you can teach fans how to play"}),(0,Et.jsx)(BK,{field:{id:"howToPlayText",name:"howToPlayText",value:d},form:{setFieldValue:(e,t)=>this.handleRichTextChange("howToPlayText",t)},placeholder:"Enter how to play text"})]})]}),!v&&(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"rulesShowInApp",children:"Show Rules And Regs After Sign Up Screen"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("input",{type:"checkbox",checked:g,id:"rulesShowInApp",name:"rulesShowInApp",onChange:this.handleChange})]}),g&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"rulesInAppButtonText",children:"Button Text"}),(0,Et.jsx)("p",{className:"text-muted2",style:{fontSize:"10px"},children:"The text of the button that links to Rules & Regs"}),(0,Et.jsx)("input",{id:"rulesInAppButtonText",name:"rulesInAppButtonText",type:"text",className:"form-control",value:a,onChange:this.handleChange,placeholder:"Rules & Regs"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"rulesShowInAppPopUpHeader",children:"Pop Up After Sign Up (Optional)"}),(0,Et.jsx)("p",{className:"text-muted2",style:{fontSize:"10px"},children:"The header of the in-app pop up"}),(0,Et.jsx)("input",{id:"rulesShowInAppPopUpHeader",name:"rulesShowInAppPopUpHeader",type:"text",className:"form-control",value:l,onChange:this.handleChange,placeholder:"Rules & Regs"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"rulesShowInAppPopUpText",children:"Rules & Regs Pop Up Text"}),(0,Et.jsx)("p",{className:"text-muted2",style:{fontSize:"10px"},children:"The body text of the pop up"}),(0,Et.jsx)(BK,{field:{id:"rulesShowInAppPopUpText",name:"rulesShowInAppPopUpText",value:c},form:{setFieldValue:(e,t)=>this.handleRichTextChange("rulesShowInAppPopUpText",t)},placeholder:"Enter pop up text"})]})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"rulesPopUpHeader",children:"Rules & Regs Pop Up Header (Optional)"}),(0,Et.jsx)("p",{className:"text-muted2",style:{fontSize:"10px"},children:"The header of the in-app pop up containing rules"}),(0,Et.jsx)("input",{id:"rulesPopUpHeader",name:"rulesPopUpHeader",type:"text",className:"form-control",value:i,onChange:this.handleChange,placeholder:"Rules & Regs"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"rulesPopUpText",children:"Rules & Regs Pop Up Text"}),(0,Et.jsx)("p",{className:"text-muted2",style:{fontSize:"10px"},children:"The text of the in-app pop up. When this is filled in it will replace the rules and regs link and the text here will show up in a pop up."}),(0,Et.jsx)(BK,{field:{id:"rulesPopUpText",name:"rulesPopUpText",value:s},form:{setFieldValue:(e,t)=>this.handleRichTextChange("rulesPopUpText",t)},placeholder:"Enter pop up text"})]}),v&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"supportHeader",children:"Support Header"}),(0,Et.jsx)("p",{className:"text-muted2",style:{fontSize:"10px"},children:"The header of the in-app pop up containing support information"}),(0,Et.jsx)("input",{id:"supportHeader",name:"supportHeader",type:"text",className:"form-control",value:h,onChange:this.handleChange,placeholder:"NEED SUPPORT?"})]}),(0,Et.jsx)("div",{className:"form-group",children:(0,Et.jsx)(BK,{field:{id:"supportText",name:"supportText",value:p},form:{setFieldValue:(e,t)=>this.handleRichTextChange("supportText",t)},placeholder:"Enter support text"})})]}),!v&&(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"turnOnSecondMandatoryCheckbox",children:"Second Mandatory Rules & Regs Checkbox"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("input",{type:"checkbox",checked:r,id:"turnOnSecondMandatoryCheckbox",name:"turnOnSecondMandatoryCheckbox",onChange:this.handleChange})]}),r&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"secondaryMandatoryCheckboxText",children:"Rules And Regs Text"}),(0,Et.jsxs)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:["This text will appear AFTER the second mandatory confirm rules and regs button on the login form",(0,Et.jsx)("br",{}),(0,Et.jsx)("strong",{children:"Example:"})," Welcome! To play, please confirm that you agree with the second rules and regs"]}),(0,Et.jsx)(BK,{placeholder:"",form:{setFieldValue:(e,t)=>this.handleRichTextChange("secondaryMandatoryCheckboxText",t)},field:{id:"secondaryMandatoryCheckboxText",name:"secondaryMandatoryCheckboxText",value:t}})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"didNotCheckRulesAndRegsHeader2",children:"Did Not Check Rules And Regs Header"}),(0,Et.jsx)("p",{className:"text-muted2",style:{fontSize:"10px"},children:"The header of the error when the Rules & Regs checkbox isn't error"}),(0,Et.jsx)("input",{id:"didNotCheckRulesAndRegsHeader2",name:"didNotCheckRulesAndRegsHeader2",type:"text",className:"form-control",value:o,onChange:this.handleChange,placeholder:"Input Error"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"didNotCheckRulesAndRegsBody2",children:"Did Not Check Rules And Regs Body"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"This is the body message of the pop up"}),(0,Et.jsx)(BK,{placeholder:"",form:{setFieldValue:(e,t)=>this.handleRichTextChange("didNotCheckRulesAndRegsBody2",t)},field:{id:"didNotCheckRulesAndRegsBody2",name:"didNotCheckRulesAndRegsBody2",value:n}})]})]})]})]})})}),(0,Et.jsx)("div",{className:"container-out",style:{width:"45%",float:"right",marginRight:"20px"},children:(0,Et.jsxs)("div",{className:"admin-form-box",style:{border:"1px solid black",backgroundColor:"white"},children:[(0,Et.jsx)("p",{style:{fontSize:"20px",fontWeight:"bold"},children:"Why do I need rules & regulations?"}),(0,Et.jsx)("p",{className:"text-muted2",children:"While each state, country, and province is different, you will want to make sure you are compliant with all contest rules and laws. It is your responsibility to update, maintain, & host your rules and regulations tab."})]})})]})]})}}const T1=E1;class A1 extends e.Component{constructor(e){super(e),this.handleRichTextChange=(e,t)=>{let n=this.state.emailVariables;n[e]=t,this.setState({emailVariables:n})},this.UploadImage=new Gb,this.state={emailVariables:"",loading:!0},this.handleSubmit=this.handleSubmit.bind(this),this.handleChange=this.handleChange.bind(this),this.handleImageChange=this.handleImageChange.bind(this)}componentWillUnmount(){this.emailVariablesRef&&xS(this.emailVariablesRef)}componentDidMount(){const e=yS(database,"emailVariables");AS(e,e=>{const t=e.val()||{};let n=!1;t&&t.sender&&(n=!0),this.setState({loading:!1,advanced:n,emailVariables:t})},e=>{this.setState({loading:!1})}),this.emailVariablesRef=e}handleChange(e){let t=e.target,n=t.value;if("checkbox"===t.type)n=t.checked,this.setState({[t.name]:n});else{let t=this.state.emailVariables;t[e.target.name]=n,this.setState({emailVariables:t})}}handleImageChange(e){const t=e.target.name,n=this[t].files[0];this.setState({loading:!0});const r=this;this.UploadImage.upload_file(n).then(e=>{if(r.setState({loading:!1}),e.error)QS.fire({title:"Image cannot be uploaded",text:e.error});else if(e.imageUrl){let n=r.state.emailVariables;n[t]=e.imageUrl,r.setState({emailVariables:n},()=>{r[t].value=""})}else QS.fire({title:"Image cannot be uploaded",text:"Something went wrong, please re-upload your image and try again!"})})}handleSubmit(e){e.preventDefault();const t=this.state.emailVariables;let n=t.sender||"";if(n&&!KS(n))return void QS.fire({title:"Invalid Sender Email!",text:"Please make sure the sender contains a valid email address."});let r=t.subjectLine||"",o=t.preview||"",i=t.replyTo||"";if(i&&!KS(i))return void QS.fire({title:"Invalid Reply Email!",text:"Please make sure the reply to email contains a valid email address."});let s=t.helpText||"",a=t.emailBackgroundImage||"";this.setState({loading:!0});const l={};l.helpText=s,l.subjectLine=r,l.emailBackgroundImage=a,l.sender=n,l.replyTo=i,l.preview=o;const c=this;_S(yS(database,"emailVariables"),l).then(()=>{c.setState({loading:!1}),$S.fire({title:"Email Variables Updated!"})}).catch(e=>{c.setState({loading:!1}),QS.fire({title:"There was some error!",text:"Try again and if the problem persists try logging out and logging back in"})})}render(){let e=this.state.emailVariables.sender||"",t=this.state.emailVariables.subjectLine||"",n=this.state.emailVariables.preview||"",r=this.state.emailVariables.replyTo||"",o=this.state.emailVariables.helpText||"",i=this.state.emailVariables.emailBackgroundImage;return(0,Et.jsxs)("div",{className:"admin-wrapper",children:[(0,Et.jsx)("div",{className:"loading-screen",style:{display:this.state.loading?"block":"none"}}),(0,Et.jsx)(za,{}),(0,Et.jsx)(Va,{}),(0,Et.jsxs)("div",{className:"admin-main-panel",children:[(0,Et.jsx)("p",{className:"admin-header-text",style:{marginBottom:0},children:"Email Branding"}),(0,Et.jsx)("p",{className:"admin-subheader-text",children:"This is where you can edit the email sent to fans"}),(0,Et.jsx)("div",{className:"container-out",children:(0,Et.jsx)("div",{className:"admin-form-box",children:(0,Et.jsxs)("form",{onSubmit:this.handleSubmit,id:"create-email-form",children:[(0,Et.jsxs)("button",{className:"btn btn-primary btn-lg update-button",id:"submitButton",style:{marginBottom:20},children:[(0,Et.jsx)("span",{className:"fa fa-arrow-circle-o-up"})," Update"]}),(0,Et.jsx)("div",{className:"row col-md-12",children:(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"subjectLine",children:"Email Subject Line"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"This is the subject line that your fans will see when they receive their winning emails"}),(0,Et.jsx)("input",{id:"subjectLine",name:"subjectLine",className:"form-control",value:t,onChange:this.handleChange})]})}),(0,Et.jsx)("div",{className:"row col-md-12",children:(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"preview",children:"Email Preview Text"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"This is the preview text for the email, if left blank it will be replaced by the subject line. For mobile optimization the length should be between 35-50 characters but for desktop the preview can be up to 140 characters and beyond"}),(0,Et.jsx)("input",{id:"preview",name:"preview",className:"form-control",value:n,onChange:this.handleChange})]})}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"replyTo",children:"Reply To"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"This is the reply address your fans will see when they reply to the prize email. We recommend a support email or something where you can help your fans with the prize they win"}),(0,Et.jsx)("input",{id:"replyTo",name:"replyTo",type:"text",className:"form-control",value:r,onChange:this.handleChange})]}),(0,Et.jsxs)("div",{className:"row",children:[(0,Et.jsxs)("div",{className:"form-group col-md-3",children:[(0,Et.jsx)("label",{htmlFor:"helpText",children:"Help Text"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"This is where you can tell fans where to contact you with issues.  (Example: Having issues? Email info@prediction.com for help.)"}),(0,Et.jsx)(BK,{field:{id:"helpText",name:"helpText",value:o},form:{setFieldValue:(e,t)=>this.handleRichTextChange(e,t)}})]}),(0,Et.jsxs)("div",{className:"form-group col-md-9",align:"center",children:[(0,Et.jsx)("img",{src:i,width:"auto",height:"100px",alt:""}),(0,Et.jsx)("br",{}),(0,Et.jsxs)("label",{htmlFor:"backgroundImage",children:["Email Header Image",(0,Et.jsx)("br",{})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("input",{style:{display:"none"},id:"emailBackgroundImage",name:"emailBackgroundImage",type:"file",ref:e=>{this.emailBackgroundImage=e},onChange:this.handleImageChange}),(0,Et.jsx)("input",{className:"btn btn-primary btn-lg choose-image-button",type:"button",value:"Choose Image",onClick:()=>document.getElementById("emailBackgroundImage").click()})]})]})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"showAdvancedSettings",children:"Advanced"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("input",{type:"checkbox",checked:this.state.advanced,id:"advanced",name:"advanced",onChange:this.handleChange})]}),this.state.advanced&&(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"sender",children:"Email Sender"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"This is the sender your fans will see when they receive their winning emails. BE AWARE: changing the sender could adversely impact delivery rates"}),(0,Et.jsx)("input",{id:"sender",name:"sender",type:"text",className:"form-control",value:e,onChange:this.handleChange})]})]})})})]})]})}}const D1=A1;let N1=new window.google.maps.Geocoder;const O1=n(4802);class I1 extends e.Component{constructor(e){super(e),this.state={loading:!0,tenantVariables:{},acceptableDistance:"",locationPermissionsBody:"",locationPermissionsHeader:"",formattedAddress:"",notAcceptableLocationMessage:"",notAcceptableLocationHeader:"",canPlayOutside:!1,canPlay:!1,allowList:"",blockList:"",advanced:!1},this.handleChange=this.handleChange.bind(this),this.handleTextChange=this.handleTextChange.bind(this),this.handleRichTextChange=this.handleRichTextChange.bind(this)}componentDidMount(){AS(yS(HS(),"tenantVariables"),e=>{const t=e.val()||{};let n=!1;(t.doNotCollectEmail||t.sanitizeEmails||t.allowList||t.blockList||t.collectDistance||t.noMandatoryTermsAndConditions||t.collectYesNoQuestion||t.keepFansLoggedIn||t.collectCustomDropdown||t.collectTextQuestion||t.collectTextInputOne||t.collectTextInputTwo)&&(n=!0),this.setState({acceptableDistance:t.acceptableDistance,customDropdownOptions:t.customDropdownOptions,locationPermissionsBody:t.locationPermissionsBody,locationPermissionsHeader:t.locationPermissionsHeader,formattedAddress:t.formattedAddress,notAcceptableLocationMessage:t.notAcceptableLocationMessage||"",yesNoQuestionText:t.yesNoQuestionText||"",yesNoQuestionText2:t.yesNoQuestionText2||"",yesNoQuestionText3:t.yesNoQuestionText3||"",notAcceptableLocationHeader:t.notAcceptableLocationHeader,canPlayOutside:t.canPlayOutside,allowList:t.allowList,blockList:t.blockList,promotionText:t.promotionText||"",promotionTextTwo:t.promotionTextTwo||"",promotionTextThree:t.promotionTextThree||"",promotionTextFour:t.promotionTextFour||"",collectCustomDropdown:t.collectCustomDropdown||!1,advanced:n,tenantVariables:t,loading:!1})})}async handleChange(e){const t=e.target,n="checkbox"===t.type?t.checked:t.value,r={};r["tenantVariables/".concat(t.name)]=n,await _S(yS(database),r),this.setState({[t.name]:n})}async handleTextChange(e){const t=this.state.tenantVariables;t[e.target.name]=e.target.value;const n={};n["tenantVariables/".concat(e.target.name)]=e.target.value,await _S(yS(database),n),this.setState({tenantVariables:t})}async selectOption(e){const t=this.state.tenantVariables;t[e]=!t[e];const n={};n["tenantVariables/".concat(e)]=t[e],await _S(yS(database),n),this.setState({tenantVariables:t})}updateDistance(){const e=this.state.tenantVariables;if(!this.state.acceptableDistance||!this.state.formattedAddress)return void QS.fire({title:"Hold on!",text:"Please make sure all the form fields are filled out"});if(this.state.acceptableDistance<=0)return void QS.fire({title:"Hold on!",text:"Please make sure distance is greater than 0"});const t=this.state.canPlayOutside||!1,n=this.state.canPlay||!1;this.setState({loading:!0});const r=this;let o=r.state.notAcceptableLocationMessage;N1.geocode({address:this.state.formattedAddress},function(i,s){if("OK"===s)if(1===i.length){const s=e;s.formattedAddress=r.state.formattedAddress,s.acceptableDistance=r.state.acceptableDistance,s.longitude=i[0].geometry.location.lng(),s.latitude=i[0].geometry.location.lat(),s.locationPermissionsBody=r.state.locationPermissionsBody||"",s.locationPermissionsHeader=r.state.locationPermissionsHeader||"",s.notAcceptableLocationMessage=o,s.notAcceptableLocationHeader=r.state.notAcceptableLocationHeader||"",s.canPlayOutside=t,s.canPlay=n;kS(yS(HS(),"tenantVariables"),s).then(()=>{r.setState({tenantVariables:s,loading:!1}),$S.fire({title:"Updates Successful"})}).catch(e=>{r.setState({loading:!1}),QS.fire({title:"Error",text:e.message})})}else r.setState({loading:!1}),QS.fire({title:"Hold on!",text:"Too many locations have that address! Add more detail to get only 1 address"});else r.setState({loading:!1}),QS.fire({title:"Hold on!",text:"Finding address was not successful because "+s})})}updateList(e){const t=e+"List";let n=this.state[t];n=n.trim().toLowerCase();let r="";if(n){const e=n.split(/[ ,\s]+/);for(const t in e){const n=e[t];let r;if(r=-1===n.indexOf("@")?O1(n):KS(n),!r)return void QS.fire({title:"Hold on!",text:"One of the items on the block list isn't a valid email or domain. The item causing an issue is: "+n+"."})}r=e.join(" ")}const o=HS(),i={};i["tenantVariables/".concat(t)]=r,_S(yS(o),i).then(()=>{$S.fire({title:"List Updated"})}).catch(e=>{QS.fire({title:"There was some error!",text:"Try again and if the problem persists try logging out and logging back in"})})}async handleRichTextChange(e,t){const n=this.state.tenantVariables;ZS(t)&&(t=""),n[e]=t;const r={};r["tenantVariables/".concat(e)]=t,await _S(yS(database),r),this.setState({tenantVariables:n})}async updateCustomDropdownOptions(){const e=XS(this.state.customDropdownOptions,!1,!0);if((await JS.fire({title:"Save Dropdown Options?",text:"Are you sure you want to do this? We have detected ".concat(e.length," potential responses"),type:"warning",showCancelButton:!0,confirmButtonText:"Save"})).value){const e={};e["tenantVariables/customDropdownOptions"]=this.state.customDropdownOptions,_S(yS(database),e).then(()=>{$S.fire({title:"Updated"})}).catch(e=>{QS.fire({title:"There was some error!",text:"Try again and if the problem persists try logging out and logging back in",type:"error",confirmButtonText:"Ok"})})}}render(){const e=this.state.tenantVariables||{},t=e.collectName,n=e.nameInEmail,r=e.collectYesNoQuestion,o=e.collectYesNoQuestion2,i=e.collectYesNoQuestion3,s=e.collectYesExplanation,a=e.collectYesExplanation2,l=e.collectYesExplanation3,c=e.noMandatoryTermsAndConditions,u=e.collectZipCode,d=e.collectOptIn,h=e.collectOptInTwo,p=e.collectOptInThree,f=e.collectOptInFour,m=e.optInDefaultUnchecked,g=e.collectOptInTwoNotDefaultCheck,v=e.collectOptInThreeNotDefaultCheck,y=e.collectOptInFourNotDefaultCheck,b=e.collectBirthday,w=e.collectPhoneNumber,x=e.collectCity,k=e.collectState,_=e.formBirthday,C=e.optionalPhoneNumber,S=(e.allowAnonymousLogin,e.collectDistance),E=e.collectFullAddress,T=e.keepFansLoggedIn,A=e.collectCustomDropdown,D=e.collectCountry,N=parseFloat(this.state.acceptableDistance),O=e.doNotVerifyAmericanZipCode,I=e.doNotVerifyAmericanPhoneNumber,P=e.verifyNewZealandPhoneNumber;let j=this.state.formattedAddress,M=this.state.locationPermissionsBody,R=this.state.locationPermissionsHeader;const F=e.sanitizeEmails,L=this.state.canPlayOutside,z=this.state.canPlay,B=this.state.notAcceptableLocationMessage,U=this.state.notAcceptableLocationHeader,V=e.allowedZipCodes,H=e.blockedZipCodesTextMessage;return(0,Et.jsxs)("div",{className:"admin-wrapper",children:[(0,Et.jsx)("div",{className:"loading-screen",style:{display:this.state.loading?"block":"none"}}),(0,Et.jsx)(za,{}),(0,Et.jsx)(Va,{}),(0,Et.jsxs)("div",{className:"admin-main-panel",children:[(0,Et.jsx)("div",{className:"container-out container-left-rules",style:{float:"left",width:"50%"},children:(0,Et.jsxs)("div",{className:"admin-form-box",children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"rulesAndRegsText",children:"Collect Name Of Fan"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a MANDATORY name field to the login flow"}),(0,Et.jsx)("input",{type:"checkbox",checked:t,id:"collectName",name:"collectName",onClick:()=>this.selectOption("collectName")})]}),t&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"rulesAndRegsText",children:"Include Name In Email"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("input",{type:"checkbox",checked:n,id:"nameInEmail",name:"nameInEmail",onClick:()=>this.selectOption("nameInEmail")})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"namePlaceHolderText",children:"Name Placeholder Text"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Use this to inform the fans which name to enter"}),(0,Et.jsx)("input",{value:e.namePlaceHolderText,className:"form-control",type:"text",id:"namePlaceHolderText",name:"namePlaceHolderText",placeholder:"First & Last Name",onChange:this.handleTextChange})]})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectOptIn",children:"Collect ZipCode"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a MANDATORY zip code field to the login flow"}),(0,Et.jsx)("input",{type:"checkbox",checked:u,id:"collectZipCode",name:"collectZipCode",onClick:()=>this.selectOption("collectZipCode")})]}),u&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"zipCodePlaceholder",children:"Zipcode Placeholder Text"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Use this to inform the fans which zip to enter"}),(0,Et.jsx)("input",{value:e.zipCodePlaceholder,className:"form-control",type:"text",id:"zipCodePlaceholder",name:"zipCodePlaceholder",placeholder:"Zipcode",onChange:this.handleTextChange})]}),(0,Et.jsxs)("div",{style:{marginTop:10},children:[(0,Et.jsx)("label",{htmlFor:"allowedZipCodes",children:"Allowed Zips:"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("textarea",{id:"allowedZipCodes",name:"allowedZipCodes",value:V,onChange:this.handleTextChange})]}),u&&V&&V.length>0&&(0,Et.jsxs)("div",{children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"blockedZipCodesTextHeader",children:"Blocked Zip Header:"}),(0,Et.jsx)("input",{id:"blockedZipCodesTextHeader",name:"blockedZipCodesTextHeader",type:"text",className:"form-control",value:this.state.tenantVariables.blockedZipCodesTextHeader,onChange:this.handleTextChange,placeholder:"Sorry!"})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"blockedZipCodesTextMessage",children:"Blocked Zip Message:"}),(0,Et.jsx)(BK,{placeholder:"You are outside of the play area",form:{setFieldValue:this.handleRichTextChange},field:{name:"blockedZipCodesTextMessage",value:H},handleChange:e=>this.handleRichTextChange("blockedZipCodesTextMessage",e)})]})]})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectCity",children:"Collect City"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a MANDATORY city field to the login flow"}),(0,Et.jsx)("input",{type:"checkbox",checked:x,id:"collectCity",name:"collectCity",onClick:()=>this.selectOption("collectCity")})]}),x&&(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"cityPlaceholder",children:"City Placeholder Text"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Use this to inform the fans which city to enter"}),(0,Et.jsx)("input",{value:e.cityPlaceholder,className:"form-control",type:"text",id:"cityPlaceholder",name:"cityPlaceholder",placeholder:"City",onChange:this.handleTextChange})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectState",children:"Collect State"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a MANDATORY state field to the login flow"}),(0,Et.jsx)("input",{type:"checkbox",checked:k,id:"collectState",name:"collectState",onClick:()=>this.selectOption("collectState")})]}),k&&(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"statePlaceholder",children:"State Placeholder Text"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Use this to inform the fans which state to enter"}),(0,Et.jsx)("input",{value:e.statePlaceholder,className:"form-control",type:"text",id:"statePlaceholder",name:"statePlaceholder",placeholder:"State",onChange:this.handleTextChange})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectFullAddress",children:"Collect Full Address"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a MANDATORY address field to the login flow"}),(0,Et.jsx)("input",{type:"checkbox",checked:E,id:"collectFullAddress",name:"collectFullAddress",onClick:()=>this.selectOption("collectFullAddress")}),(0,Et.jsx)("div",{style:{display:E?"":"none",margin:5},children:(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"fullAddressPlaceHolderText",children:"Placeholder Text"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Enter the placeholder text you want to appear in the input box"}),(0,Et.jsx)("input",{placeholder:"Mailing Address",type:"text",id:"fullAddressPlaceHolderText",name:"fullAddressPlaceHolderText",className:"form-control",value:e.fullAddressPlaceHolderText,onChange:this.handleTextChange})]})})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectBirthday",children:"Collect Birthday"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a MANDATORY birthday input field"}),(0,Et.jsx)("input",{type:"checkbox",checked:b,id:"collectBirthday",name:"collectBirthday",onClick:()=>this.selectOption("collectBirthday")}),(0,Et.jsxs)("div",{style:{display:b?"":"none",margin:5},children:[(0,Et.jsxs)("div",{className:"form-group",style:{display:b?"":"none"},children:[(0,Et.jsx)("label",{htmlFor:"allowedAge",children:"Age"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Enter an age that the user must be above to play"}),(0,Et.jsx)("input",{type:"number",id:"allowedAge",name:"allowedAge",className:"form-control",value:e.allowedAge,onChange:this.handleTextChange})]}),(0,Et.jsxs)("label",{className:"radio-inline",style:{marginRight:5},children:[(0,Et.jsx)("input",{type:"radio",name:"formBirthday",id:"formBirthday",onChange:()=>this.selectOption("formBirthday"),checked:_})," In Form Birthday Input"]}),(0,Et.jsxs)("label",{className:"radio-inline",children:[(0,Et.jsx)("input",{type:"radio",name:"formBirthday",id:"formBirthday",onChange:()=>this.selectOption("formBirthday"),checked:!_})," Page Birthday Input"]})]})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectPhoneNumber",children:"Collect Phone Number"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a MANDATORY phone number field to the login flow"}),(0,Et.jsx)("input",{type:"checkbox",checked:w,id:"collectPhoneNumber",name:"collectPhoneNumber",onClick:()=>this.selectOption("collectPhoneNumber")}),w&&(0,Et.jsxs)("div",{children:[(0,Et.jsxs)("label",{className:"radio-inline",style:{marginRight:5},children:[(0,Et.jsx)("input",{type:"radio",name:"optionalPhoneNumber",id:"optionalPhoneNumber",onChange:()=>this.selectOption("optionalPhoneNumber"),checked:C})," Optional"]}),(0,Et.jsxs)("label",{className:"radio-inline",children:[(0,Et.jsx)("input",{type:"radio",name:"optionalPhoneNumber",id:"optionalPhoneNumber",onChange:()=>this.selectOption("optionalPhoneNumber"),checked:!C})," Mandatory"]})]})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectOptIn",children:"Turn On Optional Opt-In"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a optional field to the login flow, enter the text below"}),(0,Et.jsx)("input",{type:"checkbox",checked:d,id:"collectOptIn",name:"collectOptIn",onClick:()=>this.selectOption("collectOptIn")})]}),d&&(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"promotionText",children:"Opt-In Text"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Text That Shows Next To Opt-In Check Box"}),(0,Et.jsx)(BK,{field:{id:"promotionText",name:"promotionText",value:this.state.promotionText},form:{setFieldValue:(e,t)=>this.handleRichTextChange("promotionText",t)},placeholder:"Opt in to our sweet offer"}),(0,Et.jsx)("input",{type:"checkbox",checked:m,id:"optInDefaultUnchecked",name:"optInDefaultUnchecked",onClick:()=>this.selectOption("optInDefaultUnchecked"),style:{marginRight:5}}),(0,Et.jsx)("label",{htmlFor:"optInDefaultUnchecked",children:"Default Opt-In Not Checked"})]}),(d||h)&&(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectOptInTwo",children:"Collect Second Opt-In"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a optional field to the login flow, enter the text below"}),(0,Et.jsx)("input",{type:"checkbox",checked:h,id:"collectOptInTwo",name:"collectOptInTwo",onClick:()=>this.selectOption("collectOptInTwo")})]}),h&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Text That Shows Next To Opt-In Check Box"}),(0,Et.jsx)(BK,{field:{id:"promotionTextTwo",name:"promotionTextTwo",value:this.state.promotionTextTwo},form:{setFieldValue:(e,t)=>this.handleRichTextChange("promotionTextTwo",t)},placeholder:"Opt in to our sweet offer"}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectOptInTwoNotDefaultCheck",children:"Default Not Checked"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to have the Opt-In field not default checked"}),(0,Et.jsx)("input",{type:"checkbox",checked:g,id:"collectOptInTwoNotDefaultCheck",name:"collectOptInTwoNotDefaultCheck",onClick:()=>this.selectOption("collectOptInTwoNotDefaultCheck")})]})]}),(d&&h||p)&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectOptInTwo",children:"Collect Third Opt-In"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a optional field to the login flow, enter the text below"}),(0,Et.jsx)("input",{type:"checkbox",checked:p,id:"collectOptInThree",name:"collectOptInThree",onClick:()=>this.selectOption("collectOptInThree")})]}),p&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Text That Shows Next To Opt-In Check Box"}),(0,Et.jsx)(BK,{field:{id:"promotionTextThree",name:"promotionTextThree",value:this.state.promotionTextThree},form:{setFieldValue:(e,t)=>this.handleRichTextChange("promotionTextThree",t)},placeholder:"Opt in to our sweet offer"}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectOptInThreeNotDefaultCheck",children:"Default Not Checked"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to have the Opt-In field not default checked"}),(0,Et.jsx)("input",{type:"checkbox",checked:v,id:"collectOptInThreeNotDefaultCheck",name:"collectOptInThreeNotDefaultCheck",onClick:()=>this.selectOption("collectOptInThreeNotDefaultCheck")})]})]})]}),(d&&h&&p||f)&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectOptInFour",children:"Collect Fourth Opt-In"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a optional field to the login flow, enter the text below"}),(0,Et.jsx)("input",{type:"checkbox",checked:f,id:"collectOptInFour",name:"collectOptInFour",onClick:()=>this.selectOption("collectOptInFour")})]}),f&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Text That Shows Next To Opt-In Check Box"}),(0,Et.jsx)(BK,{field:{id:"promotionTextFour",name:"promotionTextFour",value:this.state.promotionTextFour},form:{setFieldValue:(e,t)=>this.handleRichTextChange("promotionTextFour",t)},placeholder:"Opt in to our sweet offer"}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectOptInFourNotDefaultCheck",children:"Default Not Checked"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to have the Opt-In field not default checked"}),(0,Et.jsx)("input",{type:"checkbox",checked:y,id:"collectOptInFourNotDefaultCheck",name:"collectOptInFourNotDefaultCheck",onClick:()=>this.selectOption("collectOptInFourNotDefaultCheck")})]})]})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectCountry",children:"Collect Country"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a MANDATORY country drop down field to the login flow"}),(0,Et.jsx)("input",{type:"checkbox",checked:D,id:"collectCountry",name:"collectCountry",onClick:()=>this.selectOption("collectCountry")})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"showAdvancedSettings",children:"Advanced"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("input",{type:"checkbox",checked:this.state.advanced,id:"advanced",name:"advanced",onChange:this.handleChange})]}),(0,Et.jsxs)("div",{style:{display:this.state.advanced?"":"none"},children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectDistance",children:"Turn On/Off Geolocation"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add MANDATORY verification of distance from location"}),(0,Et.jsx)("input",{type:"checkbox",checked:S,id:"collectDistance",name:"collectDistance",onClick:()=>this.selectOption("collectDistance")}),(0,Et.jsxs)("span",{style:{display:S?"block":"none"},children:["If failed location user can ",(0,Et.jsx)("input",{type:"checkbox",onClick:()=>this.setState({canPlay:!1}),checked:!z})," not play ",(0,Et.jsx)("input",{onClick:()=>this.setState({canPlay:!0}),type:"checkbox",checked:z})," play but not win",(0,Et.jsx)("br",{}),(0,Et.jsx)("label",{htmlFor:"formattedAddress",style:{marginTop:5,marginBottom:0},children:"Address"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("input",{className:"form-control",type:"text",id:"formattedAddress",name:"formattedAddress",value:j,onChange:this.handleChange,placeholder:"Address"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("label",{htmlFor:"locationPermissionsHeader",style:{marginTop:5,marginBottom:0},children:"Requesting Location Permissions Header"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("input",{className:"form-control",type:"text",id:"locationPermissionsHeader",name:"locationPermissionsHeader",value:R,onChange:this.handleChange,placeholder:"Location Permissions Header"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("label",{htmlFor:"locationPermissionsBody",style:{marginTop:5,marginBottom:0},children:"Requesting Location Permissions Body"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("textarea",{className:"form-control",id:"locationPermissionsBody",name:"locationPermissionsBody",value:M,onChange:this.handleChange,placeholder:"Location Permissions Body"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("label",{htmlFor:"notAcceptableLocationHeader",style:{marginTop:5,marginBottom:0},children:"Not Acceptable Location Header"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("input",{className:"form-control",type:"text",id:"notAcceptableLocationHeader",name:"notAcceptableLocationHeader",value:U,onChange:this.handleChange,placeholder:"Not Acceptable Location Header"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("label",{htmlFor:"notAcceptableLocationMessage",style:{marginTop:5,marginBottom:0},children:"Not Acceptable Location Message"}),(0,Et.jsx)("br",{}),(0,Et.jsx)(BK,{field:{id:"notAcceptableLocationMessage",name:"notAcceptableLocationMessage",value:B},form:{setFieldValue:(e,t)=>this.setState({notAcceptableLocationMessage:t})},placeholder:"Not Acceptable Location Message"}),(0,Et.jsx)("br",{}),(0,Et.jsx)("label",{htmlFor:"acceptableDistance",style:{marginTop:5,marginBottom:0},children:"Distance (Miles)"}),(0,Et.jsx)("input",{type:"checkbox",onClick:()=>this.setState({canPlayOutside:!1}),checked:!L})," Fans Can Play Within ",(0,Et.jsx)("input",{onClick:()=>this.setState({canPlayOutside:!0}),type:"checkbox",checked:L})," Fans Can Play Outside",(0,Et.jsx)("br",{}),(0,Et.jsx)("input",{className:"form-control",type:"number",id:"acceptableDistance",step:"0.1",name:"acceptableDistance",min:"0",value:N,onChange:this.handleChange,placeholder:""}),(0,Et.jsxs)("button",{className:"btn btn-primary btn-lg update-button",style:{marginTop:5},onClick:()=>this.updateDistance(),children:[(0,Et.jsx)("span",{className:"fa fa-arrow-circle-o-up"})," Update Distance Variables"]})]})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"noMandatoryTermsAndConditions",children:"Turn OFF Mandatory Terms And Conditions"}),(0,Et.jsxs)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:["Check this box to remove the MANDATORY confirm rules and regs checkbox",(0,Et.jsx)("br",{}),"Rules and Regs Text and Link come from the ",(0,Et.jsx)("a",{href:"/setuprulesandregs",children:(0,Et.jsx)("u",{children:"Rules and Regs Tab"})})]}),(0,Et.jsx)("input",{type:"checkbox",checked:c,id:"noMandatoryTermsAndConditions",name:"noMandatoryTermsAndConditions",onClick:()=>this.selectOption("noMandatoryTermsAndConditions")})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"sanitizeEmails",children:"Sanitize Emails"}),(0,Et.jsxs)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:["Check this box to map accounts with the same sanitized email to the same account",(0,Et.jsx)("br",{}),"(could lead to issues with users having the same email address)"]}),(0,Et.jsx)("input",{type:"checkbox",checked:F,id:"sanitizeEmails",name:"sanitizeEmails",onClick:()=>this.selectOption("sanitizeEmails")})]}),w&&(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"doNotVerifyAmericanPhoneNumber",children:"Do Not Verify American Phone Number?"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Do not verify American Phone Number. Check this only if the phone numbers you are collecting are outside the U.S."}),(0,Et.jsx)("input",{type:"checkbox",checked:I,id:"doNotVerifyAmericanPhoneNumber",name:"doNotVerifyAmericanPhoneNumber",onClick:()=>this.selectOption("doNotVerifyAmericanPhoneNumber")})]}),w&&I&&(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"verifyNewZealandPhoneNumber",children:"Verify New Zealand Phone Number?"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Verify New Zealand Phone Number. Check this only if the phone numbers you are collecting are from New Zealand"}),(0,Et.jsx)("input",{type:"checkbox",checked:P,id:"verifyNewZealandPhoneNumber",name:"verifyCanadianZipCode",onClick:()=>this.selectOption("verifyNewZealandPhoneNumber")})]}),u&&(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"doNotVerifyAmericanZipCode",children:"Do Not Verify American Zip Code?"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Do not verify American Zip Code. Check this only if the zip codes you are collecting are outside the U.S."}),(0,Et.jsx)("input",{type:"checkbox",checked:O,id:"doNotVerifyAmericanZipCode",name:"doNotVerifyAmericanZipCode",onClick:()=>this.selectOption("doNotVerifyAmericanZipCode")})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"blockList",children:"Block List Emails/Domains"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Enter any emails or domains that should be blocked from logging in."}),(0,Et.jsx)("textarea",{className:"form-control",id:"blockList",name:"blockList",value:this.state.blockList,onChange:this.handleChange}),(0,Et.jsxs)("button",{className:"btn btn-primary btn-lg update-button",style:{marginTop:5},onClick:()=>this.updateList("block"),children:[(0,Et.jsx)("span",{className:"fa fa-arrow-circle-o-up"})," Update Block List"]})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"allowList",children:"Allow List Emails/Domains"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Enter any emails or domains that should be allowed to login, all other emails/domains will be blocked. This will SUPERSEDE any emails/domains on the block list and let them play"}),(0,Et.jsx)("textarea",{className:"form-control",id:"allowList",name:"allowList",value:this.state.allowList,onChange:this.handleChange}),(0,Et.jsxs)("button",{className:"btn btn-primary btn-lg update-button",style:{marginTop:5},onClick:()=>this.updateList("allow"),children:[(0,Et.jsx)("span",{className:"fa fa-arrow-circle-o-up"})," Update Allow List"]})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"keepFansLoggedIn",children:"Keep Fans Logged In?"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to keep fans logged in so they will not have to keep filling in the login form"}),(0,Et.jsx)("input",{type:"checkbox",checked:T,id:"keepFansLoggedIn",name:"keepFansLoggedIn",onClick:()=>this.selectOption("keepFansLoggedIn")})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectYesNoQuestion",children:"Collect Yes Or No Question"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a Yes No Question To Your Login Form"}),(0,Et.jsx)("input",{type:"checkbox",checked:r,id:"collectYesNoQuestion",name:"collectYesNoQuestion",onClick:()=>this.selectOption("collectYesNoQuestion")})]}),r&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)(BK,{field:{id:"yesNoQuestionText",name:"yesNoQuestionText",value:this.state.yesNoQuestionText},form:{setFieldValue:(e,t)=>this.handleRichTextChange("yesNoQuestionText",t)},placeholder:"A great yes or no question"}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectYesExplanation",children:"Collect Yes Explanation?"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a mandatory input for an explanation of why yes"}),(0,Et.jsx)("input",{type:"checkbox",checked:s,id:"collectYesExplanation",name:"collectYesExplanation",onClick:()=>this.selectOption("collectYesExplanation")})]}),s&&(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"yesExplanationPlaceHolderText",children:"Yes Explanation Placeholder Text"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Use this to inform the fans to explain why yes"}),(0,Et.jsx)("input",{value:e.yesExplanationPlaceHolderText,className:"form-control",type:"text",id:"yesExplanationPlaceHolderText",name:"yesExplanationPlaceHolderText",placeholder:"Why yes?",onChange:this.handleTextChange})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectYesNoQuestion2",children:"Collect Second Yes Or No Question"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a second Yes No Question To Your Login Form"}),(0,Et.jsx)("input",{type:"checkbox",checked:o,id:"collectYesNoQuestion2",name:"collectYesNoQuestion2",onClick:()=>this.selectOption("collectYesNoQuestion2")})]}),o&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)(BK,{field:{id:"yesNoQuestionText2",name:"yesNoQuestionText2",value:this.state.yesNoQuestionText2},form:{setFieldValue:(e,t)=>this.handleRichTextChange("yesNoQuestionText2",t)},placeholder:"A great yes or no question"}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectYesExplanation2",children:"Collect Yes Explanation?"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a mandatory input for an explanation of why yes"}),(0,Et.jsx)("input",{type:"checkbox",checked:a,id:"collectYesExplanation2",name:"collectYesExplanation2",onClick:()=>this.selectOption("collectYesExplanation2")})]}),a&&(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"yesExplanationPlaceHolderText2",children:"Yes Explanation Placeholder Text"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Use this to inform the fans to explain why yes"}),(0,Et.jsx)("input",{value:e.yesExplanationPlaceHolderText2,className:"form-control",type:"text",id:"yesExplanationPlaceHolderText2",name:"yesExplanationPlaceHolderText2",placeholder:"Why yes?",onChange:this.handleTextChange})]})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectYesNoQuestion3",children:"Collect Third Yes Or No Question"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a third Yes No Question To Your Login Form"}),(0,Et.jsx)("input",{type:"checkbox",checked:i,id:"collectYesNoQuestion3",name:"collectYesNoQuestion3",onClick:()=>this.selectOption("collectYesNoQuestion3")})]}),i&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)(BK,{field:{id:"yesNoQuestionText3",name:"yesNoQuestionText3",value:this.state.yesNoQuestionText3},form:{setFieldValue:(e,t)=>this.handleRichTextChange("yesNoQuestionText3",t)},placeholder:"A great yes or no question"}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectYesExplanation3",children:"Collect Yes Explanation?"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add a mandatory input for an explanation of why yes"}),(0,Et.jsx)("input",{type:"checkbox",checked:l,id:"collectYesExplanation3",name:"collectYesExplanation3",onClick:()=>this.selectOption("collectYesExplanation3")})]}),l&&(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"yesExplanationPlaceHolderText3",children:"Yes Explanation Placeholder Text"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Use this to inform the fans to explain why yes"}),(0,Et.jsx)("input",{value:e.yesExplanationPlaceHolderText3,className:"form-control",type:"text",id:"yesExplanationPlaceHolderText3",name:"yesExplanationPlaceHolderText3",placeholder:"Why yes?",onChange:this.handleTextChange})]})]})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"collectCustomDropdown",children:"Collect Custom Dropdown"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Check this box to add custom drop down"}),(0,Et.jsx)("input",{type:"checkbox",checked:A,id:"collectCustomDropdown",name:"collectCustomDropdown",onClick:()=>this.selectOption("collectCustomDropdown")})]}),A&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"customDropdownOptions",children:"Custom Dropdown Options"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"Enter any options you want to show up in the dropdown, separate each option with the same separator. For example separating with a comma, space, or line break"}),(0,Et.jsx)("textarea",{className:"form-control",id:"customDropdownOptions",name:"customDropdownOptions",value:this.state.customDropdownOptions,onChange:this.handleChange}),(0,Et.jsxs)("button",{className:"btn btn-primary btn-lg update-button",style:{marginTop:5},onClick:()=>this.updateCustomDropdownOptions(),children:[(0,Et.jsx)("span",{className:"fa fa-arrow-circle-o-up"})," Update Custom Dropdown Options"]})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"customDropdownPlaceholderText",children:"Custom Dropdown Placeholder Text"}),(0,Et.jsx)("p",{style:{fontSize:"10px",color:"grey",fontFamily:"Open Sans"},children:"This is the text that will show up as the first option in the dropdown but will not count as a value"}),(0,Et.jsx)("input",{value:e.customDropdownPlaceholderText,className:"form-control",type:"text",id:"customDropdownPlaceholderText",name:"customDropdownPlaceholderText",placeholder:"",onChange:this.handleTextChange})]})]})]})]})}),(0,Et.jsx)("div",{className:"container-out mobile-hide",style:{width:"45%",float:"right",marginRight:"20px"},children:(0,Et.jsxs)("div",{className:"admin-form-box",style:{border:"1px solid black",backgroundColor:"white"},children:[(0,Et.jsx)("p",{style:{fontSize:"20px",fontWeight:"bold"},children:"What Data Should I Gather?"}),(0,Et.jsx)("p",{className:"text-muted2",children:"Think carefully about what you want to gather from your fan base. The more you ask for, the fewer people will be willing to go through the whole logging in process. Balance that with useful parameters that you can use to help your fans get more value from your experience."})]})})]})]})}}const P1=I1,j1=/^[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.myshopify\.com$/;const M1=function(){const[t,n]=(0,e.useState)([]),[r,o]=(0,e.useState)(!0),[s,a]=(0,e.useState)(!1),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(null),[h,p]=(0,e.useState)(""),[f,m]=(0,e.useState)(""),[g,v]=(0,e.useState)(!0),y=Bg(uy,"shops"),b=ue();(0,e.useEffect)(()=>{const e=ry(Nv(y,Mv("createdAt","desc")),e=>{n(e.docs.map(e=>(0,i.A)({id:e.id},e.data()))),o(!1)},e=>{console.error(e),o(!1),QS.fire({title:"Could not load shops",text:"Try reloading. If it persists, please log out/in."})});return()=>e()},[y]);const w=()=>{c(!1),d(null),p(""),m(""),v(!0)},x=(0,e.useCallback)(()=>{a(e=>!e),s&&w()},[s]),k=(0,e.useCallback)(()=>{w(),a(!0)},[]),_=(0,e.useCallback)(async()=>{const e=(h||"").trim(),t=(f||"").trim().toLowerCase();if(e){try{!function(e){if(!e)throw new Error("Please enter a Shopify domain (e.g., sqwad-test-store-plus.myshopify.com).");if(e.includes("/"))throw new Error("Domain must not include slashes.");if(!j1.test(e))throw new Error("Domain must match *.myshopify.com and use only lowercase letters, digits, and hyphens.")}(t)}catch(G1){return void QS.fire({title:"Invalid Domain",text:G1.message})}try{if(l&&null!==u&&void 0!==u&&u.id){const n=u.id;if(n===t)await ty(Ug(y,n),{shopName:e,shopLink:t,updatedAt:ay(),active:g}),$S.fire({title:"Shop updated!"});else{const r=Ug(y,n),o=await Jv(r);if(o.exists()){const n=o.data()||{};await ey(Ug(y,t),(0,i.A)((0,i.A)({},n),{},{shopName:e,shopLink:t,createdAt:n.createdAt||ay(),updatedAt:ay(),active:g})),await ny(r),$S.fire({title:"Domain updated and shop moved."})}else await ey(Ug(y,t),{shopName:e,shopLink:t,active:g,createdAt:ay()}),$S.fire({title:"Shop saved under new domain."})}}else{const n=Ug(y,t);if((await Jv(n)).exists())return void QS.fire({title:"Already Exists",text:"A shop with this domain already exists."});await ey(n,{shopName:e,shopLink:t,createdAt:ay()}),$S.fire({title:"Shop created!"})}a(!1),w()}catch(G1){console.error(G1),QS.fire({title:"There was an error!",text:"Try again, and if the problem persists, try logging out and back in."})}}else QS.fire({title:"Missing Info",text:"Please enter a shop name."})},[h,f,l,u,y]),C=(0,e.useCallback)(e=>{const n=t[e];n?(v("boolean"!==typeof n.active||n.active),c(!0),d(n),p(n.shopName||""),m(n.shopLink||n.id||""),a(!0)):QS.fire({title:"Oh uh!",text:"Refresh the page and try again!"})},[t]),S=(0,e.useCallback)(async e=>{const n=t[e];if(!n)return;const r=await JS.fire({title:"Delete Shop?",text:"Are you sure? Deleting a shop will remove it from the system.",confirmButtonText:"Delete"});if(r&&r.value)try{await ny(Ug(y,n.id)),$S.fire({title:"Deleted!"})}catch(G1){console.error(G1),QS.fire({title:"There was some error!",text:"Try again, and if the problem persists, try logging out and back in."})}},[t,y]),E=(0,e.useCallback)(e=>{const n=t[e];n&&(c(!1),d(null),p("".concat(n.shopName||"Shop"," (copy)")),m(""),a(!0),v("boolean"!==typeof n.active||n.active))},[t]),T=(0,e.useCallback)(async e=>{try{await ty(Ug(y,e.id),{active:!e.active,updatedAt:ay()}),$S.fire({title:"Shop ".concat(e.active?"disabled":"enabled","!")})}catch(G1){console.error(G1),QS.fire({title:"Error",text:"Could not update active state."})}},[y]),A=(0,e.useCallback)(e=>{var n;const r="number"===typeof e?t[e]:e;if(!r)return void QS.fire({title:"Not found",text:"That shop could not be loaded."});const o=r.id||(null!==(n=r.shopLink)&&void 0!==n?n:"").trim().toLowerCase();o?b("/shops/".concat(encodeURIComponent(o))):QS.fire({title:"Missing id",text:"Shop is missing an id/domain."})},[b,t]);return(0,Et.jsxs)("div",{className:"admin-wrapper",children:[(0,Et.jsx)("div",{className:"loading-screen",style:{display:r?"block":"none"}}),(0,Et.jsx)(za,{}),(0,Et.jsx)(Va,{}),(0,Et.jsx)("div",{className:"admin-main-panel",children:(0,Et.jsx)("div",{className:"card",children:(0,Et.jsxs)("div",{className:"card-body",children:[(0,Et.jsx)("p",{className:"admin-header-text",style:{marginBottom:0},children:"Shops"}),(0,Et.jsx)("p",{className:"admin-subheader-text",children:"These are shops in the system"}),(0,Et.jsx)("button",{className:"btn btn-primary btn-lg create-prize-button",style:{fontSize:20,marginLeft:20},onClick:k,children:"Add Shop"}),(0,Et.jsx)("div",{className:"admin-grid-container four-columns",style:{marginTop:20},children:t.map((e,t)=>(0,Et.jsx)("div",{className:"card",children:(0,Et.jsxs)("div",{className:"card-body",align:"center",children:[(0,Et.jsx)("p",{style:{marginTop:5,fontWeight:600},children:e.shopName}),(0,Et.jsx)("p",{style:{marginTop:5},children:e.shopLink||e.id}),(0,Et.jsxs)("p",{style:{marginTop:5,color:"black"},children:["Status:\xa0",(0,Et.jsx)("span",{style:{color:"black"},className:"badge ".concat(e.active?"badge-success":"badge-secondary"),children:e.active?"Active":"Inactive"})]}),(0,Et.jsxs)("button",{className:"btn btn-primary btn-lg edit-button",style:{marginRight:5,marginBottom:10},onClick:()=>C(t),children:[(0,Et.jsx)("span",{className:"fa fa-ellipsis-v"})," Edit"]}),(0,Et.jsxs)("button",{className:"btn btn-primary btn-lg delete-button",style:{marginBottom:10},onClick:()=>S(t),children:[(0,Et.jsx)("span",{className:"fa fa-trash-o"})," Delete"]}),(0,Et.jsx)("div",{className:"row",children:(0,Et.jsxs)("div",{className:"col-lg-12",children:[(0,Et.jsxs)("button",{className:"btn btn-primary btn-lg",style:{marginRight:5,marginBottom:10},onClick:()=>E(t),children:[(0,Et.jsx)("span",{className:"fa fa-copy"})," Duplicate"]}),(0,Et.jsx)("button",{className:"btn btn-outline-primary btn-lg",style:{marginLeft:5,marginBottom:10},onClick:()=>T(e),children:e.active?"Disable":"Enable"})]})}),(0,Et.jsx)("div",{className:"row",children:(0,Et.jsx)("button",{className:"btn btn-success btn-lg",style:{marginRight:5,marginBottom:10},onClick:()=>A(t),children:"View"})})]})},e.id||t))})]})})}),(0,Et.jsxs)(Mb,{isOpen:s,toggle:x,style:{width:"90%"},id:"myModal",children:[(0,Et.jsx)(Ub,{toggle:x,children:l?"Edit Shop":"Add Shop"}),(0,Et.jsx)(Kb,{children:(0,Et.jsx)("div",{className:"container-out",children:(0,Et.jsxs)("div",{className:"question-box question-form",children:[(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"shopName",children:"Shop Name"}),(0,Et.jsx)("input",{type:"text",name:"shopName",id:"shopName",value:h,onChange:e=>p(e.target.value)})]}),(0,Et.jsxs)("div",{className:"form-group",children:[(0,Et.jsx)("label",{htmlFor:"shopLink",children:"Shopify Domain"}),(0,Et.jsx)("input",{type:"text",placeholder:"sqwad-test-store-plus.myshopify.com",name:"shopLink",id:"shopLink",value:f,onChange:e=>m(e.target.value)}),(0,Et.jsx)("small",{children:"Must be a valid *.myshopify.com domain (lowercase, letters/digits/hyphens only)."})]}),(0,Et.jsx)("div",{className:"form-group",children:(0,Et.jsxs)("label",{htmlFor:"shopActive",style:{display:"flex",alignItems:"center",gap:8},children:[(0,Et.jsx)("input",{id:"shopActive",type:"checkbox",checked:g,onChange:e=>v(e.target.checked)}),"Active"]})}),(0,Et.jsx)("div",{className:"form-group text-center",children:(0,Et.jsx)("button",{className:"btn btn-primary btn-lg submit-button",onClick:_,children:l?"Update Shop":"Create Shop"})})]})})})]})]})},R1=e=>"$".concat(Number(e||0).toFixed(2));const F1=function(){const{shopId:t}=de(),n=ue();(0,e.useEffect)(()=>{t||n("/setupshop",{replace:!0})},[t,n]);const[r,o]=(0,e.useState)(!0),[s,a]=(0,e.useState)(null),[l,c]=(0,e.useState)({ordersCount:0,gmv:0,gmvNet:0,gross:0,grossNet:0}),u=(0,e.useMemo)(()=>t?Ug(uy,"shops",t):null,[t]);return(0,e.useEffect)(()=>{if(!u)return;o(!0);const e=ry(u,e=>{if(!e.exists())return a(null),o(!1),void n("/setupshop",{replace:!0});a((0,i.A)({id:e.id},e.data())),o(!1)},()=>o(!1));return()=>e()},[u,n]),(0,e.useEffect)(()=>{t&&(async()=>{const e=Nv(Bg(uy,"shops",t,"orders"),Iv("financialStatus","==","PAID"),Iv("cancelledAt","==",null),Iv("optIn","==",!0)),n=(await sy(e,{subtotal:qv("subtotal"),gross:qv("total"),ordersCount:Wv()})).data(),r=n.subtotal||0,o=n.gross||0;c({ordersCount:n.ordersCount||0,subtotal:r,gross:o})})()},[t]),(0,Et.jsxs)("div",{className:"admin-wrapper",children:[(0,Et.jsx)("div",{className:"loading-screen",style:{display:r?"block":"none"}}),(0,Et.jsx)(za,{}),(0,Et.jsx)(Va,{}),(0,Et.jsx)("div",{className:"admin-main-panel",children:(0,Et.jsx)("div",{className:"card",children:(0,Et.jsxs)("div",{className:"card-body",children:[(0,Et.jsx)("button",{className:"btn btn-light mb-3",onClick:()=>n("/shops"),children:"\u2190 Back to Shops"}),s&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("h3",{style:{marginTop:0},children:s.shopName}),(0,Et.jsxs)("p",{children:[(0,Et.jsx)("strong",{children:"Domain:"})," ",s.shopLink||s.id]}),(0,Et.jsxs)("p",{children:[(0,Et.jsx)("strong",{children:"Status:"})," ",(0,Et.jsx)("span",{style:{color:"black"},className:"badge ".concat(s.active?"badge-success":"badge-secondary"),children:s.active?"Active":"Inactive"})]}),(0,Et.jsxs)("div",{className:"row",style:{marginTop:20},children:[(0,Et.jsx)("div",{className:"col-md-3",children:(0,Et.jsx)("div",{className:"card text-center",children:(0,Et.jsxs)("div",{className:"card-body",children:[(0,Et.jsx)("h5",{children:"Orders"}),(0,Et.jsx)("p",{style:{fontSize:24,margin:0},children:l.ordersCount}),(0,Et.jsx)("button",{type:"button",onClick:()=>{n("/shops/".concat(encodeURIComponent(t),"/orders"),{replace:!1})},className:"btn btn-dark",children:"View All"})]})})}),(0,Et.jsx)("div",{className:"col-md-3",children:(0,Et.jsx)("div",{className:"card text-center",children:(0,Et.jsxs)("div",{className:"card-body",children:[(0,Et.jsx)("h5",{children:"Subtotal"}),(0,Et.jsx)("p",{style:{fontSize:24,margin:0},children:R1(l.subtotal)}),(0,Et.jsxs)("small",{children:["Net: ",R1(l.gmvNet)]})]})})}),(0,Et.jsx)("div",{className:"col-md-3",children:(0,Et.jsx)("div",{className:"card text-center",children:(0,Et.jsxs)("div",{className:"card-body",children:[(0,Et.jsx)("h5",{children:"Gross Collected"}),(0,Et.jsx)("p",{style:{fontSize:24,margin:0},children:R1(l.gross)}),(0,Et.jsxs)("small",{children:["Net: ",R1(l.grossNet)]})]})})})]})]}),!r&&!s&&(0,Et.jsx)("p",{children:"Shop not found."})]})})})]})},L1=e=>"$".concat(Number(e||0).toFixed(2)),z1=e=>{if(!e)return"";const t=null!==e&&void 0!==e&&e.seconds?new Date(1e3*e.seconds):new Date(e);return isNaN(t.getTime())?"":t.toLocaleString()},B1=(e,t)=>{const n=[];for(let r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n},U1="https://ent-guns-supporters-corrections.trycloudflare.com".replace(/\/$/,""),V1=U1?"".concat(U1,"/api/credit-winners"):"/api/credit-winners";async function H1(){const e=cy.currentUser;if(!e)throw new Error("You must be signed in to perform this action.");return e.getIdToken()}const q1=function(){const{shopId:t}=de(),n=ue();(0,e.useEffect)(()=>{t||n("/setupshop",{replace:!0})},[t,n]);const[r,o]=(0,e.useState)(!0),[s,a]=(0,e.useState)(null),l=(0,e.useMemo)(()=>t?Ug(uy,"shops",t):null,[t]);(0,e.useEffect)(()=>{if(!l)return;o(!0);const e=ry(l,e=>{if(!e.exists())return a(null),o(!1),void n("/setupshop",{replace:!0});a((0,i.A)({id:e.id},e.data())),o(!1)},()=>o(!1));return()=>e()},[l,n]);const[c,u]=(0,e.useState)([]),[d,h]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!1),[m,g]=(0,e.useState)([]),[v,y]=(0,e.useState)(null),b=(0,e.useMemo)(()=>t?Bg(uy,"shops",t,"orders"):null,[t]),[w,x]=(0,e.useState)("active"),[k,_]=(0,e.useState)(""),[C,S]=(0,e.useState)(""),E=(0,e.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!b)return null;let t=Nv(b,Iv("optIn","==",!0),Iv("financialStatus","==","PAID"),Mv("createdAt","desc"),(Gl("limit",n=50),Rv._create("limit",n,"F")));var n;"excluded"===w&&(t=Nv(t,Iv("excluded","==",!0)));const r=(o=k)?new Date("".concat(o,"T00:00:00.000Z")).toISOString():null;var o;const i=(e=>e?new Date("".concat(e,"T23:59:59.999Z")).toISOString():null)(C);return r&&(t=Nv(t,Iv("createdAt",">=",r))),i&&(t=Nv(t,Iv("createdAt","<=",i))),e&&(t=Nv(t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fv._create("startAfter",t,!1)}(e))),t},[b,k,C,w]),T=(0,e.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&b){h(!0);try{const t=E(e),r=await Zv(t),o=r.docs.map(e=>(0,i.A)((0,i.A)({id:e.id},e.data()),{},{_snap:e})),s="active"===w?o.filter(e=>!0!==e.excluded):o;u(e=>{const t=new Map(e.filter(e=>e._selected).map(e=>[e.id,!0]));return s.map(e=>t.has(e.id)?(0,i.A)((0,i.A)({},e),{},{_selected:!0}):e)});const a=r.docs[r.docs.length-1]||null;y(a),f(!!a&&50===r.docs.length),n&&e&&g(t=>[...t,e])}catch(G1){console.error("orders fetch error",G1)}finally{h(!1)}}},[t,b,E,w]);(0,e.useEffect)(()=>{g([]),y(null),t&&T(null,!1)},[t,w,T]),(0,e.useEffect)(()=>{g([]),y(null),t&&T(null,!1)},[t,k,C,T]);const A=c.filter(e=>!e.credited&&!e.excluded),D=A.length>0&&A.every(e=>!!e._selected),N=c.filter(e=>e._selected&&!e.credited&&!e.excluded),O=N.length>0,I=N.reduce((e,t)=>{var n,r;return e+Number(null!==(n=null!==(r=t.currentSubtotal)&&void 0!==r?r:t.subtotal)&&void 0!==n?n:0)},0),[P,j]=(0,e.useState)(!1),[M,R]=(0,e.useState)(!1),[F,L]=(0,e.useState)({scanned:0,sent:0,failures:0}),z=(0,e.useCallback)(async()=>{const e=[];let t=null;for(let n=0;n<2e3;n++){const n=E(t),r=await Zv(n),o=r.docs.map(e=>(0,i.A)({id:e.id},e.data()));e.push(..."active"===w?o.filter(e=>!0!==e.excluded):o);const s=r.docs[r.docs.length-1]||null;if(!s||r.docs.length<50)break;t=s,L(t=>(0,i.A)((0,i.A)({},t),{},{scanned:e.length}))}return e.filter(e=>!0!==e.credited&&!0!==e.excluded)},[E,w]),[B,U]=(0,e.useState)(null),[V,H]=(0,e.useState)(!1);return(0,Et.jsxs)("div",{className:"admin-wrapper",children:[(0,Et.jsx)("div",{className:"loading-screen",style:{display:r?"block":"none"}}),(0,Et.jsx)(za,{}),(0,Et.jsx)(Va,{}),(0,Et.jsx)("div",{className:"admin-main-panel",children:(0,Et.jsx)("div",{className:"card",children:(0,Et.jsxs)("div",{className:"card-body",children:[(0,Et.jsx)("button",{className:"btn btn-light mb-3",onClick:()=>n("/shops"),children:"\u2190 Back to Shops"}),s&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("h3",{style:{marginTop:0},children:s.shopName}),(0,Et.jsxs)("p",{children:[(0,Et.jsx)("strong",{children:"Domain:"})," ",s.shopLink||s.id]}),(0,Et.jsxs)("p",{children:[(0,Et.jsx)("strong",{children:"Status:"})," ",(0,Et.jsx)("span",{className:"badge ".concat(s.active?"badge-success":"badge-secondary"),children:s.active?"Active":"Inactive"})]}),(0,Et.jsx)("div",{className:"d-flex align-items-center mb-3",children:(0,Et.jsxs)("ul",{className:"nav nav-tabs",children:[(0,Et.jsx)("li",{className:"nav-item",children:(0,Et.jsx)("button",{className:"nav-link ".concat("active"===w?"active":""),onClick:()=>{x("active"),g([]),y(null),T(null,!1)},children:"Active"})}),(0,Et.jsx)("li",{className:"nav-item",children:(0,Et.jsx)("button",{className:"nav-link ".concat("excluded"===w?"active":""),onClick:()=>{x("excluded"),g([]),y(null),T(null,!1)},children:"Excluded"})})]})}),(0,Et.jsxs)("div",{className:"d-flex flex-wrap align-items-end gap-2 mb-3",children:[(0,Et.jsxs)("div",{className:"me-3",children:[(0,Et.jsx)("label",{className:"form-label mb-1",children:(0,Et.jsx)("strong",{children:"From"})}),(0,Et.jsx)("input",{type:"date",className:"form-control",value:k,onChange:e=>_(e.target.value),max:C||void 0})]}),(0,Et.jsxs)("div",{className:"me-3",children:[(0,Et.jsx)("label",{className:"form-label mb-1",children:(0,Et.jsx)("strong",{children:"To"})}),(0,Et.jsx)("input",{type:"date",className:"form-control",value:C,onChange:e=>S(e.target.value),min:k||void 0})]}),(0,Et.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>{_(""),S("")},title:"Clear date filters",children:"Clear dates"}),(0,Et.jsxs)("div",{className:"ms-auto",children:[(0,Et.jsx)("button",{className:"btn btn-outline-secondary btn-sm me-2",onClick:()=>{if(void 0===(m[m.length-1]||null))return;const e=m.slice(0,-1);g(e);const t=e[e.length-1]||null;T(t,!1)},disabled:0===m.length||d,children:"Prev"}),(0,Et.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>{p&&v&&T(v,!0)},disabled:!p||d,children:"Next"})]})]}),(0,Et.jsx)("div",{className:"table-responsive",children:(0,Et.jsxs)("table",{className:"table table-striped table-hover",children:[(0,Et.jsx)("thead",{children:(0,Et.jsxs)("tr",{children:[(0,Et.jsx)("th",{style:{width:36},children:(0,Et.jsx)("input",{type:"checkbox",checked:D,onChange:e=>{return t=e.target.checked,void u(e=>e.map(e=>e.credited||e.excluded?e:(0,i.A)((0,i.A)({},e),{},{_selected:!!t})));var t},"aria-label":"Select all on this page"})}),(0,Et.jsx)("th",{style:{whiteSpace:"nowrap"},children:"Created"}),(0,Et.jsx)("th",{style:{whiteSpace:"nowrap"},children:"Order"}),(0,Et.jsx)("th",{style:{whiteSpace:"nowrap"},children:"Email"}),(0,Et.jsx)("th",{style:{whiteSpace:"nowrap"},className:"text-end",children:"Subtotal"}),(0,Et.jsx)("th",{style:{whiteSpace:"nowrap"},className:"text-end",children:"Total"}),(0,Et.jsx)("th",{style:{whiteSpace:"nowrap"},className:"text-center",children:"Credited"}),(0,Et.jsx)("th",{style:{whiteSpace:"nowrap"},className:"text-center",children:"Excluded"}),(0,Et.jsx)("th",{style:{whiteSpace:"nowrap"},className:"text-center",children:"Cancelled"}),(0,Et.jsx)("th",{style:{whiteSpace:"nowrap"},className:"text-end",children:"Actions"})]})}),(0,Et.jsxs)("tbody",{children:[0===c.length&&!d&&(0,Et.jsx)("tr",{children:(0,Et.jsx)("td",{colSpan:10,className:"text-center text-muted",children:"No orders match this filter."})}),c.map(e=>{var n,r,o,s,a;const l=e.email||e.customerEmail||(null===(n=e.customer)||void 0===n?void 0:n.email)||"",c=null!==(r=null!==(o=e.currentSubtotal)&&void 0!==o?o:e.subtotal)&&void 0!==r?r:0,d=null!==(s=null!==(a=e.currentTotal)&&void 0!==a?a:e.total)&&void 0!==s?s:0,h=e.createdAt||e.orderCreatedAt||null,p=e.name||e.orderName||e.id;return(0,Et.jsxs)("tr",{className:e.excluded?"text-muted row-cancelled":e.credited?"text-muted row-credited":"",children:[(0,Et.jsx)("td",{children:(0,Et.jsx)("input",{type:"checkbox",checked:!!e._selected,disabled:!!e.credited||!!e.excluded,title:e.credited?"Already credited":e.excluded?"Excluded":"Select order ".concat(p),onChange:t=>{const n=t.target.checked;e.credited||e.excluded||u(t=>t.map(t=>t.id===e.id?(0,i.A)((0,i.A)({},t),{},{_selected:n}):t))},"aria-label":"Select order ".concat(p)})}),(0,Et.jsx)("td",{children:z1(h)}),(0,Et.jsx)("td",{children:p}),(0,Et.jsx)("td",{children:l}),(0,Et.jsx)("td",{className:"text-end",children:L1(c)}),(0,Et.jsx)("td",{className:"text-end",children:L1(d)}),(0,Et.jsx)("td",{className:"text-center avoid-strike",children:e.credited?(0,Et.jsx)("span",{style:{color:"black"},className:"badge badge-success",children:"Yes"}):(0,Et.jsx)("span",{style:{color:"black"},className:"badge badge-secondary",children:"No"})}),(0,Et.jsx)("td",{className:"text-center avoid-strike",children:e.excluded?(0,Et.jsx)("span",{style:{color:"black"},className:"badge badge-warning",children:"Yes"}):(0,Et.jsx)("span",{style:{color:"black"},className:"badge badge-secondary",children:"No"})}),(0,Et.jsx)("td",{className:"text-center avoid-strike",children:e.cancelledAt?(0,Et.jsx)("span",{style:{color:"black"},className:"badge badge-danger",children:"Yes"}):(0,Et.jsx)("span",{style:{color:"black"},className:"badge badge-secondary",children:"No"})}),(0,Et.jsx)("td",{className:"text-end avoid-strike",children:"excluded"===w?(0,Et.jsx)("button",{className:"btn btn-outline-secondary btn-sm",disabled:B===e.id,title:"Restore to Active list",onClick:()=>(async e=>{if(!t||null===e||void 0===e||!e.id)return;U(e.id);const n=e;u(t=>{const n=t.map(t=>t.id===e.id?(0,i.A)((0,i.A)({},t),{},{excluded:!1,excludedAt:null}):t);return"excluded"===w?n.filter(t=>t.id!==e.id):n});try{await ty(Ug(uy,"shops",t,"orders",e.id),{excluded:!1,excludedAt:null})}catch(G1){u(e=>e.map(e=>e.id===n.id?(0,i.A)((0,i.A)({},e),{},{excluded:n.excluded,excludedAt:n.excludedAt}):e)),alert("Restore failed: ".concat(G1.message||String(G1)))}finally{U(null)}})(e),children:B===e.id?"Restoring\u2026":"Restore"}):(0,Et.jsx)("button",{className:"btn btn-outline-danger btn-sm",disabled:!!e.credited||B===e.id,title:e.credited?"Already credited \u2014 cannot exclude":"Exclude from crediting",onClick:()=>(async e=>{if(!t||null===e||void 0===e||!e.id)return;if(e.credited)return void alert("This order was already credited and cannot be excluded here.");const n=e.name||e.orderName||e.id;if(!window.confirm("Exclude order ".concat(n," from SQWAD crediting?")))return;U(e.id);const r=(new Date).toISOString(),o=e;u(t=>{const n=t.map(t=>t.id===e.id?(0,i.A)((0,i.A)({},t),{},{excluded:!0,excludedAt:r,_selected:!1}):t);return"active"===w?n.filter(t=>t.id!==e.id):n});try{await ty(Ug(uy,"shops",t,"orders",e.id),{excluded:!0,excludedAt:r})}catch(G1){u(e=>{const t=e.map(e=>e.id===o.id?(0,i.A)((0,i.A)({},e),{},{excluded:o.excluded,excludedAt:o.excludedAt}):e),n=t.some(e=>e.id===o.id);return n?t:[o,...t]}),alert("Exclude failed: ".concat(G1.message||String(G1)))}finally{U(null)}})(e),children:B===e.id?"Excluding\u2026":"Exclude"})})]},e.id)})]})]})}),(0,Et.jsxs)("div",{className:"d-flex flex-wrap gap-2 align-items-center mt-3",children:["active"===w&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsx)("button",{className:"btn btn-primary",disabled:!O||P,onClick:async()=>{if(!O||!t)return;j(!0);const e=new Set(N.map(e=>e.id));u(t=>t.map(t=>e.has(t.id)?(0,i.A)((0,i.A)({},t),{},{credited:!0,_selected:!1}):t));try{var n;const e=N.map(e=>{var t,n,r;return{orderId:e.id,email:e.email||e.customerEmail||(null===(t=e.customer)||void 0===t?void 0:t.email)||"",subtotal:Number(null!==(n=null!==(r=e.currentSubtotal)&&void 0!==r?r:e.subtotal)&&void 0!==n?n:0),currencyCode:e.currencyCode||e.currentSubtotalCurrency||e.currency||"USD"}}),r=new Set(N.map(e=>{var t;return e.customerId||(null===(t=e.customer)||void 0===t?void 0:t.id)}).filter(Boolean)),o=1===r.size?[...r][0]:void 0,i=await H1(),s=await fetch(V1,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)},body:JSON.stringify(o?{customerIdSent:o,orders:e,shopId:t}:{orders:e,shopId:t})}),a=await s.json();if(!s.ok)throw new Error((null===a||void 0===a?void 0:a.error)||"Failed to grant credit");alert("Granted credit for ".concat(a.processed," order(s).").concat(null!==(n=a.failures)&&void 0!==n&&n.length?"\nFailures: ".concat(a.failures.length):""))}catch(G1){u(t=>t.map(t=>e.has(t.id)?(0,i.A)((0,i.A)({},t),{},{credited:!1}):t)),console.error(G1),alert("Grant failed: ".concat(G1.message||String(G1)))}finally{g([]),y(null),T(null,!1),j(!1)}},title:O?"Grant store credit to selected orders":"Select at least one order",children:P?"Granting\u2026":"Grant credit"}),(0,Et.jsx)("button",{className:"btn btn-outline-danger",disabled:0===N.length||V,onClick:async()=>{if(!t||0===N.length)return;const e=N.length;if(!window.confirm("Exclude ".concat(e," selected order(s) from SQWAD crediting?")))return;H(!0);const n=(new Date).toISOString(),r=new Set(N.map(e=>e.id));u(e=>{let t=e.map(e=>r.has(e.id)?(0,i.A)((0,i.A)({},e),{},{excluded:!0,excludedAt:n,_selected:!1}):e);return"active"===w&&(t=t.filter(e=>!r.has(e.id))),t});try{for(const e of B1(N,50))await Promise.all(e.map(e=>ty(Ug(uy,"shops",t,"orders",e.id),{excluded:!0,excludedAt:n})))}catch(G1){console.error(G1),alert("Bulk exclude failed: ".concat(G1.message||String(G1))),g([]),y(null),await T(null,!1)}finally{H(!1)}},title:N.length?"Exclude all selected orders from crediting":"Select at least one order",style:{marginLeft:8},children:V?"Excluding selected\u2026":"Exclude selected"}),(0,Et.jsx)("button",{className:"btn btn-danger",disabled:M||d,onClick:async()=>{if(!t||M||"active"!==w)return;if(window.confirm("This will credit ALL non-credited, non-excluded, opt-in, PAID orders for this shop (within the current date filters).\n\nProceed?")){R(!0),L({scanned:0,sent:0,failures:0});try{const n=await z();if(0===n.length)return alert("No eligible non-credited orders found."),void R(!1);const r=new Set(n.map(e=>e.id));u(e=>e.map(e=>r.has(e.id)?(0,i.A)((0,i.A)({},e),{},{credited:!0,_selected:!1}):e));const o=n.map(e=>{var t,n,r;return{orderId:e.id,email:e.email||e.customerEmail||(null===(t=e.customer)||void 0===t?void 0:t.email)||"",subtotal:Number(null!==(n=null!==(r=e.currentSubtotal)&&void 0!==r?r:e.subtotal)&&void 0!==n?n:0),currencyCode:e.currencyCode||e.currentSubtotalCurrency||e.currency||"USD"}});let s=0,a=0;const l=await H1();for(const c of B1(o,75)){const n=await fetch(V1,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)},body:JSON.stringify({orders:c,shopId:t})}),r=await n.json();var e;if(n.ok)s+=Number((null===r||void 0===r?void 0:r.processed)||0),a+=Number((null===r||void 0===r||null===(e=r.failures)||void 0===e?void 0:e.length)||0);else a+=c.length;L(e=>(0,i.A)((0,i.A)({},e),{},{sent:s,failures:a}))}alert("Done.\nProcessed: ".concat(s,"\nFailures: ").concat(a))}catch(G1){console.error(G1),alert("Grant-all failed: ".concat(G1.message||String(G1)))}finally{g([]),y(null),T(null,!1),R(!1)}}},title:"Grant store credit to all non-credited, non-excluded orders (respects date filters)",style:{marginLeft:8},children:M?"Granting ALL\u2026 scanned ".concat(F.scanned," / sent ").concat(F.sent," (failures ").concat(F.failures,")"):"Grant credit to ALL (non-credited)"})]}),"excluded"===w&&(0,Et.jsx)("button",{className:"btn btn-outline-secondary",disabled:0===c.filter(e=>e._selected&&!0===e.excluded).length||V,onClick:async()=>{const e=c.filter(e=>e._selected&&!0===e.excluded);if(!t||0===e.length)return;if(!window.confirm("Restore ".concat(e.length," selected order(s) to Active?")))return;H(!0);const n=new Set(e.map(e=>e.id));u(e=>{let t=e.map(e=>n.has(e.id)?(0,i.A)((0,i.A)({},e),{},{excluded:!1,excludedAt:null,_selected:!1}):e);return"excluded"===w&&(t=t.filter(e=>!n.has(e.id))),t});try{for(const n of B1(e,50))await Promise.all(n.map(e=>ty(Ug(uy,"shops",t,"orders",e.id),{excluded:!1,excludedAt:null})))}catch(G1){console.error(G1),alert("Bulk restore failed: ".concat(G1.message||String(G1))),g([]),y(null),await T(null,!1)}finally{H(!1)}},title:"Restore selected orders to Active",children:V?"Restoring\u2026":"Restore selected"}),(0,Et.jsxs)("div",{className:"ms-auto d-flex align-items-center",children:["active"===w&&(0,Et.jsxs)("small",{className:"text-muted me-3",children:["Selected: ",N.length," \u2022 Preview subtotal sum: ",L1(I)]}),(0,Et.jsxs)("small",{className:"text-muted",children:["Showing ",c.length," ",1===c.length?"order":"orders"]})]})]})]}),!r&&!s&&(0,Et.jsx)("p",{children:"Shop not found."})]})})})]})};function W1(e){let{authenticated:t,children:n}=e;return t?n:(0,Et.jsx)(Ae,{to:"/adminlogin",replace:!0})}function Y1(){const[t,n]=(0,e.useState)(!1),[r,o]=(0,e.useState)(null),[i,s]=(0,e.useState)(!1),[a,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(!0),d=(0,e.useCallback)(async e=>{if(!e)return o(null),n(!1),s(!1),l(!1),void u(!1);try{const t=await e.getIdTokenResult(),r=!!(t.claims||{}).scoreboard,i="sqwadhq.com"===(e.email||"").slice((e.email||"").lastIndexOf("@")+1).toLowerCase();o(e),n(!0),s(r),l(i)}catch(t){console.error("Error fetching custom claims:",t),o(e),n(!0)}finally{u(!1)}},[]);return(0,e.useEffect)(()=>{const e=fs(cy,e=>{u(!0),d(e)});return()=>e()},[d]),c?(0,Et.jsx)(At,{loading:!0}):(0,Et.jsx)(ut,{children:(0,Et.jsxs)(Oe,{children:[(0,Et.jsx)(De,{path:"/adminlogin",element:(0,Et.jsx)(my,{setCurrentUser:d})}),(0,Et.jsx)(De,{path:"/admin",element:(0,Et.jsx)(W1,{authenticated:t,children:(0,Et.jsx)(dy,{isSqwadEmployee:a})})}),(0,Et.jsx)(De,{path:"/setupgame",element:(0,Et.jsx)(W1,{authenticated:t,children:(0,Et.jsx)(_1,{currentUser:r})})}),(0,Et.jsx)(De,{path:"/setupquestions",element:(0,Et.jsx)(W1,{authenticated:t,children:(0,Et.jsx)(pG,{})})}),(0,Et.jsx)(De,{path:"/setuptickets",element:(0,Et.jsx)(W1,{authenticated:t,children:(0,Et.jsx)(VK,{})})}),(0,Et.jsx)(De,{path:"/setupteamvariables",element:(0,Et.jsx)(W1,{authenticated:t,children:(0,Et.jsx)(S1,{})})}),(0,Et.jsx)(De,{path:"/setuprulesandregs",element:(0,Et.jsx)(W1,{authenticated:t,children:(0,Et.jsx)(T1,{})})}),(0,Et.jsx)(De,{path:"/setupticketemail",element:(0,Et.jsx)(W1,{authenticated:t,children:(0,Et.jsx)(D1,{})})}),(0,Et.jsx)(De,{path:"/setupshop",element:(0,Et.jsx)(W1,{authenticated:t,children:(0,Et.jsx)(M1,{})})}),(0,Et.jsx)(De,{path:"/shops/:shopId",element:(0,Et.jsx)(W1,{authenticated:t,children:(0,Et.jsx)(F1,{})})}),(0,Et.jsx)(De,{path:"/shops/:shopId/orders",element:(0,Et.jsx)(W1,{authenticated:t,children:(0,Et.jsx)(q1,{})})}),(0,Et.jsx)(De,{path:"/setuploginvariables",element:(0,Et.jsx)(W1,{authenticated:t,children:(0,Et.jsx)(P1,{})})}),(0,Et.jsx)(De,{path:"*",element:(0,Et.jsx)(Ae,{to:"/adminlogin",replace:!0})})]})})}const K1=document.getElementById("root");(0,r.createRoot)(K1).render((0,Et.jsx)(Y1,{})),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(e){for(let t of e)t.unregister()})})()})();
//# sourceMappingURL=main.d2e0d911.js.map